2018-03-07 18:06:36,036 globalvar.py[line: 23] INFO: #####################正在初始化全局配置#####################
2018-03-07 18:06:36,089 globalvar.py[line: 24] INFO: 正在选择数据库运行环境和站点运行环境
2018-03-07 18:06:36,090 globalvar.py[line: 34] INFO: 在测试环境执行测试，正在获取测试环境的web site
2018-03-07 18:06:36,105 globalvar.py[line: 45] INFO: 在测试环境执行测试，正在获取测试环境的数据库
2018-03-07 18:06:36,243 globalvar.py[line: 55] INFO: 正在进行ftp配置
2018-03-07 18:06:36,289 globalvar.py[line: 62] INFO: 正在获取运行模式
2018-03-07 18:06:36,290 globalvar.py[line: 66] INFO: 运行模式为:<module 'publicpkg.runmode' from 'D:\\python\\webautotest\\publicpkg\\runmode.py'>
2018-03-07 18:06:36,290 globalvar.py[line: 69] INFO: 测试计划配置:[3]
2018-03-07 18:06:36,290 globalvar.py[line: 72] INFO: 全局初始化用例配置:[123]
2018-03-07 18:06:36,290 globalvar.py[line: 75] INFO: 正在获取浏览器配置
2018-03-07 18:06:36,291 globalvar.py[line: 79] INFO: 获取需要进行测试的浏览器有：['Chrome']
2018-03-07 18:06:36,291 globalvar.py[line: 82] INFO: 正在初始化其它工具对象
2018-03-07 18:06:36,291 globalvar.py[line: 86] INFO: 正在进行截图基路径配置
2018-03-07 18:06:36,292 globalvar.py[line: 91] INFO: 截图报存基路径为：D:\python\webautotest\screentshot\
2018-03-07 18:06:36,292 globalvar.py[line: 95] INFO: 正在进行测试报告配置
2018-03-07 18:06:36,292 globalvar.py[line: 96] INFO: --1、读取测试报告路径及文件名
2018-03-07 18:06:36,292 globalvar.py[line: 101] INFO: --2、构造测试报告
2018-03-07 18:06:36,292 globalvar.py[line: 104] INFO: --3、设置报告生成路径
2018-03-07 18:06:36,292 globalvar.py[line: 107] INFO: #####################初始化全局配置完毕#####################
2018-03-07 18:06:36,358 main.py[line: 61] INFO: ####################### 开始测试 #######################
2018-03-07 18:06:44,110 test_plan.py[line: 28] INFO: 正在获取本次测试需要执行的测试用列ID列表，测试计划名称
2018-03-07 18:06:44,110 database.py[line: 88] INFO: query：SELECT testcase_list, test_round_name FROM testcase_runround WHERE id = %s   data：(3,)
2018-03-07 18:06:44,114 test_plan.py[line: 44] INFO: 获取到的的测试用例id列表为: [13, 18]
2018-03-07 18:06:44,114 test_plan.py[line: 48] INFO: ####################### 开始运行测试计划 #######################
2018-03-07 18:06:44,114 test_case.py[line: 17] INFO: 正在构造并初始化测试用例对象[id=13]
2018-03-07 18:06:44,114 test_case.py[line: 26] INFO: 初始测试用例完毕
2018-03-07 18:06:44,114 test_case.py[line: 17] INFO: 正在构造并初始化测试用例对象[id=18]
2018-03-07 18:06:44,114 test_case.py[line: 26] INFO: 初始测试用例完毕
2018-03-07 18:06:44,116 test_case.py[line: 70] INFO: 正在获取测试用例所有测试步骤
2018-03-07 18:06:44,116 database.py[line: 106] INFO: query：(SELECT a.StepOrder AS StepOrder,c.PageName AS PageName,b.ElementName AS ElementName,b.ElementSelector AS ElementSelector,b.ElementSelector02 AS ElementSelector02,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,a.compid AS compid,a.compFolderid AS comFolderid,'' AS comName FROM testcases_steps AS a, page_elements AS b,pagesobject AS c WHERE a.TestcaseID = %s AND a.ElementId = b.Id AND b.PageId = c.Id)UNION ALL(SELECT a.steporder AS steporder,'' AS PageName,'' AS ElementSelector,'' AS ElementSelector02,'' AS ElementName,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,a.compid AS compid,a.compFolderid AS comFolderid,tc.test_name AS comName FROM testcases_steps AS a, testcases AS tc WHERE a.TestcaseID = %s AND a.compid = tc.id)UNION ALL(SELECT a.steporder AS steporder,'' AS PageName,'' AS ElementSelector,'' AS ElementSelector02,'' AS ElementName,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,'' AS compid,'' AS comFolderid,'' AS comName FROM testcases_steps AS a WHERE a.TestcaseID = %s AND NOT ISNULL(a.stepOrder)AND NOT ISNULL(a.Command) AND ISNULL(compid) AND ElementId='')ORDER BY steporder  data：(13, 13, 13)
2018-03-07 18:06:44,120 test_case.py[line: 123] INFO: 获取的测试步骤为： [(1, '', '', '', '', '断言', '深圳市金斧子网络科技有限公司-ERP', '', '', '', ''), (2, '用户登录', '用户名', 'xpath=//*[@name=&quot;username&quot;]', '', '输入', 'defang2', '', None, None, ''), (3, '用户登录', '密码', 'xpath=//*[@name=&quot;password&quot;]', '', '输入', '123', '', None, None, ''), (4, '用户登录', '登录', 'xpath=//*[@class=&quot;submit_wrap&quot;]', '', '点击', '', '', None, None, ''), (5, '', '', '', '', '等待', '3', '', '', '', ''), (6, '', '', '', '', '断言', '德芳客服', '', '', '', '')]
2018-03-07 18:06:44,121 test_case.py[line: 41] INFO: 开始执行测试步骤
2018-03-07 18:06:44,121 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：1, 操作：断言， 输入参数：深圳市金斧子网络科技有限公司-ERP，预期结果：）
2018-03-07 18:06:44,121 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-07 18:06:44,121 test_case_step.py[line: 88] INFO: 执行函数：断言
2018-03-07 18:06:44,121 test_case_step.py[line: 91] INFO: 正在对输入参数:深圳市金斧子网络科技有限公司-ERP 进行参数处理
2018-03-07 18:06:44,121 test_case_step.py[line: 115] INFO: 断言的标题为:深圳市金斧子网络科技有限公司-ERP
2018-03-07 18:06:44,129 seleniumutil.py[line: 151] INFO: 断言信息为：深圳市金斧子网络科技有限公司-ERP
2018-03-07 18:06:44,130 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-07 18:06:44,130 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 13, 1520417204, 1, '', '断言', '深圳市金斧子网络科技有限公司-ERP', '', 'Pass', '断言成功', 'Chrome', '2018-03-07 18:6:44', '')
2018-03-07 18:06:44,134 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-07 18:06:44,134 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：用户名, 步序：2, 操作：输入， 输入参数：defang2，预期结果：）
2018-03-07 18:06:44,134 test_case_step.py[line: 38] INFO: 正在执行最普通的元素操作
2018-03-07 18:06:44,134 test_case_step.py[line: 42] INFO: 正在对选择器：selector1: xpath=//*[@name=&quot;username&quot;]，selector2:  做数据转换处理
2018-03-07 18:06:44,134 test_case_step.py[line: 45] INFO: 转换后的选择器：selector1: xpath=//*[@name="username"]，selector2: 
2018-03-07 18:06:44,134 test_case_step.py[line: 47] INFO: 开始对步骤中的元素操作进行操作
2018-03-07 18:06:44,134 test_case_step.py[line: 127] INFO: 操作：输入
2018-03-07 18:06:44,135 test_case_step.py[line: 129] INFO: 正在对输入参数:defang2 进行参数处理
2018-03-07 18:06:44,135 test_case_step.py[line: 133] INFO: 处理后的输入参数为:['defang2'] 
2018-03-07 18:06:44,135 test_case_step.py[line: 202] INFO: 开始根据元素定位器：xpath=//*[@name="username"] 自定位元素
2018-03-07 18:06:44,135 test_case_step.py[line: 215] INFO: find_element_by_xpath：//*[@name="username"]
2018-03-07 18:06:44,175 test_case_step.py[line: 188] INFO: 找到元素：<selenium.webdriver.remote.webelement.WebElement (session="d3d83b8e76ea55046d269931c33b67ff", element="0.4949749490431252-1")>
2018-03-07 18:06:44,257 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-07 18:06:44,257 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 13, 1520417204, 2, '用户名', '输入', 'defang2', '', 'Pass', '输入数据成功', 'Chrome', '2018-03-07 18:6:44', '')
2018-03-07 18:06:44,260 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-07 18:06:44,260 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：密码, 步序：3, 操作：输入， 输入参数：123，预期结果：）
2018-03-07 18:06:44,261 test_case_step.py[line: 38] INFO: 正在执行最普通的元素操作
2018-03-07 18:06:44,261 test_case_step.py[line: 42] INFO: 正在对选择器：selector1: xpath=//*[@name=&quot;password&quot;]，selector2:  做数据转换处理
2018-03-07 18:06:44,261 test_case_step.py[line: 45] INFO: 转换后的选择器：selector1: xpath=//*[@name="password"]，selector2: 
2018-03-07 18:06:44,261 test_case_step.py[line: 47] INFO: 开始对步骤中的元素操作进行操作
2018-03-07 18:06:44,261 test_case_step.py[line: 127] INFO: 操作：输入
2018-03-07 18:06:44,261 test_case_step.py[line: 129] INFO: 正在对输入参数:123 进行参数处理
2018-03-07 18:06:44,261 test_case_step.py[line: 133] INFO: 处理后的输入参数为:['123'] 
2018-03-07 18:06:44,261 test_case_step.py[line: 202] INFO: 开始根据元素定位器：xpath=//*[@name="password"] 自定位元素
2018-03-07 18:06:44,261 test_case_step.py[line: 215] INFO: find_element_by_xpath：//*[@name="password"]
2018-03-07 18:06:44,280 test_case_step.py[line: 188] INFO: 找到元素：<selenium.webdriver.remote.webelement.WebElement (session="d3d83b8e76ea55046d269931c33b67ff", element="0.4949749490431252-2")>
2018-03-07 18:06:44,398 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-07 18:06:44,398 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 13, 1520417204, 3, '密码', '输入', '123', '', 'Pass', '输入数据成功', 'Chrome', '2018-03-07 18:6:44', '')
2018-03-07 18:06:44,411 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-07 18:06:44,411 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：登录, 步序：4, 操作：点击， 输入参数：，预期结果：）
2018-03-07 18:06:44,411 test_case_step.py[line: 38] INFO: 正在执行最普通的元素操作
2018-03-07 18:06:44,411 test_case_step.py[line: 42] INFO: 正在对选择器：selector1: xpath=//*[@class=&quot;submit_wrap&quot;]，selector2:  做数据转换处理
2018-03-07 18:06:44,411 test_case_step.py[line: 45] INFO: 转换后的选择器：selector1: xpath=//*[@class="submit_wrap"]，selector2: 
2018-03-07 18:06:44,411 test_case_step.py[line: 47] INFO: 开始对步骤中的元素操作进行操作
2018-03-07 18:06:44,411 test_case_step.py[line: 127] INFO: 操作：点击
2018-03-07 18:06:44,412 test_case_step.py[line: 202] INFO: 开始根据元素定位器：xpath=//*[@class="submit_wrap"] 自定位元素
2018-03-07 18:06:44,412 test_case_step.py[line: 215] INFO: find_element_by_xpath：//*[@class="submit_wrap"]
2018-03-07 18:06:44,449 test_case_step.py[line: 188] INFO: 找到元素：<selenium.webdriver.remote.webelement.WebElement (session="d3d83b8e76ea55046d269931c33b67ff", element="0.4949749490431252-3")>
2018-03-07 18:06:45,360 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-07 18:06:45,360 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 13, 1520417204, 4, '登录', '点击', '', '', 'Pass', '点击成功', 'Chrome', '2018-03-07 18:6:44', '')
2018-03-07 18:06:45,365 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-07 18:06:45,365 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：5, 操作：等待， 输入参数：3，预期结果：）
2018-03-07 18:06:45,366 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-07 18:06:45,366 test_case_step.py[line: 88] INFO: 执行函数：等待
2018-03-07 18:06:45,366 test_case_step.py[line: 91] INFO: 正在对输入参数:3 进行参数处理
2018-03-07 18:06:45,366 test_case_step.py[line: 105] INFO: 等待3秒
2018-03-07 18:06:48,379 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-07 18:06:48,379 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 13, 1520417204, 5, '', '等待', '3', '', 'Pass', 'run success', 'Chrome', '2018-03-07 18:6:45', '')
2018-03-07 18:06:48,384 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-07 18:06:48,384 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：6, 操作：断言， 输入参数：德芳客服，预期结果：）
2018-03-07 18:06:48,384 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-07 18:06:48,384 test_case_step.py[line: 88] INFO: 执行函数：断言
2018-03-07 18:06:48,384 test_case_step.py[line: 91] INFO: 正在对输入参数:德芳客服 进行参数处理
2018-03-07 18:06:48,384 test_case_step.py[line: 115] INFO: 断言的标题为:德芳客服
2018-03-07 18:06:48,835 test_case_step.py[line: 272] INFO: 截图文件保存路径为：D:\python\webautotest\screentshot\tp3\tc13\tp3_tc13_step6_1520417204_20180307180648.png
2018-03-07 18:06:48,835 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-07 18:06:48,835 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 13, 1520417204, 6, '', '断言', '德芳客服', '', 'Fail', '断言失败', 'Chrome', '2018-03-07 18:6:48', 'ftp://10.1.2.88/tp3_tc13_step6_1520417204_20180307180648.png')
2018-03-07 18:06:48,847 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-07 18:06:48,847 test_case.py[line: 46] INFO: 用例[id：13]步骤[步序：6] 运行失败，停止运行用例
2018-03-07 18:06:48,847 test_case.py[line: 58] INFO: 测试步骤执行完毕，正在记录用例运行结果到测试用例运行报表
2018-03-07 18:06:48,847 database.py[line: 58] INFO: query：INSERT INTO testcase_reporter(runHistoryId, browserType, testcaseId, testplanId, runTime, runResult) VALUES(%s, %s, %s, %s, %s, %s)  data：(1520417204, 'Chrome', 13, 3, '2018-03-07 18:6:44', 'Fail')
2018-03-07 18:06:48,851 test_case.py[line: 70] INFO: 正在获取测试用例所有测试步骤
2018-03-07 18:06:48,851 database.py[line: 106] INFO: query：(SELECT a.StepOrder AS StepOrder,c.PageName AS PageName,b.ElementName AS ElementName,b.ElementSelector AS ElementSelector,b.ElementSelector02 AS ElementSelector02,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,a.compid AS compid,a.compFolderid AS comFolderid,'' AS comName FROM testcases_steps AS a, page_elements AS b,pagesobject AS c WHERE a.TestcaseID = %s AND a.ElementId = b.Id AND b.PageId = c.Id)UNION ALL(SELECT a.steporder AS steporder,'' AS PageName,'' AS ElementSelector,'' AS ElementSelector02,'' AS ElementName,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,a.compid AS compid,a.compFolderid AS comFolderid,tc.test_name AS comName FROM testcases_steps AS a, testcases AS tc WHERE a.TestcaseID = %s AND a.compid = tc.id)UNION ALL(SELECT a.steporder AS steporder,'' AS PageName,'' AS ElementSelector,'' AS ElementSelector02,'' AS ElementName,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,'' AS compid,'' AS comFolderid,'' AS comName FROM testcases_steps AS a WHERE a.TestcaseID = %s AND NOT ISNULL(a.stepOrder)AND NOT ISNULL(a.Command) AND ISNULL(compid) AND ElementId='')ORDER BY steporder  data：(18, 18, 18)
2018-03-07 18:06:48,855 test_case.py[line: 123] INFO: 获取的测试步骤为： [(1, '', '', '', '', '等待', '5', '', '', '', ''), (2, '', '', '', '', '切换入iframe', 'iframe89892232323', '', '', '', ''), (3, '审批流', '审批流的链接', 'xpath=html/body/div[1]/div/div/div[2]/div/div/div/div[2]/div/div[1]/ul/li[1]/div[1]', '', '点击', '', '', None, None, ''), (4, '', '', '', '', '切换到新的窗口', '', '', '', '', ''), (5, '', '', '', '', '等待', '5', '', '', '', ''), (6, '审批流', '审批流的同意按钮', 'xpath=//*[@id=&quot;btnAgree&quot;]', '', '点击', '', '', None, None, ''), (7, '', '', '', '', '切换入iframe', '//iframe[contains(@id,&quot;ligerwindow&quot;)]', '', '', '', ''), (8, '审批流', '填写意见的确定按钮', 'xpath=//*[@id=&quot;dataFormSave&quot;]', '', '点击', '', '', None, None, ''), (9, '', '', '', '', '等待', '5', '', '', '', ''), (10, '', '', '', '', '断言文本提示信息', '执行任务成功!', '', '', '', ''), (11, '', '', '', '', '等待', '5', '', '', '', ''), (12, '审批流', '同意的确定按钮', 'xpath=//*[@class=&quot;l-dialog-btn-inner&quot;]', '', '点击', '', '', None, None, '')]
2018-03-07 18:06:48,855 test_case.py[line: 41] INFO: 开始执行测试步骤
2018-03-07 18:06:48,855 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：1, 操作：等待， 输入参数：5，预期结果：）
2018-03-07 18:06:48,855 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-07 18:06:48,855 test_case_step.py[line: 88] INFO: 执行函数：等待
2018-03-07 18:06:48,855 test_case_step.py[line: 91] INFO: 正在对输入参数:5 进行参数处理
2018-03-07 18:06:48,855 test_case_step.py[line: 105] INFO: 等待5秒
2018-03-07 18:06:53,856 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-07 18:06:53,856 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 18, 1520417204, 1, '', '等待', '5', '', 'Pass', 'run success', 'Chrome', '2018-03-07 18:6:48', '')
2018-03-07 18:06:53,860 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-07 18:06:53,861 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：2, 操作：切换入iframe， 输入参数：iframe89892232323，预期结果：）
2018-03-07 18:06:53,861 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-07 18:06:53,861 test_case_step.py[line: 88] INFO: 执行函数：切换入iframe
2018-03-07 18:06:53,861 test_case_step.py[line: 91] INFO: 正在对输入参数:iframe89892232323 进行参数处理
2018-03-07 18:06:53,861 seleniumutil.py[line: 70] ERROR: 切换至frame（id/name/xpath = iframe89892232323）失败
2018-03-07 18:06:54,292 test_case_step.py[line: 272] INFO: 截图文件保存路径为：D:\python\webautotest\screentshot\tp3\tc18\tp3_tc18_step2_1520417204_20180307180653.png
2018-03-07 18:06:54,292 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-07 18:06:54,292 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 18, 1520417204, 2, '', '切换入iframe', 'iframe89892232323', '', 'Fail', AttributeError("'WebDriver' object has no attribute 'swith_to_frame'",), 'Chrome', '2018-03-07 18:6:53', 'ftp://10.1.2.88/tp3_tc18_step2_1520417204_20180307180653.png')
2018-03-07 18:06:54,294 database.py[line: 66] ERROR: 执行数据库插入操作失败：Failed processing format-parameters; Python 'attributeerror' cannot be converted to a MySQL type
2018-03-07 18:06:54,295 test_case_step.py[line: 81] ERROR: 记录到测试步骤结果报表失败 Failed processing format-parameters; Python 'attributeerror' cannot be converted to a MySQL type
2018-03-07 18:06:54,295 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-07 18:06:54,295 test_case.py[line: 46] INFO: 用例[id：18]步骤[步序：2] 运行失败，停止运行用例
2018-03-07 18:06:54,295 test_case.py[line: 58] INFO: 测试步骤执行完毕，正在记录用例运行结果到测试用例运行报表
2018-03-07 18:06:54,295 database.py[line: 58] INFO: query：INSERT INTO testcase_reporter(runHistoryId, browserType, testcaseId, testplanId, runTime, runResult) VALUES(%s, %s, %s, %s, %s, %s)  data：(1520417204, 'Chrome', 18, 3, '2018-03-07 18:6:48', 'Fail')
2018-03-07 18:06:54,299 test_plan.py[line: 65] INFO: ####################### 测试计划已运行完毕 #######################
2018-03-07 18:06:54,299 test_plan.py[line: 66] INFO: 正在统计测试计划执行的用例总数
2018-03-07 18:06:54,299 database.py[line: 88] INFO: query：SELECT count(testcaseId)  FROM testcase_reporter  WHERE runHistoryId = %s  data：(1520417204,)
2018-03-07 18:06:54,301 test_plan.py[line: 75] INFO: 正在统计测试计划执行成功的用例总数
2018-03-07 18:06:54,302 database.py[line: 88] INFO: query：SELECT count(testcaseId)  FROM testcase_reporter WHERE runHistoryId = %s AND runResult='Pass'  data：(1520417204,)
2018-03-07 18:06:54,305 test_plan.py[line: 85] INFO: 正在统计测试计划执行失败的用例总数
2018-03-07 18:06:54,305 database.py[line: 88] INFO: query：SELECT count(testcaseId)  FROM testcase_reporter WHERE runHistoryId = %s AND runResult='Fail'  data：(1520417204,)
2018-03-07 18:06:54,307 test_plan.py[line: 95] INFO: 正在统计测试计划执行被阻塞的用例总数
2018-03-07 18:06:54,307 database.py[line: 88] INFO: query：SELECT count(testcaseId)  FROM testcase_reporter WHERE runHistoryId = %s AND runResult='Block'  data：(1520417204,)
2018-03-07 18:06:54,309 test_plan.py[line: 105] INFO: 正在统计测试计划执行成功的用例
2018-03-07 18:06:54,309 database.py[line: 106] INFO: query：SELECT testcaseId  FROM testcase_reporter WHERE runHistoryId = %s AND runResult='Pass'  data：(1520417204,)
2018-03-07 18:06:54,312 test_plan.py[line: 110] WARNING: 没找到执行成功的用例
2018-03-07 18:06:54,312 test_plan.py[line: 115] INFO: 正在统计测试计划执行失败的用例
2018-03-07 18:06:54,312 database.py[line: 106] INFO: query：SELECT testcaseId  FROM testcase_reporter WHERE runHistoryId = %s AND runResult='Fail'  data：(1520417204,)
2018-03-07 18:06:54,314 test_plan.py[line: 125] INFO: 正在统计测试计划执行被阻塞的用例
2018-03-07 18:06:54,314 database.py[line: 106] INFO: query：SELECT testcaseId  FROM testcase_reporter WHERE runHistoryId = %s AND runResult='Block'  data：(1520417204,)
2018-03-07 18:06:54,316 test_plan.py[line: 130] INFO: 没找到计划执行被阻塞的用例
2018-03-07 18:06:54,316 test_plan.py[line: 151] INFO: 正在记录测试计划运行结果到测试计划报表
2018-03-07 18:06:54,317 database.py[line: 58] INFO: query：INSERT INTO testplan_reporter(testPlanId, testPlanName, runHistoryId, browserType, runTc_total, runPassedTc_total, runFailedTc_total,runBlockedTc_total, runPassedTc, runFailedTc, runBlockedTc, runTime)VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, '购买记录客服审批', 1520417204, 'Chrome', 2, 0, 2, 0, '', '(13,)', '', '2018-03-07 18:6:44')
2018-03-07 18:06:54,321 main.py[line: 79] INFO: 计划运行完成，正在关闭浏览器
2018-03-07 18:06:57,948 main.py[line: 82] INFO: ####################### 测试结束 #######################
2018-03-07 18:06:57,948 main.py[line: 126] INFO: 运行完成,准备生成测试报告
2018-03-07 18:06:57,948 htmlreporter.py[line: 35] INFO: 正在查询测试计划执行统计信息（执行总数，成功数，失败数，被阻塞数）
2018-03-07 18:06:57,948 database.py[line: 88] INFO: query：SELECT runTc_total, runPassedTc_total, runFailedTc_total, runBlockedTc_total, testPlanName, testPlanId FROM testplan_reporter WHERE runHistoryId = %s  data：(1520417204,)
2018-03-07 18:06:57,952 htmlreporter.py[line: 111] INFO: 正在查询测试计划：购买记录客服审批 运行的的测试用例
2018-03-07 18:06:57,953 database.py[line: 106] INFO: query：SELECT id, runHistoryId, testcaseId, testplanId, browserType, runResult, runTime FROM testcase_reporter WHERE testplanId=%s AND runHistoryId = %s ORDER BY id ASC  data：('3', 1520417204)
2018-03-07 18:06:57,956 htmlreporter.py[line: 121] INFO: 正在记录测试计划[名称：购买记录客服审批]的测试用例运行结果到测试报告
2018-03-07 18:06:57,956 database.py[line: 88] INFO: query：SELECT test_name FROM testcases WHERE id=%s  data：(13,)
2018-03-07 18:06:57,959 database.py[line: 88] INFO: query：SELECT test_name FROM testcases WHERE id=%s  data：(18,)
2018-03-07 18:06:57,962 htmlreporter.py[line: 151] INFO: 正在查询测试计划：购买记录客服审批 运行的的测试用例
2018-03-07 18:06:57,962 database.py[line: 106] INFO: query：SELECT id, runHistoryId, testcaseId, testplanId, browserType, runResult, runTime  FROM testcase_reporter WHERE testplanId=%s AND runHistoryId = %s ORDER BY id ASC  data：('3', 1520417204)
2018-03-07 18:06:57,964 htmlreporter.py[line: 168] INFO: 正在查询测试用例[id=13, name=客服登录]对应的测试步骤执行明细
2018-03-07 18:06:57,964 database.py[line: 106] INFO: query：SELECT id, stepOrder, runHistoryId, elementName, command, inparams, stepRunResult, expectedResult, stepRunResultDesc, browserType, runTime, screenshotUrl FROM case_step_run_detail WHERE testcaseId=%s AND runHistoryId = %s  ORDER BY id ASC  data：('13', 1520417204)
2018-03-07 18:06:57,969 htmlreporter.py[line: 168] INFO: 正在查询测试用例[id=18, name=购买记录客服审批]对应的测试步骤执行明细
2018-03-07 18:06:57,969 database.py[line: 106] INFO: query：SELECT id, stepOrder, runHistoryId, elementName, command, inparams, stepRunResult, expectedResult, stepRunResultDesc, browserType, runTime, screenshotUrl FROM case_step_run_detail WHERE testcaseId=%s AND runHistoryId = %s  ORDER BY id ASC  data：('18', 1520417204)
2018-03-07 18:06:57,973 htmlreporter.py[line: 211] INFO: 正在设置测试报告结果文件名
2018-03-07 18:06:57,973 htmlreporter.py[line: 222] INFO: 测试报告文件名所在路径为：E:\Projects\report\test_report20180307180657.html
2018-03-07 18:06:57,973 htmlreporter.py[line: 214] INFO: 正在生产测试报告
2018-03-07 18:06:58,028 main.py[line: 130] INFO: 生成测试报告成功
2018-03-07 18:06:58,029 main.py[line: 134] INFO: 运行完成,准备上传截图
2018-03-07 18:06:58,029 ftp.py[line: 42] INFO: is connecting to ftp server 10.1.2.88 on 21
2018-03-07 18:06:58,066 ftp.py[line: 47] INFO: ready to login ftp server
2018-03-07 18:06:58,215 ftp.py[line: 49] INFO: login ftp server successfully
2018-03-07 18:06:58,216 main.py[line: 138] INFO: 正在获取要上传的截图文件
2018-03-07 18:06:58,271 main.py[line: 146] INFO: 正在上传图片到ftp服务器
2018-03-07 18:06:58,271 main.py[line: 150] INFO: 正在上传文件：d:\python\webautotest\screentshot\tp3\tc13\tp3_tc13_step6_1520417204_20180307180648.png 到远程服务器：tp3_tc13_step6_1520417204_20180307180648.png
2018-03-07 18:06:58,281 main.py[line: 153] ERROR: 上传截图到ftp服务器出错：553 Could not create file.
2018-03-07 18:06:58,285 ftp.py[line: 55] INFO: close ftp connection successfully
2018-03-07 18:06:58,285 main.py[line: 156] INFO: 运行完成，准备发送邮件
2018-03-07 18:06:58,624 main.py[line: 162] INFO: 邮件标题为：Hi，附件为web自动化测试报告，烦请查阅邮件内容为：{'E:\\Projects\\report\\test_report20180307180657.html'}，待发送邮件附件有 【测试报告】web自动化测试报告20180307180657
2018-03-07 18:06:58,624 main.py[line: 163] INFO: 正在发送测试报告邮件...
2018-03-07 18:06:59,697 main.py[line: 166] INFO: 发送邮件成功
2018-03-07 18:06:59,697 main.py[line: 172] INFO: 正在关闭数据库
2018-03-07 18:08:17,960 globalvar.py[line: 23] INFO: #####################正在初始化全局配置#####################
2018-03-07 18:08:17,960 globalvar.py[line: 24] INFO: 正在选择数据库运行环境和站点运行环境
2018-03-07 18:08:17,961 globalvar.py[line: 34] INFO: 在测试环境执行测试，正在获取测试环境的web site
2018-03-07 18:08:17,961 globalvar.py[line: 45] INFO: 在测试环境执行测试，正在获取测试环境的数据库
2018-03-07 18:08:17,971 globalvar.py[line: 55] INFO: 正在进行ftp配置
2018-03-07 18:08:17,979 globalvar.py[line: 62] INFO: 正在获取运行模式
2018-03-07 18:08:17,979 globalvar.py[line: 66] INFO: 运行模式为:<module 'publicpkg.runmode' from 'D:\\python\\webautotest\\publicpkg\\runmode.py'>
2018-03-07 18:08:17,979 globalvar.py[line: 69] INFO: 测试计划配置:[3]
2018-03-07 18:08:17,979 globalvar.py[line: 72] INFO: 全局初始化用例配置:[123]
2018-03-07 18:08:17,979 globalvar.py[line: 75] INFO: 正在获取浏览器配置
2018-03-07 18:08:17,980 globalvar.py[line: 79] INFO: 获取需要进行测试的浏览器有：['Chrome']
2018-03-07 18:08:17,980 globalvar.py[line: 82] INFO: 正在初始化其它工具对象
2018-03-07 18:08:17,980 globalvar.py[line: 86] INFO: 正在进行截图基路径配置
2018-03-07 18:08:17,980 globalvar.py[line: 91] INFO: 截图报存基路径为：D:\python\webautotest\screentshot\
2018-03-07 18:08:17,980 globalvar.py[line: 95] INFO: 正在进行测试报告配置
2018-03-07 18:08:17,980 globalvar.py[line: 96] INFO: --1、读取测试报告路径及文件名
2018-03-07 18:08:17,981 globalvar.py[line: 101] INFO: --2、构造测试报告
2018-03-07 18:08:17,981 globalvar.py[line: 104] INFO: --3、设置报告生成路径
2018-03-07 18:08:17,981 globalvar.py[line: 107] INFO: #####################初始化全局配置完毕#####################
2018-03-07 18:08:17,982 main.py[line: 61] INFO: ####################### 开始测试 #######################
2018-03-07 18:08:24,136 test_plan.py[line: 28] INFO: 正在获取本次测试需要执行的测试用列ID列表，测试计划名称
2018-03-07 18:08:24,136 database.py[line: 88] INFO: query：SELECT testcase_list, test_round_name FROM testcase_runround WHERE id = %s   data：(3,)
2018-03-07 18:08:24,139 test_plan.py[line: 44] INFO: 获取到的的测试用例id列表为: [13, 18]
2018-03-07 18:08:24,139 test_plan.py[line: 48] INFO: ####################### 开始运行测试计划 #######################
2018-03-07 18:08:24,139 test_case.py[line: 17] INFO: 正在构造并初始化测试用例对象[id=13]
2018-03-07 18:08:24,139 test_case.py[line: 26] INFO: 初始测试用例完毕
2018-03-07 18:08:24,139 test_case.py[line: 17] INFO: 正在构造并初始化测试用例对象[id=18]
2018-03-07 18:08:24,140 test_case.py[line: 26] INFO: 初始测试用例完毕
2018-03-07 18:08:24,140 test_case.py[line: 70] INFO: 正在获取测试用例所有测试步骤
2018-03-07 18:08:24,140 database.py[line: 106] INFO: query：(SELECT a.StepOrder AS StepOrder,c.PageName AS PageName,b.ElementName AS ElementName,b.ElementSelector AS ElementSelector,b.ElementSelector02 AS ElementSelector02,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,a.compid AS compid,a.compFolderid AS comFolderid,'' AS comName FROM testcases_steps AS a, page_elements AS b,pagesobject AS c WHERE a.TestcaseID = %s AND a.ElementId = b.Id AND b.PageId = c.Id)UNION ALL(SELECT a.steporder AS steporder,'' AS PageName,'' AS ElementSelector,'' AS ElementSelector02,'' AS ElementName,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,a.compid AS compid,a.compFolderid AS comFolderid,tc.test_name AS comName FROM testcases_steps AS a, testcases AS tc WHERE a.TestcaseID = %s AND a.compid = tc.id)UNION ALL(SELECT a.steporder AS steporder,'' AS PageName,'' AS ElementSelector,'' AS ElementSelector02,'' AS ElementName,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,'' AS compid,'' AS comFolderid,'' AS comName FROM testcases_steps AS a WHERE a.TestcaseID = %s AND NOT ISNULL(a.stepOrder)AND NOT ISNULL(a.Command) AND ISNULL(compid) AND ElementId='')ORDER BY steporder  data：(13, 13, 13)
2018-03-07 18:08:24,145 test_case.py[line: 123] INFO: 获取的测试步骤为： [(1, '', '', '', '', '断言', '深圳市金斧子网络科技有限公司-ERP', '', '', '', ''), (2, '用户登录', '用户名', 'xpath=//*[@name=&quot;username&quot;]', '', '输入', 'defang1', '', None, None, ''), (3, '用户登录', '密码', 'xpath=//*[@name=&quot;password&quot;]', '', '输入', '123456', '', None, None, ''), (4, '用户登录', '登录', 'xpath=//*[@class=&quot;submit_wrap&quot;]', '', '点击', '', '', None, None, ''), (5, '', '', '', '', '等待', '3', '', '', '', ''), (6, '', '', '', '', '断言', '德芳理财', '', '', '', '')]
2018-03-07 18:08:24,145 test_case.py[line: 41] INFO: 开始执行测试步骤
2018-03-07 18:08:24,145 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：1, 操作：断言， 输入参数：深圳市金斧子网络科技有限公司-ERP，预期结果：）
2018-03-07 18:08:24,145 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-07 18:08:24,146 test_case_step.py[line: 88] INFO: 执行函数：断言
2018-03-07 18:08:24,146 test_case_step.py[line: 91] INFO: 正在对输入参数:深圳市金斧子网络科技有限公司-ERP 进行参数处理
2018-03-07 18:08:24,146 test_case_step.py[line: 115] INFO: 断言的标题为:深圳市金斧子网络科技有限公司-ERP
2018-03-07 18:08:24,154 seleniumutil.py[line: 151] INFO: 断言信息为：深圳市金斧子网络科技有限公司-ERP
2018-03-07 18:08:24,155 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-07 18:08:24,155 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 13, 1520417304, 1, '', '断言', '深圳市金斧子网络科技有限公司-ERP', '', 'Pass', '断言成功', 'Chrome', '2018-03-07 18:8:24', '')
2018-03-07 18:08:24,160 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-07 18:08:24,160 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：用户名, 步序：2, 操作：输入， 输入参数：defang1，预期结果：）
2018-03-07 18:08:24,160 test_case_step.py[line: 38] INFO: 正在执行最普通的元素操作
2018-03-07 18:08:24,160 test_case_step.py[line: 42] INFO: 正在对选择器：selector1: xpath=//*[@name=&quot;username&quot;]，selector2:  做数据转换处理
2018-03-07 18:08:24,160 test_case_step.py[line: 45] INFO: 转换后的选择器：selector1: xpath=//*[@name="username"]，selector2: 
2018-03-07 18:08:24,160 test_case_step.py[line: 47] INFO: 开始对步骤中的元素操作进行操作
2018-03-07 18:08:24,160 test_case_step.py[line: 127] INFO: 操作：输入
2018-03-07 18:08:24,160 test_case_step.py[line: 129] INFO: 正在对输入参数:defang1 进行参数处理
2018-03-07 18:08:24,160 test_case_step.py[line: 133] INFO: 处理后的输入参数为:['defang1'] 
2018-03-07 18:08:24,160 test_case_step.py[line: 202] INFO: 开始根据元素定位器：xpath=//*[@name="username"] 自定位元素
2018-03-07 18:08:24,160 test_case_step.py[line: 215] INFO: find_element_by_xpath：//*[@name="username"]
2018-03-07 18:08:24,184 test_case_step.py[line: 188] INFO: 找到元素：<selenium.webdriver.remote.webelement.WebElement (session="c0a7f9828e3a6d0f1a9a6325e2a38432", element="0.42263842446042443-1")>
2018-03-07 18:08:24,261 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-07 18:08:24,262 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 13, 1520417304, 2, '用户名', '输入', 'defang1', '', 'Pass', '输入数据成功', 'Chrome', '2018-03-07 18:8:24', '')
2018-03-07 18:08:24,265 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-07 18:08:24,266 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：密码, 步序：3, 操作：输入， 输入参数：123456，预期结果：）
2018-03-07 18:08:24,266 test_case_step.py[line: 38] INFO: 正在执行最普通的元素操作
2018-03-07 18:08:24,266 test_case_step.py[line: 42] INFO: 正在对选择器：selector1: xpath=//*[@name=&quot;password&quot;]，selector2:  做数据转换处理
2018-03-07 18:08:24,266 test_case_step.py[line: 45] INFO: 转换后的选择器：selector1: xpath=//*[@name="password"]，selector2: 
2018-03-07 18:08:24,266 test_case_step.py[line: 47] INFO: 开始对步骤中的元素操作进行操作
2018-03-07 18:08:24,266 test_case_step.py[line: 127] INFO: 操作：输入
2018-03-07 18:08:24,266 test_case_step.py[line: 129] INFO: 正在对输入参数:123456 进行参数处理
2018-03-07 18:08:24,266 test_case_step.py[line: 133] INFO: 处理后的输入参数为:['123456'] 
2018-03-07 18:08:24,266 test_case_step.py[line: 202] INFO: 开始根据元素定位器：xpath=//*[@name="password"] 自定位元素
2018-03-07 18:08:24,266 test_case_step.py[line: 215] INFO: find_element_by_xpath：//*[@name="password"]
2018-03-07 18:08:24,286 test_case_step.py[line: 188] INFO: 找到元素：<selenium.webdriver.remote.webelement.WebElement (session="c0a7f9828e3a6d0f1a9a6325e2a38432", element="0.42263842446042443-2")>
2018-03-07 18:08:24,386 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-07 18:08:24,386 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 13, 1520417304, 3, '密码', '输入', '123456', '', 'Pass', '输入数据成功', 'Chrome', '2018-03-07 18:8:24', '')
2018-03-07 18:08:24,391 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-07 18:08:24,392 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：登录, 步序：4, 操作：点击， 输入参数：，预期结果：）
2018-03-07 18:08:24,392 test_case_step.py[line: 38] INFO: 正在执行最普通的元素操作
2018-03-07 18:08:24,392 test_case_step.py[line: 42] INFO: 正在对选择器：selector1: xpath=//*[@class=&quot;submit_wrap&quot;]，selector2:  做数据转换处理
2018-03-07 18:08:24,392 test_case_step.py[line: 45] INFO: 转换后的选择器：selector1: xpath=//*[@class="submit_wrap"]，selector2: 
2018-03-07 18:08:24,393 test_case_step.py[line: 47] INFO: 开始对步骤中的元素操作进行操作
2018-03-07 18:08:24,393 test_case_step.py[line: 127] INFO: 操作：点击
2018-03-07 18:08:24,393 test_case_step.py[line: 202] INFO: 开始根据元素定位器：xpath=//*[@class="submit_wrap"] 自定位元素
2018-03-07 18:08:24,393 test_case_step.py[line: 215] INFO: find_element_by_xpath：//*[@class="submit_wrap"]
2018-03-07 18:08:24,418 test_case_step.py[line: 188] INFO: 找到元素：<selenium.webdriver.remote.webelement.WebElement (session="c0a7f9828e3a6d0f1a9a6325e2a38432", element="0.42263842446042443-3")>
2018-03-07 18:08:26,010 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-07 18:08:26,011 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 13, 1520417304, 4, '登录', '点击', '', '', 'Pass', '点击成功', 'Chrome', '2018-03-07 18:8:24', '')
2018-03-07 18:08:26,017 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-07 18:08:26,017 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：5, 操作：等待， 输入参数：3，预期结果：）
2018-03-07 18:08:26,018 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-07 18:08:26,018 test_case_step.py[line: 88] INFO: 执行函数：等待
2018-03-07 18:08:26,018 test_case_step.py[line: 91] INFO: 正在对输入参数:3 进行参数处理
2018-03-07 18:08:26,018 test_case_step.py[line: 105] INFO: 等待3秒
2018-03-07 18:08:29,019 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-07 18:08:29,019 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 13, 1520417304, 5, '', '等待', '3', '', 'Pass', 'run success', 'Chrome', '2018-03-07 18:8:26', '')
2018-03-07 18:08:29,023 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-07 18:08:29,023 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：6, 操作：断言， 输入参数：德芳理财，预期结果：）
2018-03-07 18:08:29,023 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-07 18:08:29,023 test_case_step.py[line: 88] INFO: 执行函数：断言
2018-03-07 18:08:29,023 test_case_step.py[line: 91] INFO: 正在对输入参数:德芳理财 进行参数处理
2018-03-07 18:08:29,023 test_case_step.py[line: 115] INFO: 断言的标题为:德芳理财
2018-03-07 18:08:29,042 seleniumutil.py[line: 151] INFO: 断言信息为：德芳理财
2018-03-07 18:08:29,042 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-07 18:08:29,042 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 13, 1520417304, 6, '', '断言', '德芳理财', '', 'Pass', '断言成功', 'Chrome', '2018-03-07 18:8:29', '')
2018-03-07 18:08:29,046 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-07 18:08:29,047 test_case.py[line: 58] INFO: 测试步骤执行完毕，正在记录用例运行结果到测试用例运行报表
2018-03-07 18:08:29,047 database.py[line: 58] INFO: query：INSERT INTO testcase_reporter(runHistoryId, browserType, testcaseId, testplanId, runTime, runResult) VALUES(%s, %s, %s, %s, %s, %s)  data：(1520417304, 'Chrome', 13, 3, '2018-03-07 18:8:24', 'Pass')
2018-03-07 18:08:29,050 test_case.py[line: 70] INFO: 正在获取测试用例所有测试步骤
2018-03-07 18:08:29,051 database.py[line: 106] INFO: query：(SELECT a.StepOrder AS StepOrder,c.PageName AS PageName,b.ElementName AS ElementName,b.ElementSelector AS ElementSelector,b.ElementSelector02 AS ElementSelector02,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,a.compid AS compid,a.compFolderid AS comFolderid,'' AS comName FROM testcases_steps AS a, page_elements AS b,pagesobject AS c WHERE a.TestcaseID = %s AND a.ElementId = b.Id AND b.PageId = c.Id)UNION ALL(SELECT a.steporder AS steporder,'' AS PageName,'' AS ElementSelector,'' AS ElementSelector02,'' AS ElementName,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,a.compid AS compid,a.compFolderid AS comFolderid,tc.test_name AS comName FROM testcases_steps AS a, testcases AS tc WHERE a.TestcaseID = %s AND a.compid = tc.id)UNION ALL(SELECT a.steporder AS steporder,'' AS PageName,'' AS ElementSelector,'' AS ElementSelector02,'' AS ElementName,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,'' AS compid,'' AS comFolderid,'' AS comName FROM testcases_steps AS a WHERE a.TestcaseID = %s AND NOT ISNULL(a.stepOrder)AND NOT ISNULL(a.Command) AND ISNULL(compid) AND ElementId='')ORDER BY steporder  data：(18, 18, 18)
2018-03-07 18:08:29,056 test_case.py[line: 123] INFO: 获取的测试步骤为： [(1, '', '', '', '', '等待', '5', '', '', '', ''), (2, '', '', '', '', '切换入iframe', 'iframe89892232323', '', '', '', ''), (3, '审批流', '审批流的链接', 'xpath=html/body/div[1]/div/div/div[2]/div/div/div/div[2]/div/div[1]/ul/li[1]/div[1]', '', '点击', '', '', None, None, ''), (4, '', '', '', '', '切换到新的窗口', '', '', '', '', ''), (5, '', '', '', '', '等待', '5', '', '', '', ''), (6, '审批流', '审批流的同意按钮', 'xpath=//*[@id=&quot;btnAgree&quot;]', '', '点击', '', '', None, None, ''), (7, '', '', '', '', '切换入iframe', '//iframe[contains(@id,&quot;ligerwindow&quot;)]', '', '', '', ''), (8, '审批流', '填写意见的确定按钮', 'xpath=//*[@id=&quot;dataFormSave&quot;]', '', '点击', '', '', None, None, ''), (9, '', '', '', '', '等待', '5', '', '', '', ''), (10, '', '', '', '', '断言文本提示信息', '执行任务成功!', '', '', '', ''), (11, '', '', '', '', '等待', '5', '', '', '', ''), (12, '审批流', '同意的确定按钮', 'xpath=//*[@class=&quot;l-dialog-btn-inner&quot;]', '', '点击', '', '', None, None, '')]
2018-03-07 18:08:29,057 test_case.py[line: 41] INFO: 开始执行测试步骤
2018-03-07 18:08:29,057 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：1, 操作：等待， 输入参数：5，预期结果：）
2018-03-07 18:08:29,057 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-07 18:08:29,057 test_case_step.py[line: 88] INFO: 执行函数：等待
2018-03-07 18:08:29,057 test_case_step.py[line: 91] INFO: 正在对输入参数:5 进行参数处理
2018-03-07 18:08:29,057 test_case_step.py[line: 105] INFO: 等待5秒
2018-03-07 18:08:34,066 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-07 18:08:34,066 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 18, 1520417304, 1, '', '等待', '5', '', 'Pass', 'run success', 'Chrome', '2018-03-07 18:8:29', '')
2018-03-07 18:08:34,070 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-07 18:08:34,070 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：2, 操作：切换入iframe， 输入参数：iframe89892232323，预期结果：）
2018-03-07 18:08:34,070 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-07 18:08:34,071 test_case_step.py[line: 88] INFO: 执行函数：切换入iframe
2018-03-07 18:08:34,071 test_case_step.py[line: 91] INFO: 正在对输入参数:iframe89892232323 进行参数处理
2018-03-07 18:08:34,071 seleniumutil.py[line: 70] ERROR: 切换至frame（id/name/xpath = iframe89892232323）失败
2018-03-07 18:08:34,518 test_case_step.py[line: 272] INFO: 截图文件保存路径为：D:\python\webautotest\screentshot\tp3\tc18\tp3_tc18_step2_1520417304_20180307180834.png
2018-03-07 18:08:34,519 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-07 18:08:34,519 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 18, 1520417304, 2, '', '切换入iframe', 'iframe89892232323', '', 'Fail', AttributeError("'WebDriver' object has no attribute 'swith_to_frame'",), 'Chrome', '2018-03-07 18:8:34', 'ftp://10.1.2.88/tp3_tc18_step2_1520417304_20180307180834.png')
2018-03-07 18:08:34,521 database.py[line: 66] ERROR: 执行数据库插入操作失败：Failed processing format-parameters; Python 'attributeerror' cannot be converted to a MySQL type
2018-03-07 18:08:34,522 test_case_step.py[line: 81] ERROR: 记录到测试步骤结果报表失败 Failed processing format-parameters; Python 'attributeerror' cannot be converted to a MySQL type
2018-03-07 18:08:34,522 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-07 18:08:34,522 test_case.py[line: 46] INFO: 用例[id：18]步骤[步序：2] 运行失败，停止运行用例
2018-03-07 18:08:34,522 test_case.py[line: 58] INFO: 测试步骤执行完毕，正在记录用例运行结果到测试用例运行报表
2018-03-07 18:08:34,522 database.py[line: 58] INFO: query：INSERT INTO testcase_reporter(runHistoryId, browserType, testcaseId, testplanId, runTime, runResult) VALUES(%s, %s, %s, %s, %s, %s)  data：(1520417304, 'Chrome', 18, 3, '2018-03-07 18:8:29', 'Fail')
2018-03-07 18:08:34,526 test_plan.py[line: 65] INFO: ####################### 测试计划已运行完毕 #######################
2018-03-07 18:08:34,526 test_plan.py[line: 66] INFO: 正在统计测试计划执行的用例总数
2018-03-07 18:08:34,526 database.py[line: 88] INFO: query：SELECT count(testcaseId)  FROM testcase_reporter  WHERE runHistoryId = %s  data：(1520417304,)
2018-03-07 18:08:34,529 test_plan.py[line: 75] INFO: 正在统计测试计划执行成功的用例总数
2018-03-07 18:08:34,529 database.py[line: 88] INFO: query：SELECT count(testcaseId)  FROM testcase_reporter WHERE runHistoryId = %s AND runResult='Pass'  data：(1520417304,)
2018-03-07 18:08:34,531 test_plan.py[line: 85] INFO: 正在统计测试计划执行失败的用例总数
2018-03-07 18:08:34,531 database.py[line: 88] INFO: query：SELECT count(testcaseId)  FROM testcase_reporter WHERE runHistoryId = %s AND runResult='Fail'  data：(1520417304,)
2018-03-07 18:08:34,534 test_plan.py[line: 95] INFO: 正在统计测试计划执行被阻塞的用例总数
2018-03-07 18:08:34,534 database.py[line: 88] INFO: query：SELECT count(testcaseId)  FROM testcase_reporter WHERE runHistoryId = %s AND runResult='Block'  data：(1520417304,)
2018-03-07 18:08:34,536 test_plan.py[line: 105] INFO: 正在统计测试计划执行成功的用例
2018-03-07 18:08:34,537 database.py[line: 106] INFO: query：SELECT testcaseId  FROM testcase_reporter WHERE runHistoryId = %s AND runResult='Pass'  data：(1520417304,)
2018-03-07 18:08:34,540 test_plan.py[line: 115] INFO: 正在统计测试计划执行失败的用例
2018-03-07 18:08:34,540 database.py[line: 106] INFO: query：SELECT testcaseId  FROM testcase_reporter WHERE runHistoryId = %s AND runResult='Fail'  data：(1520417304,)
2018-03-07 18:08:34,542 test_plan.py[line: 125] INFO: 正在统计测试计划执行被阻塞的用例
2018-03-07 18:08:34,543 database.py[line: 106] INFO: query：SELECT testcaseId  FROM testcase_reporter WHERE runHistoryId = %s AND runResult='Block'  data：(1520417304,)
2018-03-07 18:08:34,545 test_plan.py[line: 130] INFO: 没找到计划执行被阻塞的用例
2018-03-07 18:08:34,545 test_plan.py[line: 151] INFO: 正在记录测试计划运行结果到测试计划报表
2018-03-07 18:08:34,545 database.py[line: 58] INFO: query：INSERT INTO testplan_reporter(testPlanId, testPlanName, runHistoryId, browserType, runTc_total, runPassedTc_total, runFailedTc_total,runBlockedTc_total, runPassedTc, runFailedTc, runBlockedTc, runTime)VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, '购买记录客服审批', 1520417304, 'Chrome', 2, 1, 1, 0, '(13,)', '(18,)', '', '2018-03-07 18:8:24')
2018-03-07 18:08:34,548 main.py[line: 79] INFO: 计划运行完成，正在关闭浏览器
2018-03-07 18:08:45,538 main.py[line: 82] INFO: ####################### 测试结束 #######################
2018-03-07 18:08:45,540 main.py[line: 126] INFO: 运行完成,准备生成测试报告
2018-03-07 18:08:45,540 htmlreporter.py[line: 35] INFO: 正在查询测试计划执行统计信息（执行总数，成功数，失败数，被阻塞数）
2018-03-07 18:08:45,540 database.py[line: 88] INFO: query：SELECT runTc_total, runPassedTc_total, runFailedTc_total, runBlockedTc_total, testPlanName, testPlanId FROM testplan_reporter WHERE runHistoryId = %s  data：(1520417304,)
2018-03-07 18:08:45,545 htmlreporter.py[line: 111] INFO: 正在查询测试计划：购买记录客服审批 运行的的测试用例
2018-03-07 18:08:45,545 database.py[line: 106] INFO: query：SELECT id, runHistoryId, testcaseId, testplanId, browserType, runResult, runTime FROM testcase_reporter WHERE testplanId=%s AND runHistoryId = %s ORDER BY id ASC  data：('3', 1520417304)
2018-03-07 18:08:45,549 htmlreporter.py[line: 121] INFO: 正在记录测试计划[名称：购买记录客服审批]的测试用例运行结果到测试报告
2018-03-07 18:08:45,549 database.py[line: 88] INFO: query：SELECT test_name FROM testcases WHERE id=%s  data：(13,)
2018-03-07 18:08:45,553 database.py[line: 88] INFO: query：SELECT test_name FROM testcases WHERE id=%s  data：(18,)
2018-03-07 18:08:45,556 htmlreporter.py[line: 151] INFO: 正在查询测试计划：购买记录客服审批 运行的的测试用例
2018-03-07 18:08:45,556 database.py[line: 106] INFO: query：SELECT id, runHistoryId, testcaseId, testplanId, browserType, runResult, runTime  FROM testcase_reporter WHERE testplanId=%s AND runHistoryId = %s ORDER BY id ASC  data：('3', 1520417304)
2018-03-07 18:08:45,560 htmlreporter.py[line: 168] INFO: 正在查询测试用例[id=13, name=客服登录]对应的测试步骤执行明细
2018-03-07 18:08:45,561 database.py[line: 106] INFO: query：SELECT id, stepOrder, runHistoryId, elementName, command, inparams, stepRunResult, expectedResult, stepRunResultDesc, browserType, runTime, screenshotUrl FROM case_step_run_detail WHERE testcaseId=%s AND runHistoryId = %s  ORDER BY id ASC  data：('13', 1520417304)
2018-03-07 18:08:45,567 htmlreporter.py[line: 168] INFO: 正在查询测试用例[id=18, name=购买记录客服审批]对应的测试步骤执行明细
2018-03-07 18:08:45,567 database.py[line: 106] INFO: query：SELECT id, stepOrder, runHistoryId, elementName, command, inparams, stepRunResult, expectedResult, stepRunResultDesc, browserType, runTime, screenshotUrl FROM case_step_run_detail WHERE testcaseId=%s AND runHistoryId = %s  ORDER BY id ASC  data：('18', 1520417304)
2018-03-07 18:08:45,572 htmlreporter.py[line: 211] INFO: 正在设置测试报告结果文件名
2018-03-07 18:08:45,572 htmlreporter.py[line: 222] INFO: 测试报告文件名所在路径为：E:\Projects\report\test_report20180307180845.html
2018-03-07 18:08:45,572 htmlreporter.py[line: 214] INFO: 正在生产测试报告
2018-03-07 18:08:45,574 main.py[line: 130] INFO: 生成测试报告成功
2018-03-07 18:08:45,574 main.py[line: 134] INFO: 运行完成,准备上传截图
2018-03-07 18:08:45,574 ftp.py[line: 42] INFO: is connecting to ftp server 10.1.2.88 on 21
2018-03-07 18:08:45,581 ftp.py[line: 47] INFO: ready to login ftp server
2018-03-07 18:08:45,679 ftp.py[line: 49] INFO: login ftp server successfully
2018-03-07 18:08:45,679 main.py[line: 138] INFO: 正在获取要上传的截图文件
2018-03-07 18:08:45,680 main.py[line: 146] INFO: 正在上传图片到ftp服务器
2018-03-07 18:08:45,681 main.py[line: 150] INFO: 正在上传文件：d:\python\webautotest\screentshot\tp3\tc18\tp3_tc18_step2_1520417304_20180307180834.png 到远程服务器：tp3_tc18_step2_1520417304_20180307180834.png
2018-03-07 18:08:45,692 main.py[line: 153] ERROR: 上传截图到ftp服务器出错：553 Could not create file.
2018-03-07 18:08:45,702 ftp.py[line: 55] INFO: close ftp connection successfully
2018-03-07 18:08:45,703 main.py[line: 156] INFO: 运行完成，准备发送邮件
2018-03-07 18:08:45,959 main.py[line: 162] INFO: 邮件标题为：Hi，附件为web自动化测试报告，烦请查阅邮件内容为：{'E:\\Projects\\report\\test_report20180307180845.html'}，待发送邮件附件有 【测试报告】web自动化测试报告20180307180845
2018-03-07 18:08:45,959 main.py[line: 163] INFO: 正在发送测试报告邮件...
2018-03-07 18:08:46,715 main.py[line: 166] INFO: 发送邮件成功
2018-03-07 18:08:46,715 main.py[line: 172] INFO: 正在关闭数据库
2018-03-07 18:11:57,386 globalvar.py[line: 23] INFO: #####################正在初始化全局配置#####################
2018-03-07 18:11:57,386 globalvar.py[line: 24] INFO: 正在选择数据库运行环境和站点运行环境
2018-03-07 18:11:57,387 globalvar.py[line: 34] INFO: 在测试环境执行测试，正在获取测试环境的web site
2018-03-07 18:11:57,387 globalvar.py[line: 45] INFO: 在测试环境执行测试，正在获取测试环境的数据库
2018-03-07 18:11:57,396 globalvar.py[line: 55] INFO: 正在进行ftp配置
2018-03-07 18:11:57,403 globalvar.py[line: 62] INFO: 正在获取运行模式
2018-03-07 18:11:57,403 globalvar.py[line: 66] INFO: 运行模式为:<module 'publicpkg.runmode' from 'D:\\python\\webautotest\\publicpkg\\runmode.py'>
2018-03-07 18:11:57,403 globalvar.py[line: 69] INFO: 测试计划配置:[3]
2018-03-07 18:11:57,403 globalvar.py[line: 72] INFO: 全局初始化用例配置:[123]
2018-03-07 18:11:57,403 globalvar.py[line: 75] INFO: 正在获取浏览器配置
2018-03-07 18:11:57,404 globalvar.py[line: 79] INFO: 获取需要进行测试的浏览器有：['Chrome']
2018-03-07 18:11:57,404 globalvar.py[line: 82] INFO: 正在初始化其它工具对象
2018-03-07 18:11:57,404 globalvar.py[line: 86] INFO: 正在进行截图基路径配置
2018-03-07 18:11:57,404 globalvar.py[line: 91] INFO: 截图报存基路径为：D:\python\webautotest\screentshot\
2018-03-07 18:11:57,404 globalvar.py[line: 95] INFO: 正在进行测试报告配置
2018-03-07 18:11:57,405 globalvar.py[line: 96] INFO: --1、读取测试报告路径及文件名
2018-03-07 18:11:57,405 globalvar.py[line: 101] INFO: --2、构造测试报告
2018-03-07 18:11:57,405 globalvar.py[line: 104] INFO: --3、设置报告生成路径
2018-03-07 18:11:57,405 globalvar.py[line: 107] INFO: #####################初始化全局配置完毕#####################
2018-03-07 18:11:57,407 main.py[line: 61] INFO: ####################### 开始测试 #######################
2018-03-07 18:12:03,734 test_plan.py[line: 28] INFO: 正在获取本次测试需要执行的测试用列ID列表，测试计划名称
2018-03-07 18:12:03,734 database.py[line: 88] INFO: query：SELECT testcase_list, test_round_name FROM testcase_runround WHERE id = %s   data：(3,)
2018-03-07 18:12:03,737 test_plan.py[line: 44] INFO: 获取到的的测试用例id列表为: [13, 18]
2018-03-07 18:12:03,737 test_plan.py[line: 48] INFO: ####################### 开始运行测试计划 #######################
2018-03-07 18:12:03,737 test_case.py[line: 17] INFO: 正在构造并初始化测试用例对象[id=13]
2018-03-07 18:12:03,737 test_case.py[line: 26] INFO: 初始测试用例完毕
2018-03-07 18:12:03,737 test_case.py[line: 17] INFO: 正在构造并初始化测试用例对象[id=18]
2018-03-07 18:12:03,737 test_case.py[line: 26] INFO: 初始测试用例完毕
2018-03-07 18:12:03,738 test_case.py[line: 70] INFO: 正在获取测试用例所有测试步骤
2018-03-07 18:12:03,738 database.py[line: 106] INFO: query：(SELECT a.StepOrder AS StepOrder,c.PageName AS PageName,b.ElementName AS ElementName,b.ElementSelector AS ElementSelector,b.ElementSelector02 AS ElementSelector02,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,a.compid AS compid,a.compFolderid AS comFolderid,'' AS comName FROM testcases_steps AS a, page_elements AS b,pagesobject AS c WHERE a.TestcaseID = %s AND a.ElementId = b.Id AND b.PageId = c.Id)UNION ALL(SELECT a.steporder AS steporder,'' AS PageName,'' AS ElementSelector,'' AS ElementSelector02,'' AS ElementName,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,a.compid AS compid,a.compFolderid AS comFolderid,tc.test_name AS comName FROM testcases_steps AS a, testcases AS tc WHERE a.TestcaseID = %s AND a.compid = tc.id)UNION ALL(SELECT a.steporder AS steporder,'' AS PageName,'' AS ElementSelector,'' AS ElementSelector02,'' AS ElementName,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,'' AS compid,'' AS comFolderid,'' AS comName FROM testcases_steps AS a WHERE a.TestcaseID = %s AND NOT ISNULL(a.stepOrder)AND NOT ISNULL(a.Command) AND ISNULL(compid) AND ElementId='')ORDER BY steporder  data：(13, 13, 13)
2018-03-07 18:12:03,742 test_case.py[line: 123] INFO: 获取的测试步骤为： [(1, '', '', '', '', '断言', '深圳市金斧子网络科技有限公司-ERP', '', '', '', ''), (2, '用户登录', '用户名', 'xpath=//*[@name=&quot;username&quot;]', '', '输入', 'defang3', '', None, None, ''), (3, '用户登录', '密码', 'xpath=//*[@name=&quot;password&quot;]', '', '输入', '123', '', None, None, ''), (4, '用户登录', '登录', 'xpath=//*[@class=&quot;submit_wrap&quot;]', '', '点击', '', '', None, None, ''), (5, '', '', '', '', '等待', '3', '', '', '', ''), (6, '', '', '', '', '断言', '德芳运维', '', '', '', '')]
2018-03-07 18:12:03,742 test_case.py[line: 41] INFO: 开始执行测试步骤
2018-03-07 18:12:03,743 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：1, 操作：断言， 输入参数：深圳市金斧子网络科技有限公司-ERP，预期结果：）
2018-03-07 18:12:03,743 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-07 18:12:03,743 test_case_step.py[line: 88] INFO: 执行函数：断言
2018-03-07 18:12:03,743 test_case_step.py[line: 91] INFO: 正在对输入参数:深圳市金斧子网络科技有限公司-ERP 进行参数处理
2018-03-07 18:12:03,743 test_case_step.py[line: 115] INFO: 断言的标题为:深圳市金斧子网络科技有限公司-ERP
2018-03-07 18:12:03,752 seleniumutil.py[line: 151] INFO: 断言信息为：深圳市金斧子网络科技有限公司-ERP
2018-03-07 18:12:03,752 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-07 18:12:03,752 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 13, 1520417523, 1, '', '断言', '深圳市金斧子网络科技有限公司-ERP', '', 'Pass', '断言成功', 'Chrome', '2018-03-07 18:12:3', '')
2018-03-07 18:12:03,756 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-07 18:12:03,756 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：用户名, 步序：2, 操作：输入， 输入参数：defang3，预期结果：）
2018-03-07 18:12:03,756 test_case_step.py[line: 38] INFO: 正在执行最普通的元素操作
2018-03-07 18:12:03,756 test_case_step.py[line: 42] INFO: 正在对选择器：selector1: xpath=//*[@name=&quot;username&quot;]，selector2:  做数据转换处理
2018-03-07 18:12:03,756 test_case_step.py[line: 45] INFO: 转换后的选择器：selector1: xpath=//*[@name="username"]，selector2: 
2018-03-07 18:12:03,756 test_case_step.py[line: 47] INFO: 开始对步骤中的元素操作进行操作
2018-03-07 18:12:03,757 test_case_step.py[line: 127] INFO: 操作：输入
2018-03-07 18:12:03,757 test_case_step.py[line: 129] INFO: 正在对输入参数:defang3 进行参数处理
2018-03-07 18:12:03,757 test_case_step.py[line: 133] INFO: 处理后的输入参数为:['defang3'] 
2018-03-07 18:12:03,757 test_case_step.py[line: 202] INFO: 开始根据元素定位器：xpath=//*[@name="username"] 自定位元素
2018-03-07 18:12:03,757 test_case_step.py[line: 215] INFO: find_element_by_xpath：//*[@name="username"]
2018-03-07 18:12:03,776 test_case_step.py[line: 188] INFO: 找到元素：<selenium.webdriver.remote.webelement.WebElement (session="2f0f77c58a469ae33da646f3c5b82b8b", element="0.28055772865570927-1")>
2018-03-07 18:12:03,849 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-07 18:12:03,849 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 13, 1520417523, 2, '用户名', '输入', 'defang3', '', 'Pass', '输入数据成功', 'Chrome', '2018-03-07 18:12:3', '')
2018-03-07 18:12:03,854 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-07 18:12:03,855 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：密码, 步序：3, 操作：输入， 输入参数：123，预期结果：）
2018-03-07 18:12:03,855 test_case_step.py[line: 38] INFO: 正在执行最普通的元素操作
2018-03-07 18:12:03,855 test_case_step.py[line: 42] INFO: 正在对选择器：selector1: xpath=//*[@name=&quot;password&quot;]，selector2:  做数据转换处理
2018-03-07 18:12:03,855 test_case_step.py[line: 45] INFO: 转换后的选择器：selector1: xpath=//*[@name="password"]，selector2: 
2018-03-07 18:12:03,855 test_case_step.py[line: 47] INFO: 开始对步骤中的元素操作进行操作
2018-03-07 18:12:03,855 test_case_step.py[line: 127] INFO: 操作：输入
2018-03-07 18:12:03,855 test_case_step.py[line: 129] INFO: 正在对输入参数:123 进行参数处理
2018-03-07 18:12:03,855 test_case_step.py[line: 133] INFO: 处理后的输入参数为:['123'] 
2018-03-07 18:12:03,856 test_case_step.py[line: 202] INFO: 开始根据元素定位器：xpath=//*[@name="password"] 自定位元素
2018-03-07 18:12:03,856 test_case_step.py[line: 215] INFO: find_element_by_xpath：//*[@name="password"]
2018-03-07 18:12:03,872 test_case_step.py[line: 188] INFO: 找到元素：<selenium.webdriver.remote.webelement.WebElement (session="2f0f77c58a469ae33da646f3c5b82b8b", element="0.28055772865570927-2")>
2018-03-07 18:12:03,923 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-07 18:12:03,923 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 13, 1520417523, 3, '密码', '输入', '123', '', 'Pass', '输入数据成功', 'Chrome', '2018-03-07 18:12:3', '')
2018-03-07 18:12:03,928 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-07 18:12:03,928 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：登录, 步序：4, 操作：点击， 输入参数：，预期结果：）
2018-03-07 18:12:03,928 test_case_step.py[line: 38] INFO: 正在执行最普通的元素操作
2018-03-07 18:12:03,928 test_case_step.py[line: 42] INFO: 正在对选择器：selector1: xpath=//*[@class=&quot;submit_wrap&quot;]，selector2:  做数据转换处理
2018-03-07 18:12:03,928 test_case_step.py[line: 45] INFO: 转换后的选择器：selector1: xpath=//*[@class="submit_wrap"]，selector2: 
2018-03-07 18:12:03,928 test_case_step.py[line: 47] INFO: 开始对步骤中的元素操作进行操作
2018-03-07 18:12:03,928 test_case_step.py[line: 127] INFO: 操作：点击
2018-03-07 18:12:03,928 test_case_step.py[line: 202] INFO: 开始根据元素定位器：xpath=//*[@class="submit_wrap"] 自定位元素
2018-03-07 18:12:03,928 test_case_step.py[line: 215] INFO: find_element_by_xpath：//*[@class="submit_wrap"]
2018-03-07 18:12:03,978 test_case_step.py[line: 188] INFO: 找到元素：<selenium.webdriver.remote.webelement.WebElement (session="2f0f77c58a469ae33da646f3c5b82b8b", element="0.28055772865570927-3")>
2018-03-07 18:12:05,345 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-07 18:12:05,345 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 13, 1520417523, 4, '登录', '点击', '', '', 'Pass', '点击成功', 'Chrome', '2018-03-07 18:12:3', '')
2018-03-07 18:12:05,348 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-07 18:12:05,349 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：5, 操作：等待， 输入参数：3，预期结果：）
2018-03-07 18:12:05,349 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-07 18:12:05,349 test_case_step.py[line: 88] INFO: 执行函数：等待
2018-03-07 18:12:05,349 test_case_step.py[line: 91] INFO: 正在对输入参数:3 进行参数处理
2018-03-07 18:12:05,349 test_case_step.py[line: 105] INFO: 等待3秒
2018-03-07 18:12:08,349 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-07 18:12:08,349 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 13, 1520417523, 5, '', '等待', '3', '', 'Pass', 'run success', 'Chrome', '2018-03-07 18:12:5', '')
2018-03-07 18:12:08,353 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-07 18:12:08,353 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：6, 操作：断言， 输入参数：德芳运维，预期结果：）
2018-03-07 18:12:08,353 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-07 18:12:08,353 test_case_step.py[line: 88] INFO: 执行函数：断言
2018-03-07 18:12:08,353 test_case_step.py[line: 91] INFO: 正在对输入参数:德芳运维 进行参数处理
2018-03-07 18:12:08,353 test_case_step.py[line: 115] INFO: 断言的标题为:德芳运维
2018-03-07 18:12:08,368 seleniumutil.py[line: 151] INFO: 断言信息为：德芳运维
2018-03-07 18:12:08,368 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-07 18:12:08,369 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 13, 1520417523, 6, '', '断言', '德芳运维', '', 'Pass', '断言成功', 'Chrome', '2018-03-07 18:12:8', '')
2018-03-07 18:12:08,373 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-07 18:12:08,373 test_case.py[line: 58] INFO: 测试步骤执行完毕，正在记录用例运行结果到测试用例运行报表
2018-03-07 18:12:08,373 database.py[line: 58] INFO: query：INSERT INTO testcase_reporter(runHistoryId, browserType, testcaseId, testplanId, runTime, runResult) VALUES(%s, %s, %s, %s, %s, %s)  data：(1520417523, 'Chrome', 13, 3, '2018-03-07 18:12:3', 'Pass')
2018-03-07 18:12:08,377 test_case.py[line: 70] INFO: 正在获取测试用例所有测试步骤
2018-03-07 18:12:08,378 database.py[line: 106] INFO: query：(SELECT a.StepOrder AS StepOrder,c.PageName AS PageName,b.ElementName AS ElementName,b.ElementSelector AS ElementSelector,b.ElementSelector02 AS ElementSelector02,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,a.compid AS compid,a.compFolderid AS comFolderid,'' AS comName FROM testcases_steps AS a, page_elements AS b,pagesobject AS c WHERE a.TestcaseID = %s AND a.ElementId = b.Id AND b.PageId = c.Id)UNION ALL(SELECT a.steporder AS steporder,'' AS PageName,'' AS ElementSelector,'' AS ElementSelector02,'' AS ElementName,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,a.compid AS compid,a.compFolderid AS comFolderid,tc.test_name AS comName FROM testcases_steps AS a, testcases AS tc WHERE a.TestcaseID = %s AND a.compid = tc.id)UNION ALL(SELECT a.steporder AS steporder,'' AS PageName,'' AS ElementSelector,'' AS ElementSelector02,'' AS ElementName,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,'' AS compid,'' AS comFolderid,'' AS comName FROM testcases_steps AS a WHERE a.TestcaseID = %s AND NOT ISNULL(a.stepOrder)AND NOT ISNULL(a.Command) AND ISNULL(compid) AND ElementId='')ORDER BY steporder  data：(18, 18, 18)
2018-03-07 18:12:08,383 test_case.py[line: 123] INFO: 获取的测试步骤为： [(1, '', '', '', '', '等待', '5', '', '', '', ''), (2, '', '', '', '', '切换入iframe', 'iframe89892232323', '', '', '', ''), (3, '审批流', '审批流的链接', 'xpath=html/body/div[1]/div/div/div[2]/div/div/div/div[2]/div/div[1]/ul/li[1]/div[1]', '', '点击', '', '', None, None, ''), (4, '', '', '', '', '切换到新的窗口', '', '', '', '', ''), (5, '', '', '', '', '等待', '5', '', '', '', ''), (6, '审批流', '审批流的同意按钮', 'xpath=//*[@id=&quot;btnAgree&quot;]', '', '点击', '', '', None, None, ''), (7, '', '', '', '', '切换入iframe', '//iframe[contains(@id,&quot;ligerwindow&quot;)]', '', '', '', ''), (8, '审批流', '填写意见的确定按钮', 'xpath=//*[@id=&quot;dataFormSave&quot;]', '', '点击', '', '', None, None, ''), (9, '', '', '', '', '等待', '5', '', '', '', ''), (10, '', '', '', '', '断言文本提示信息', '执行任务成功!', '', '', '', ''), (11, '', '', '', '', '等待', '5', '', '', '', ''), (12, '审批流', '同意的确定按钮', 'xpath=//*[@class=&quot;l-dialog-btn-inner&quot;]', '', '点击', '', '', None, None, '')]
2018-03-07 18:12:08,383 test_case.py[line: 41] INFO: 开始执行测试步骤
2018-03-07 18:12:08,383 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：1, 操作：等待， 输入参数：5，预期结果：）
2018-03-07 18:12:08,383 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-07 18:12:08,383 test_case_step.py[line: 88] INFO: 执行函数：等待
2018-03-07 18:12:08,384 test_case_step.py[line: 91] INFO: 正在对输入参数:5 进行参数处理
2018-03-07 18:12:08,384 test_case_step.py[line: 105] INFO: 等待5秒
2018-03-07 18:12:13,388 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-07 18:12:13,388 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 18, 1520417523, 1, '', '等待', '5', '', 'Pass', 'run success', 'Chrome', '2018-03-07 18:12:8', '')
2018-03-07 18:12:13,391 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-07 18:12:13,392 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：2, 操作：切换入iframe， 输入参数：iframe89892232323，预期结果：）
2018-03-07 18:12:13,392 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-07 18:12:13,392 test_case_step.py[line: 88] INFO: 执行函数：切换入iframe
2018-03-07 18:12:13,392 test_case_step.py[line: 91] INFO: 正在对输入参数:iframe89892232323 进行参数处理
2018-03-07 18:12:13,392 seleniumutil.py[line: 70] ERROR: 切换至frame（id/name/xpath = iframe89892232323）失败
2018-03-07 18:12:13,829 test_case_step.py[line: 272] INFO: 截图文件保存路径为：D:\python\webautotest\screentshot\tp3\tc18\tp3_tc18_step2_1520417523_20180307181213.png
2018-03-07 18:12:13,830 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-07 18:12:13,830 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 18, 1520417523, 2, '', '切换入iframe', 'iframe89892232323', '', 'Fail', AttributeError("'WebDriver' object has no attribute 'swith_to_frame'",), 'Chrome', '2018-03-07 18:12:13', 'ftp://10.1.2.88/tp3_tc18_step2_1520417523_20180307181213.png')
2018-03-07 18:12:13,832 database.py[line: 66] ERROR: 执行数据库插入操作失败：Failed processing format-parameters; Python 'attributeerror' cannot be converted to a MySQL type
2018-03-07 18:12:13,832 test_case_step.py[line: 81] ERROR: 记录到测试步骤结果报表失败 Failed processing format-parameters; Python 'attributeerror' cannot be converted to a MySQL type
2018-03-07 18:12:13,832 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-07 18:12:13,832 test_case.py[line: 46] INFO: 用例[id：18]步骤[步序：2] 运行失败，停止运行用例
2018-03-07 18:12:13,833 test_case.py[line: 58] INFO: 测试步骤执行完毕，正在记录用例运行结果到测试用例运行报表
2018-03-07 18:12:13,833 database.py[line: 58] INFO: query：INSERT INTO testcase_reporter(runHistoryId, browserType, testcaseId, testplanId, runTime, runResult) VALUES(%s, %s, %s, %s, %s, %s)  data：(1520417523, 'Chrome', 18, 3, '2018-03-07 18:12:8', 'Fail')
2018-03-07 18:12:13,836 test_plan.py[line: 65] INFO: ####################### 测试计划已运行完毕 #######################
2018-03-07 18:12:13,836 test_plan.py[line: 66] INFO: 正在统计测试计划执行的用例总数
2018-03-07 18:12:13,836 database.py[line: 88] INFO: query：SELECT count(testcaseId)  FROM testcase_reporter  WHERE runHistoryId = %s  data：(1520417523,)
2018-03-07 18:12:13,838 test_plan.py[line: 75] INFO: 正在统计测试计划执行成功的用例总数
2018-03-07 18:12:13,838 database.py[line: 88] INFO: query：SELECT count(testcaseId)  FROM testcase_reporter WHERE runHistoryId = %s AND runResult='Pass'  data：(1520417523,)
2018-03-07 18:12:13,841 test_plan.py[line: 85] INFO: 正在统计测试计划执行失败的用例总数
2018-03-07 18:12:13,841 database.py[line: 88] INFO: query：SELECT count(testcaseId)  FROM testcase_reporter WHERE runHistoryId = %s AND runResult='Fail'  data：(1520417523,)
2018-03-07 18:12:13,844 test_plan.py[line: 95] INFO: 正在统计测试计划执行被阻塞的用例总数
2018-03-07 18:12:13,844 database.py[line: 88] INFO: query：SELECT count(testcaseId)  FROM testcase_reporter WHERE runHistoryId = %s AND runResult='Block'  data：(1520417523,)
2018-03-07 18:12:13,846 test_plan.py[line: 105] INFO: 正在统计测试计划执行成功的用例
2018-03-07 18:12:13,846 database.py[line: 106] INFO: query：SELECT testcaseId  FROM testcase_reporter WHERE runHistoryId = %s AND runResult='Pass'  data：(1520417523,)
2018-03-07 18:12:13,849 test_plan.py[line: 115] INFO: 正在统计测试计划执行失败的用例
2018-03-07 18:12:13,849 database.py[line: 106] INFO: query：SELECT testcaseId  FROM testcase_reporter WHERE runHistoryId = %s AND runResult='Fail'  data：(1520417523,)
2018-03-07 18:12:13,851 test_plan.py[line: 125] INFO: 正在统计测试计划执行被阻塞的用例
2018-03-07 18:12:13,851 database.py[line: 106] INFO: query：SELECT testcaseId  FROM testcase_reporter WHERE runHistoryId = %s AND runResult='Block'  data：(1520417523,)
2018-03-07 18:12:13,854 test_plan.py[line: 130] INFO: 没找到计划执行被阻塞的用例
2018-03-07 18:12:13,854 test_plan.py[line: 151] INFO: 正在记录测试计划运行结果到测试计划报表
2018-03-07 18:12:13,854 database.py[line: 58] INFO: query：INSERT INTO testplan_reporter(testPlanId, testPlanName, runHistoryId, browserType, runTc_total, runPassedTc_total, runFailedTc_total,runBlockedTc_total, runPassedTc, runFailedTc, runBlockedTc, runTime)VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, '购买记录客服审批', 1520417523, 'Chrome', 2, 1, 1, 0, '(13,)', '(18,)', '', '2018-03-07 18:12:3')
2018-03-07 18:12:13,858 main.py[line: 79] INFO: 计划运行完成，正在关闭浏览器
2018-03-07 18:12:17,460 main.py[line: 82] INFO: ####################### 测试结束 #######################
2018-03-07 18:12:17,460 main.py[line: 126] INFO: 运行完成,准备生成测试报告
2018-03-07 18:12:17,460 htmlreporter.py[line: 35] INFO: 正在查询测试计划执行统计信息（执行总数，成功数，失败数，被阻塞数）
2018-03-07 18:12:17,460 database.py[line: 88] INFO: query：SELECT runTc_total, runPassedTc_total, runFailedTc_total, runBlockedTc_total, testPlanName, testPlanId FROM testplan_reporter WHERE runHistoryId = %s  data：(1520417523,)
2018-03-07 18:12:17,464 htmlreporter.py[line: 111] INFO: 正在查询测试计划：购买记录客服审批 运行的的测试用例
2018-03-07 18:12:17,465 database.py[line: 106] INFO: query：SELECT id, runHistoryId, testcaseId, testplanId, browserType, runResult, runTime FROM testcase_reporter WHERE testplanId=%s AND runHistoryId = %s ORDER BY id ASC  data：('3', 1520417523)
2018-03-07 18:12:17,471 htmlreporter.py[line: 121] INFO: 正在记录测试计划[名称：购买记录客服审批]的测试用例运行结果到测试报告
2018-03-07 18:12:17,471 database.py[line: 88] INFO: query：SELECT test_name FROM testcases WHERE id=%s  data：(13,)
2018-03-07 18:12:17,480 database.py[line: 88] INFO: query：SELECT test_name FROM testcases WHERE id=%s  data：(18,)
2018-03-07 18:12:17,483 htmlreporter.py[line: 151] INFO: 正在查询测试计划：购买记录客服审批 运行的的测试用例
2018-03-07 18:12:17,483 database.py[line: 106] INFO: query：SELECT id, runHistoryId, testcaseId, testplanId, browserType, runResult, runTime  FROM testcase_reporter WHERE testplanId=%s AND runHistoryId = %s ORDER BY id ASC  data：('3', 1520417523)
2018-03-07 18:12:17,486 htmlreporter.py[line: 168] INFO: 正在查询测试用例[id=13, name=客服登录]对应的测试步骤执行明细
2018-03-07 18:12:17,486 database.py[line: 106] INFO: query：SELECT id, stepOrder, runHistoryId, elementName, command, inparams, stepRunResult, expectedResult, stepRunResultDesc, browserType, runTime, screenshotUrl FROM case_step_run_detail WHERE testcaseId=%s AND runHistoryId = %s  ORDER BY id ASC  data：('13', 1520417523)
2018-03-07 18:12:17,492 htmlreporter.py[line: 168] INFO: 正在查询测试用例[id=18, name=购买记录客服审批]对应的测试步骤执行明细
2018-03-07 18:12:17,492 database.py[line: 106] INFO: query：SELECT id, stepOrder, runHistoryId, elementName, command, inparams, stepRunResult, expectedResult, stepRunResultDesc, browserType, runTime, screenshotUrl FROM case_step_run_detail WHERE testcaseId=%s AND runHistoryId = %s  ORDER BY id ASC  data：('18', 1520417523)
2018-03-07 18:12:17,496 htmlreporter.py[line: 211] INFO: 正在设置测试报告结果文件名
2018-03-07 18:12:17,497 htmlreporter.py[line: 222] INFO: 测试报告文件名所在路径为：E:\Projects\report\test_report20180307181217.html
2018-03-07 18:12:17,497 htmlreporter.py[line: 214] INFO: 正在生产测试报告
2018-03-07 18:12:17,518 main.py[line: 130] INFO: 生成测试报告成功
2018-03-07 18:12:17,518 main.py[line: 134] INFO: 运行完成,准备上传截图
2018-03-07 18:12:17,518 ftp.py[line: 42] INFO: is connecting to ftp server 10.1.2.88 on 21
2018-03-07 18:12:17,525 ftp.py[line: 47] INFO: ready to login ftp server
2018-03-07 18:12:17,628 ftp.py[line: 49] INFO: login ftp server successfully
2018-03-07 18:12:17,628 main.py[line: 138] INFO: 正在获取要上传的截图文件
2018-03-07 18:12:17,629 main.py[line: 146] INFO: 正在上传图片到ftp服务器
2018-03-07 18:12:17,629 main.py[line: 150] INFO: 正在上传文件：d:\python\webautotest\screentshot\tp3\tc18\tp3_tc18_step2_1520417523_20180307181213.png 到远程服务器：tp3_tc18_step2_1520417523_20180307181213.png
2018-03-07 18:12:17,640 main.py[line: 153] ERROR: 上传截图到ftp服务器出错：553 Could not create file.
2018-03-07 18:12:17,645 ftp.py[line: 55] INFO: close ftp connection successfully
2018-03-07 18:12:17,645 main.py[line: 156] INFO: 运行完成，准备发送邮件
2018-03-07 18:12:17,873 main.py[line: 162] INFO: 邮件标题为：Hi，附件为web自动化测试报告，烦请查阅邮件内容为：{'E:\\Projects\\report\\test_report20180307181217.html'}，待发送邮件附件有 【测试报告】web自动化测试报告20180307181217
2018-03-07 18:12:17,873 main.py[line: 163] INFO: 正在发送测试报告邮件...
2018-03-07 18:12:18,547 main.py[line: 166] INFO: 发送邮件成功
2018-03-07 18:12:18,547 main.py[line: 172] INFO: 正在关闭数据库
2018-03-07 18:28:12,015 globalvar.py[line: 23] INFO: #####################正在初始化全局配置#####################
2018-03-07 18:28:12,016 globalvar.py[line: 24] INFO: 正在选择数据库运行环境和站点运行环境
2018-03-07 18:28:12,016 globalvar.py[line: 34] INFO: 在测试环境执行测试，正在获取测试环境的web site
2018-03-07 18:28:12,016 globalvar.py[line: 45] INFO: 在测试环境执行测试，正在获取测试环境的数据库
2018-03-07 18:28:12,026 globalvar.py[line: 55] INFO: 正在进行ftp配置
2018-03-07 18:28:12,033 globalvar.py[line: 62] INFO: 正在获取运行模式
2018-03-07 18:28:12,033 globalvar.py[line: 66] INFO: 运行模式为:<module 'publicpkg.runmode' from 'D:\\python\\webautotest\\publicpkg\\runmode.py'>
2018-03-07 18:28:12,034 globalvar.py[line: 69] INFO: 测试计划配置:[3]
2018-03-07 18:28:12,034 globalvar.py[line: 72] INFO: 全局初始化用例配置:[123]
2018-03-07 18:28:12,034 globalvar.py[line: 75] INFO: 正在获取浏览器配置
2018-03-07 18:28:12,034 globalvar.py[line: 79] INFO: 获取需要进行测试的浏览器有：['Chrome']
2018-03-07 18:28:12,034 globalvar.py[line: 82] INFO: 正在初始化其它工具对象
2018-03-07 18:28:12,034 globalvar.py[line: 86] INFO: 正在进行截图基路径配置
2018-03-07 18:28:12,035 globalvar.py[line: 91] INFO: 截图报存基路径为：D:\python\webautotest\screentshot\
2018-03-07 18:28:12,035 globalvar.py[line: 95] INFO: 正在进行测试报告配置
2018-03-07 18:28:12,035 globalvar.py[line: 96] INFO: --1、读取测试报告路径及文件名
2018-03-07 18:28:12,035 globalvar.py[line: 101] INFO: --2、构造测试报告
2018-03-07 18:28:12,035 globalvar.py[line: 104] INFO: --3、设置报告生成路径
2018-03-07 18:28:12,035 globalvar.py[line: 107] INFO: #####################初始化全局配置完毕#####################
2018-03-07 18:28:12,037 main.py[line: 61] INFO: ####################### 开始测试 #######################
2018-03-07 18:28:17,799 test_plan.py[line: 28] INFO: 正在获取本次测试需要执行的测试用列ID列表，测试计划名称
2018-03-07 18:28:17,799 database.py[line: 88] INFO: query：SELECT testcase_list, test_round_name FROM testcase_runround WHERE id = %s   data：(3,)
2018-03-07 18:28:17,802 test_plan.py[line: 44] INFO: 获取到的的测试用例id列表为: [13, 18]
2018-03-07 18:28:17,803 test_plan.py[line: 48] INFO: ####################### 开始运行测试计划 #######################
2018-03-07 18:28:17,803 test_case.py[line: 17] INFO: 正在构造并初始化测试用例对象[id=13]
2018-03-07 18:28:17,803 test_case.py[line: 26] INFO: 初始测试用例完毕
2018-03-07 18:28:17,803 test_case.py[line: 17] INFO: 正在构造并初始化测试用例对象[id=18]
2018-03-07 18:28:17,803 test_case.py[line: 26] INFO: 初始测试用例完毕
2018-03-07 18:28:17,804 test_case.py[line: 70] INFO: 正在获取测试用例所有测试步骤
2018-03-07 18:28:17,804 database.py[line: 106] INFO: query：(SELECT a.StepOrder AS StepOrder,c.PageName AS PageName,b.ElementName AS ElementName,b.ElementSelector AS ElementSelector,b.ElementSelector02 AS ElementSelector02,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,a.compid AS compid,a.compFolderid AS comFolderid,'' AS comName FROM testcases_steps AS a, page_elements AS b,pagesobject AS c WHERE a.TestcaseID = %s AND a.ElementId = b.Id AND b.PageId = c.Id)UNION ALL(SELECT a.steporder AS steporder,'' AS PageName,'' AS ElementSelector,'' AS ElementSelector02,'' AS ElementName,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,a.compid AS compid,a.compFolderid AS comFolderid,tc.test_name AS comName FROM testcases_steps AS a, testcases AS tc WHERE a.TestcaseID = %s AND a.compid = tc.id)UNION ALL(SELECT a.steporder AS steporder,'' AS PageName,'' AS ElementSelector,'' AS ElementSelector02,'' AS ElementName,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,'' AS compid,'' AS comFolderid,'' AS comName FROM testcases_steps AS a WHERE a.TestcaseID = %s AND NOT ISNULL(a.stepOrder)AND NOT ISNULL(a.Command) AND ISNULL(compid) AND ElementId='')ORDER BY steporder  data：(13, 13, 13)
2018-03-07 18:28:17,808 test_case.py[line: 123] INFO: 获取的测试步骤为： [(1, '', '', '', '', '断言', '深圳市金斧子网络科技有限公司-ERP', '', '', '', ''), (2, '用户登录', '用户名', 'xpath=//*[@name=&quot;username&quot;]', '', '输入', 'defang3', '', None, None, ''), (3, '用户登录', '密码', 'xpath=//*[@name=&quot;password&quot;]', '', '输入', '123', '', None, None, ''), (4, '用户登录', '登录', 'xpath=//*[@class=&quot;submit_wrap&quot;]', '', '点击', '', '', None, None, ''), (5, '', '', '', '', '等待', '3', '', '', '', ''), (6, '', '', '', '', '断言', '德芳运维', '', '', '', '')]
2018-03-07 18:28:17,809 test_case.py[line: 41] INFO: 开始执行测试步骤
2018-03-07 18:28:17,809 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：1, 操作：断言， 输入参数：深圳市金斧子网络科技有限公司-ERP，预期结果：）
2018-03-07 18:28:17,809 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-07 18:28:17,809 test_case_step.py[line: 88] INFO: 执行函数：断言
2018-03-07 18:28:17,809 test_case_step.py[line: 91] INFO: 正在对输入参数:深圳市金斧子网络科技有限公司-ERP 进行参数处理
2018-03-07 18:28:17,809 test_case_step.py[line: 115] INFO: 断言的标题为:深圳市金斧子网络科技有限公司-ERP
2018-03-07 18:28:17,815 seleniumutil.py[line: 151] INFO: 断言信息为：深圳市金斧子网络科技有限公司-ERP
2018-03-07 18:28:17,815 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-07 18:28:17,815 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 13, 1520418497, 1, '', '断言', '深圳市金斧子网络科技有限公司-ERP', '', 'Pass', '断言成功', 'Chrome', '2018-03-07 18:28:17', '')
2018-03-07 18:28:17,819 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-07 18:28:17,819 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：用户名, 步序：2, 操作：输入， 输入参数：defang3，预期结果：）
2018-03-07 18:28:17,819 test_case_step.py[line: 38] INFO: 正在执行最普通的元素操作
2018-03-07 18:28:17,819 test_case_step.py[line: 42] INFO: 正在对选择器：selector1: xpath=//*[@name=&quot;username&quot;]，selector2:  做数据转换处理
2018-03-07 18:28:17,819 test_case_step.py[line: 45] INFO: 转换后的选择器：selector1: xpath=//*[@name="username"]，selector2: 
2018-03-07 18:28:17,819 test_case_step.py[line: 47] INFO: 开始对步骤中的元素操作进行操作
2018-03-07 18:28:17,819 test_case_step.py[line: 127] INFO: 操作：输入
2018-03-07 18:28:17,819 test_case_step.py[line: 129] INFO: 正在对输入参数:defang3 进行参数处理
2018-03-07 18:28:17,819 test_case_step.py[line: 133] INFO: 处理后的输入参数为:['defang3'] 
2018-03-07 18:28:17,819 test_case_step.py[line: 202] INFO: 开始根据元素定位器：xpath=//*[@name="username"] 自定位元素
2018-03-07 18:28:17,819 test_case_step.py[line: 215] INFO: find_element_by_xpath：//*[@name="username"]
2018-03-07 18:28:17,835 test_case_step.py[line: 188] INFO: 找到元素：<selenium.webdriver.remote.webelement.WebElement (session="f22799281ed829dd241df3545eabc7b3", element="0.9100269414077724-1")>
2018-03-07 18:28:17,896 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-07 18:28:17,896 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 13, 1520418497, 2, '用户名', '输入', 'defang3', '', 'Pass', '输入数据成功', 'Chrome', '2018-03-07 18:28:17', '')
2018-03-07 18:28:17,900 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-07 18:28:17,900 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：密码, 步序：3, 操作：输入， 输入参数：123，预期结果：）
2018-03-07 18:28:17,900 test_case_step.py[line: 38] INFO: 正在执行最普通的元素操作
2018-03-07 18:28:17,900 test_case_step.py[line: 42] INFO: 正在对选择器：selector1: xpath=//*[@name=&quot;password&quot;]，selector2:  做数据转换处理
2018-03-07 18:28:17,900 test_case_step.py[line: 45] INFO: 转换后的选择器：selector1: xpath=//*[@name="password"]，selector2: 
2018-03-07 18:28:17,901 test_case_step.py[line: 47] INFO: 开始对步骤中的元素操作进行操作
2018-03-07 18:28:17,901 test_case_step.py[line: 127] INFO: 操作：输入
2018-03-07 18:28:17,901 test_case_step.py[line: 129] INFO: 正在对输入参数:123 进行参数处理
2018-03-07 18:28:17,901 test_case_step.py[line: 133] INFO: 处理后的输入参数为:['123'] 
2018-03-07 18:28:17,901 test_case_step.py[line: 202] INFO: 开始根据元素定位器：xpath=//*[@name="password"] 自定位元素
2018-03-07 18:28:17,901 test_case_step.py[line: 215] INFO: find_element_by_xpath：//*[@name="password"]
2018-03-07 18:28:17,915 test_case_step.py[line: 188] INFO: 找到元素：<selenium.webdriver.remote.webelement.WebElement (session="f22799281ed829dd241df3545eabc7b3", element="0.9100269414077724-2")>
2018-03-07 18:28:17,955 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-07 18:28:17,955 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 13, 1520418497, 3, '密码', '输入', '123', '', 'Pass', '输入数据成功', 'Chrome', '2018-03-07 18:28:17', '')
2018-03-07 18:28:17,960 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-07 18:28:17,961 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：登录, 步序：4, 操作：点击， 输入参数：，预期结果：）
2018-03-07 18:28:17,961 test_case_step.py[line: 38] INFO: 正在执行最普通的元素操作
2018-03-07 18:28:17,961 test_case_step.py[line: 42] INFO: 正在对选择器：selector1: xpath=//*[@class=&quot;submit_wrap&quot;]，selector2:  做数据转换处理
2018-03-07 18:28:17,961 test_case_step.py[line: 45] INFO: 转换后的选择器：selector1: xpath=//*[@class="submit_wrap"]，selector2: 
2018-03-07 18:28:17,961 test_case_step.py[line: 47] INFO: 开始对步骤中的元素操作进行操作
2018-03-07 18:28:17,961 test_case_step.py[line: 127] INFO: 操作：点击
2018-03-07 18:28:17,961 test_case_step.py[line: 202] INFO: 开始根据元素定位器：xpath=//*[@class="submit_wrap"] 自定位元素
2018-03-07 18:28:17,961 test_case_step.py[line: 215] INFO: find_element_by_xpath：//*[@class="submit_wrap"]
2018-03-07 18:28:17,978 test_case_step.py[line: 188] INFO: 找到元素：<selenium.webdriver.remote.webelement.WebElement (session="f22799281ed829dd241df3545eabc7b3", element="0.9100269414077724-3")>
2018-03-07 18:28:19,403 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-07 18:28:19,403 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 13, 1520418497, 4, '登录', '点击', '', '', 'Pass', '点击成功', 'Chrome', '2018-03-07 18:28:17', '')
2018-03-07 18:28:19,407 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-07 18:28:19,407 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：5, 操作：等待， 输入参数：3，预期结果：）
2018-03-07 18:28:19,407 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-07 18:28:19,407 test_case_step.py[line: 88] INFO: 执行函数：等待
2018-03-07 18:28:19,407 test_case_step.py[line: 91] INFO: 正在对输入参数:3 进行参数处理
2018-03-07 18:28:19,407 test_case_step.py[line: 105] INFO: 等待3秒
2018-03-07 18:28:22,407 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-07 18:28:22,407 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 13, 1520418497, 5, '', '等待', '3', '', 'Pass', 'run success', 'Chrome', '2018-03-07 18:28:19', '')
2018-03-07 18:28:22,411 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-07 18:28:22,411 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：6, 操作：断言， 输入参数：德芳运维，预期结果：）
2018-03-07 18:28:22,412 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-07 18:28:22,412 test_case_step.py[line: 88] INFO: 执行函数：断言
2018-03-07 18:28:22,412 test_case_step.py[line: 91] INFO: 正在对输入参数:德芳运维 进行参数处理
2018-03-07 18:28:22,412 test_case_step.py[line: 115] INFO: 断言的标题为:德芳运维
2018-03-07 18:28:22,425 seleniumutil.py[line: 151] INFO: 断言信息为：德芳运维
2018-03-07 18:28:22,425 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-07 18:28:22,425 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 13, 1520418497, 6, '', '断言', '德芳运维', '', 'Pass', '断言成功', 'Chrome', '2018-03-07 18:28:22', '')
2018-03-07 18:28:22,429 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-07 18:28:22,429 test_case.py[line: 58] INFO: 测试步骤执行完毕，正在记录用例运行结果到测试用例运行报表
2018-03-07 18:28:22,429 database.py[line: 58] INFO: query：INSERT INTO testcase_reporter(runHistoryId, browserType, testcaseId, testplanId, runTime, runResult) VALUES(%s, %s, %s, %s, %s, %s)  data：(1520418497, 'Chrome', 13, 3, '2018-03-07 18:28:17', 'Pass')
2018-03-07 18:28:22,433 test_case.py[line: 70] INFO: 正在获取测试用例所有测试步骤
2018-03-07 18:28:22,433 database.py[line: 106] INFO: query：(SELECT a.StepOrder AS StepOrder,c.PageName AS PageName,b.ElementName AS ElementName,b.ElementSelector AS ElementSelector,b.ElementSelector02 AS ElementSelector02,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,a.compid AS compid,a.compFolderid AS comFolderid,'' AS comName FROM testcases_steps AS a, page_elements AS b,pagesobject AS c WHERE a.TestcaseID = %s AND a.ElementId = b.Id AND b.PageId = c.Id)UNION ALL(SELECT a.steporder AS steporder,'' AS PageName,'' AS ElementSelector,'' AS ElementSelector02,'' AS ElementName,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,a.compid AS compid,a.compFolderid AS comFolderid,tc.test_name AS comName FROM testcases_steps AS a, testcases AS tc WHERE a.TestcaseID = %s AND a.compid = tc.id)UNION ALL(SELECT a.steporder AS steporder,'' AS PageName,'' AS ElementSelector,'' AS ElementSelector02,'' AS ElementName,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,'' AS compid,'' AS comFolderid,'' AS comName FROM testcases_steps AS a WHERE a.TestcaseID = %s AND NOT ISNULL(a.stepOrder)AND NOT ISNULL(a.Command) AND ISNULL(compid) AND ElementId='')ORDER BY steporder  data：(18, 18, 18)
2018-03-07 18:28:22,439 test_case.py[line: 123] INFO: 获取的测试步骤为： [(1, '', '', '', '', '等待', '5', '', '', '', ''), (2, '审批流', '切换入iframe', 'id=iframe89892232323', '', '切换入iframe', '', '', None, None, ''), (3, '审批流', '审批流的链接', 'xpath=html/body/div[1]/div/div/div[2]/div/div/div/div[2]/div/div[1]/ul/li[1]/div[1]', '', '点击', '', '', None, None, ''), (4, '', '', '', '', '切换到新的窗口', '', '', '', '', ''), (5, '', '', '', '', '等待', '5', '', '', '', ''), (6, '审批流', '审批流的同意按钮', 'xpath=//*[@id=&quot;btnAgree&quot;]', '', '点击', '', '', None, None, ''), (7, '', '', '', '', '切换入iframe', '//iframe[contains(@id,&quot;ligerwindow&quot;)]', '', '', '', ''), (8, '审批流', '填写意见的确定按钮', 'xpath=//*[@id=&quot;dataFormSave&quot;]', '', '点击', '', '', None, None, ''), (9, '', '', '', '', '等待', '5', '', '', '', ''), (10, '', '', '', '', '断言文本提示信息', '执行任务成功!', '', '', '', ''), (11, '', '', '', '', '等待', '5', '', '', '', ''), (12, '审批流', '同意的确定按钮', 'xpath=//*[@class=&quot;l-dialog-btn-inner&quot;]', '', '点击', '', '', None, None, '')]
2018-03-07 18:28:22,439 test_case.py[line: 41] INFO: 开始执行测试步骤
2018-03-07 18:28:22,439 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：1, 操作：等待， 输入参数：5，预期结果：）
2018-03-07 18:28:22,439 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-07 18:28:22,439 test_case_step.py[line: 88] INFO: 执行函数：等待
2018-03-07 18:28:22,439 test_case_step.py[line: 91] INFO: 正在对输入参数:5 进行参数处理
2018-03-07 18:28:22,439 test_case_step.py[line: 105] INFO: 等待5秒
2018-03-07 18:28:27,443 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-07 18:28:27,444 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 18, 1520418497, 1, '', '等待', '5', '', 'Pass', 'run success', 'Chrome', '2018-03-07 18:28:22', '')
2018-03-07 18:28:27,448 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-07 18:28:27,449 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：切换入iframe, 步序：2, 操作：切换入iframe， 输入参数：，预期结果：）
2018-03-07 18:28:27,449 test_case_step.py[line: 38] INFO: 正在执行最普通的元素操作
2018-03-07 18:28:27,449 test_case_step.py[line: 42] INFO: 正在对选择器：selector1: id=iframe89892232323，selector2:  做数据转换处理
2018-03-07 18:28:27,449 test_case_step.py[line: 45] INFO: 转换后的选择器：selector1: id=iframe89892232323，selector2: 
2018-03-07 18:28:27,449 test_case_step.py[line: 47] INFO: 开始对步骤中的元素操作进行操作
2018-03-07 18:28:27,449 test_case_step.py[line: 127] INFO: 操作：切换入iframe
2018-03-07 18:28:27,449 test_case_step.py[line: 180] ERROR: command为空,或者填写错误
2018-03-07 18:28:27,895 test_case_step.py[line: 272] INFO: 截图文件保存路径为：D:\python\webautotest\screentshot\tp3\tc18\tp3_tc18_step2_1520418497_20180307182827.png
2018-03-07 18:28:27,896 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-07 18:28:27,896 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 18, 1520418497, 2, '切换入iframe', '切换入iframe', '', '', 'Fail', 'comman为空或者填写错误', 'Chrome', '2018-03-07 18:28:27', 'ftp://10.1.2.88/tp3_tc18_step2_1520418497_20180307182827.png')
2018-03-07 18:28:27,900 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-07 18:28:27,900 test_case.py[line: 46] INFO: 用例[id：18]步骤[步序：2] 运行失败，停止运行用例
2018-03-07 18:28:27,900 test_case.py[line: 58] INFO: 测试步骤执行完毕，正在记录用例运行结果到测试用例运行报表
2018-03-07 18:28:27,900 database.py[line: 58] INFO: query：INSERT INTO testcase_reporter(runHistoryId, browserType, testcaseId, testplanId, runTime, runResult) VALUES(%s, %s, %s, %s, %s, %s)  data：(1520418497, 'Chrome', 18, 3, '2018-03-07 18:28:22', 'Fail')
2018-03-07 18:28:27,903 test_plan.py[line: 65] INFO: ####################### 测试计划已运行完毕 #######################
2018-03-07 18:28:27,904 test_plan.py[line: 66] INFO: 正在统计测试计划执行的用例总数
2018-03-07 18:28:27,904 database.py[line: 88] INFO: query：SELECT count(testcaseId)  FROM testcase_reporter  WHERE runHistoryId = %s  data：(1520418497,)
2018-03-07 18:28:27,906 test_plan.py[line: 75] INFO: 正在统计测试计划执行成功的用例总数
2018-03-07 18:28:27,906 database.py[line: 88] INFO: query：SELECT count(testcaseId)  FROM testcase_reporter WHERE runHistoryId = %s AND runResult='Pass'  data：(1520418497,)
2018-03-07 18:28:27,909 test_plan.py[line: 85] INFO: 正在统计测试计划执行失败的用例总数
2018-03-07 18:28:27,909 database.py[line: 88] INFO: query：SELECT count(testcaseId)  FROM testcase_reporter WHERE runHistoryId = %s AND runResult='Fail'  data：(1520418497,)
2018-03-07 18:28:27,911 test_plan.py[line: 95] INFO: 正在统计测试计划执行被阻塞的用例总数
2018-03-07 18:28:27,911 database.py[line: 88] INFO: query：SELECT count(testcaseId)  FROM testcase_reporter WHERE runHistoryId = %s AND runResult='Block'  data：(1520418497,)
2018-03-07 18:28:27,914 test_plan.py[line: 105] INFO: 正在统计测试计划执行成功的用例
2018-03-07 18:28:27,914 database.py[line: 106] INFO: query：SELECT testcaseId  FROM testcase_reporter WHERE runHistoryId = %s AND runResult='Pass'  data：(1520418497,)
2018-03-07 18:28:27,916 test_plan.py[line: 115] INFO: 正在统计测试计划执行失败的用例
2018-03-07 18:28:27,916 database.py[line: 106] INFO: query：SELECT testcaseId  FROM testcase_reporter WHERE runHistoryId = %s AND runResult='Fail'  data：(1520418497,)
2018-03-07 18:28:27,919 test_plan.py[line: 125] INFO: 正在统计测试计划执行被阻塞的用例
2018-03-07 18:28:27,919 database.py[line: 106] INFO: query：SELECT testcaseId  FROM testcase_reporter WHERE runHistoryId = %s AND runResult='Block'  data：(1520418497,)
2018-03-07 18:28:27,922 test_plan.py[line: 130] INFO: 没找到计划执行被阻塞的用例
2018-03-07 18:28:27,923 test_plan.py[line: 151] INFO: 正在记录测试计划运行结果到测试计划报表
2018-03-07 18:28:27,923 database.py[line: 58] INFO: query：INSERT INTO testplan_reporter(testPlanId, testPlanName, runHistoryId, browserType, runTc_total, runPassedTc_total, runFailedTc_total,runBlockedTc_total, runPassedTc, runFailedTc, runBlockedTc, runTime)VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, '购买记录客服审批', 1520418497, 'Chrome', 2, 1, 1, 0, '(13,)', '(18,)', '', '2018-03-07 18:28:17')
2018-03-07 18:28:27,926 main.py[line: 79] INFO: 计划运行完成，正在关闭浏览器
2018-03-07 18:28:31,403 main.py[line: 82] INFO: ####################### 测试结束 #######################
2018-03-07 18:28:31,403 main.py[line: 126] INFO: 运行完成,准备生成测试报告
2018-03-07 18:28:31,403 htmlreporter.py[line: 35] INFO: 正在查询测试计划执行统计信息（执行总数，成功数，失败数，被阻塞数）
2018-03-07 18:28:31,403 database.py[line: 88] INFO: query：SELECT runTc_total, runPassedTc_total, runFailedTc_total, runBlockedTc_total, testPlanName, testPlanId FROM testplan_reporter WHERE runHistoryId = %s  data：(1520418497,)
2018-03-07 18:28:31,408 htmlreporter.py[line: 111] INFO: 正在查询测试计划：购买记录客服审批 运行的的测试用例
2018-03-07 18:28:31,408 database.py[line: 106] INFO: query：SELECT id, runHistoryId, testcaseId, testplanId, browserType, runResult, runTime FROM testcase_reporter WHERE testplanId=%s AND runHistoryId = %s ORDER BY id ASC  data：('3', 1520418497)
2018-03-07 18:28:31,412 htmlreporter.py[line: 121] INFO: 正在记录测试计划[名称：购买记录客服审批]的测试用例运行结果到测试报告
2018-03-07 18:28:31,412 database.py[line: 88] INFO: query：SELECT test_name FROM testcases WHERE id=%s  data：(13,)
2018-03-07 18:28:31,415 database.py[line: 88] INFO: query：SELECT test_name FROM testcases WHERE id=%s  data：(18,)
2018-03-07 18:28:31,418 htmlreporter.py[line: 151] INFO: 正在查询测试计划：购买记录客服审批 运行的的测试用例
2018-03-07 18:28:31,419 database.py[line: 106] INFO: query：SELECT id, runHistoryId, testcaseId, testplanId, browserType, runResult, runTime  FROM testcase_reporter WHERE testplanId=%s AND runHistoryId = %s ORDER BY id ASC  data：('3', 1520418497)
2018-03-07 18:28:31,423 htmlreporter.py[line: 168] INFO: 正在查询测试用例[id=13, name=客服登录]对应的测试步骤执行明细
2018-03-07 18:28:31,423 database.py[line: 106] INFO: query：SELECT id, stepOrder, runHistoryId, elementName, command, inparams, stepRunResult, expectedResult, stepRunResultDesc, browserType, runTime, screenshotUrl FROM case_step_run_detail WHERE testcaseId=%s AND runHistoryId = %s  ORDER BY id ASC  data：('13', 1520418497)
2018-03-07 18:28:31,428 htmlreporter.py[line: 168] INFO: 正在查询测试用例[id=18, name=购买记录客服审批]对应的测试步骤执行明细
2018-03-07 18:28:31,428 database.py[line: 106] INFO: query：SELECT id, stepOrder, runHistoryId, elementName, command, inparams, stepRunResult, expectedResult, stepRunResultDesc, browserType, runTime, screenshotUrl FROM case_step_run_detail WHERE testcaseId=%s AND runHistoryId = %s  ORDER BY id ASC  data：('18', 1520418497)
2018-03-07 18:28:31,433 htmlreporter.py[line: 211] INFO: 正在设置测试报告结果文件名
2018-03-07 18:28:31,433 htmlreporter.py[line: 222] INFO: 测试报告文件名所在路径为：E:\Projects\report\test_report20180307182831.html
2018-03-07 18:28:31,433 htmlreporter.py[line: 214] INFO: 正在生产测试报告
2018-03-07 18:28:31,434 main.py[line: 130] INFO: 生成测试报告成功
2018-03-07 18:28:31,434 main.py[line: 134] INFO: 运行完成,准备上传截图
2018-03-07 18:28:31,435 ftp.py[line: 42] INFO: is connecting to ftp server 10.1.2.88 on 21
2018-03-07 18:28:31,442 ftp.py[line: 47] INFO: ready to login ftp server
2018-03-07 18:28:31,557 ftp.py[line: 49] INFO: login ftp server successfully
2018-03-07 18:28:31,558 main.py[line: 138] INFO: 正在获取要上传的截图文件
2018-03-07 18:28:31,559 main.py[line: 146] INFO: 正在上传图片到ftp服务器
2018-03-07 18:28:31,559 main.py[line: 150] INFO: 正在上传文件：d:\python\webautotest\screentshot\tp3\tc18\tp3_tc18_step2_1520418497_20180307182827.png 到远程服务器：tp3_tc18_step2_1520418497_20180307182827.png
2018-03-07 18:28:31,570 main.py[line: 153] ERROR: 上传截图到ftp服务器出错：553 Could not create file.
2018-03-07 18:28:31,575 ftp.py[line: 55] INFO: close ftp connection successfully
2018-03-07 18:28:31,575 main.py[line: 156] INFO: 运行完成，准备发送邮件
2018-03-07 18:28:32,831 main.py[line: 162] INFO: 邮件标题为：Hi，附件为web自动化测试报告，烦请查阅邮件内容为：{'E:\\Projects\\report\\test_report20180307182831.html'}，待发送邮件附件有 【测试报告】web自动化测试报告20180307182831
2018-03-07 18:28:32,831 main.py[line: 163] INFO: 正在发送测试报告邮件...
2018-03-07 18:28:33,906 main.py[line: 166] INFO: 发送邮件成功
2018-03-07 18:28:33,906 main.py[line: 172] INFO: 正在关闭数据库
2018-03-07 18:34:57,743 globalvar.py[line: 23] INFO: #####################正在初始化全局配置#####################
2018-03-07 18:34:57,743 globalvar.py[line: 24] INFO: 正在选择数据库运行环境和站点运行环境
2018-03-07 18:34:57,744 globalvar.py[line: 34] INFO: 在测试环境执行测试，正在获取测试环境的web site
2018-03-07 18:34:57,744 globalvar.py[line: 45] INFO: 在测试环境执行测试，正在获取测试环境的数据库
2018-03-07 18:34:57,772 globalvar.py[line: 55] INFO: 正在进行ftp配置
2018-03-07 18:34:57,779 globalvar.py[line: 62] INFO: 正在获取运行模式
2018-03-07 18:34:57,780 globalvar.py[line: 66] INFO: 运行模式为:<module 'publicpkg.runmode' from 'D:\\python\\webautotest\\publicpkg\\runmode.py'>
2018-03-07 18:34:57,780 globalvar.py[line: 69] INFO: 测试计划配置:[3]
2018-03-07 18:34:57,780 globalvar.py[line: 72] INFO: 全局初始化用例配置:[123]
2018-03-07 18:34:57,780 globalvar.py[line: 75] INFO: 正在获取浏览器配置
2018-03-07 18:34:57,780 globalvar.py[line: 79] INFO: 获取需要进行测试的浏览器有：['Chrome']
2018-03-07 18:34:57,780 globalvar.py[line: 82] INFO: 正在初始化其它工具对象
2018-03-07 18:34:57,780 globalvar.py[line: 86] INFO: 正在进行截图基路径配置
2018-03-07 18:34:57,781 globalvar.py[line: 91] INFO: 截图报存基路径为：D:\python\webautotest\screentshot\
2018-03-07 18:34:57,781 globalvar.py[line: 95] INFO: 正在进行测试报告配置
2018-03-07 18:34:57,781 globalvar.py[line: 96] INFO: --1、读取测试报告路径及文件名
2018-03-07 18:34:57,781 globalvar.py[line: 101] INFO: --2、构造测试报告
2018-03-07 18:34:57,781 globalvar.py[line: 104] INFO: --3、设置报告生成路径
2018-03-07 18:34:57,782 globalvar.py[line: 107] INFO: #####################初始化全局配置完毕#####################
2018-03-07 18:34:57,783 main.py[line: 61] INFO: ####################### 开始测试 #######################
2018-03-07 18:35:04,360 test_plan.py[line: 28] INFO: 正在获取本次测试需要执行的测试用列ID列表，测试计划名称
2018-03-07 18:35:04,360 database.py[line: 88] INFO: query：SELECT testcase_list, test_round_name FROM testcase_runround WHERE id = %s   data：(3,)
2018-03-07 18:35:04,363 test_plan.py[line: 44] INFO: 获取到的的测试用例id列表为: [13, 18]
2018-03-07 18:35:04,364 test_plan.py[line: 48] INFO: ####################### 开始运行测试计划 #######################
2018-03-07 18:35:04,364 test_case.py[line: 17] INFO: 正在构造并初始化测试用例对象[id=13]
2018-03-07 18:35:04,364 test_case.py[line: 26] INFO: 初始测试用例完毕
2018-03-07 18:35:04,364 test_case.py[line: 17] INFO: 正在构造并初始化测试用例对象[id=18]
2018-03-07 18:35:04,364 test_case.py[line: 26] INFO: 初始测试用例完毕
2018-03-07 18:35:04,365 test_case.py[line: 70] INFO: 正在获取测试用例所有测试步骤
2018-03-07 18:35:04,366 database.py[line: 106] INFO: query：(SELECT a.StepOrder AS StepOrder,c.PageName AS PageName,b.ElementName AS ElementName,b.ElementSelector AS ElementSelector,b.ElementSelector02 AS ElementSelector02,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,a.compid AS compid,a.compFolderid AS comFolderid,'' AS comName FROM testcases_steps AS a, page_elements AS b,pagesobject AS c WHERE a.TestcaseID = %s AND a.ElementId = b.Id AND b.PageId = c.Id)UNION ALL(SELECT a.steporder AS steporder,'' AS PageName,'' AS ElementSelector,'' AS ElementSelector02,'' AS ElementName,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,a.compid AS compid,a.compFolderid AS comFolderid,tc.test_name AS comName FROM testcases_steps AS a, testcases AS tc WHERE a.TestcaseID = %s AND a.compid = tc.id)UNION ALL(SELECT a.steporder AS steporder,'' AS PageName,'' AS ElementSelector,'' AS ElementSelector02,'' AS ElementName,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,'' AS compid,'' AS comFolderid,'' AS comName FROM testcases_steps AS a WHERE a.TestcaseID = %s AND NOT ISNULL(a.stepOrder)AND NOT ISNULL(a.Command) AND ISNULL(compid) AND ElementId='')ORDER BY steporder  data：(13, 13, 13)
2018-03-07 18:35:04,371 test_case.py[line: 123] INFO: 获取的测试步骤为： [(1, '', '', '', '', '断言', '深圳市金斧子网络科技有限公司-ERP', '', '', '', ''), (2, '用户登录', '用户名', 'xpath=//*[@name=&quot;username&quot;]', '', '输入', 'defang3', '', None, None, ''), (3, '用户登录', '密码', 'xpath=//*[@name=&quot;password&quot;]', '', '输入', '123', '', None, None, ''), (4, '用户登录', '登录', 'xpath=//*[@class=&quot;submit_wrap&quot;]', '', '点击', '', '', None, None, ''), (5, '', '', '', '', '等待', '3', '', '', '', ''), (6, '', '', '', '', '断言', '德芳运维', '', '', '', '')]
2018-03-07 18:35:04,371 test_case.py[line: 41] INFO: 开始执行测试步骤
2018-03-07 18:35:04,372 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：1, 操作：断言， 输入参数：深圳市金斧子网络科技有限公司-ERP，预期结果：）
2018-03-07 18:35:04,372 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-07 18:35:04,372 test_case_step.py[line: 88] INFO: 执行函数：断言
2018-03-07 18:35:04,372 test_case_step.py[line: 91] INFO: 正在对输入参数:深圳市金斧子网络科技有限公司-ERP 进行参数处理
2018-03-07 18:35:04,372 test_case_step.py[line: 115] INFO: 断言的标题为:深圳市金斧子网络科技有限公司-ERP
2018-03-07 18:35:04,381 seleniumutil.py[line: 151] INFO: 断言信息为：深圳市金斧子网络科技有限公司-ERP
2018-03-07 18:35:04,381 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-07 18:35:04,381 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 13, 1520418904, 1, '', '断言', '深圳市金斧子网络科技有限公司-ERP', '', 'Pass', '断言成功', 'Chrome', '2018-03-07 18:35:4', '')
2018-03-07 18:35:04,385 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-07 18:35:04,386 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：用户名, 步序：2, 操作：输入， 输入参数：defang3，预期结果：）
2018-03-07 18:35:04,386 test_case_step.py[line: 38] INFO: 正在执行最普通的元素操作
2018-03-07 18:35:04,386 test_case_step.py[line: 42] INFO: 正在对选择器：selector1: xpath=//*[@name=&quot;username&quot;]，selector2:  做数据转换处理
2018-03-07 18:35:04,386 test_case_step.py[line: 45] INFO: 转换后的选择器：selector1: xpath=//*[@name="username"]，selector2: 
2018-03-07 18:35:04,386 test_case_step.py[line: 47] INFO: 开始对步骤中的元素操作进行操作
2018-03-07 18:35:04,386 test_case_step.py[line: 127] INFO: 操作：输入
2018-03-07 18:35:04,386 test_case_step.py[line: 129] INFO: 正在对输入参数:defang3 进行参数处理
2018-03-07 18:35:04,386 test_case_step.py[line: 133] INFO: 处理后的输入参数为:['defang3'] 
2018-03-07 18:35:04,386 test_case_step.py[line: 202] INFO: 开始根据元素定位器：xpath=//*[@name="username"] 自定位元素
2018-03-07 18:35:04,386 test_case_step.py[line: 215] INFO: find_element_by_xpath：//*[@name="username"]
2018-03-07 18:35:04,403 test_case_step.py[line: 188] INFO: 找到元素：<selenium.webdriver.remote.webelement.WebElement (session="304e1590033f900ac3db8a4193bbc86b", element="0.06514422516613227-1")>
2018-03-07 18:35:04,465 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-07 18:35:04,465 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 13, 1520418904, 2, '用户名', '输入', 'defang3', '', 'Pass', '输入数据成功', 'Chrome', '2018-03-07 18:35:4', '')
2018-03-07 18:35:04,469 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-07 18:35:04,469 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：密码, 步序：3, 操作：输入， 输入参数：123，预期结果：）
2018-03-07 18:35:04,469 test_case_step.py[line: 38] INFO: 正在执行最普通的元素操作
2018-03-07 18:35:04,469 test_case_step.py[line: 42] INFO: 正在对选择器：selector1: xpath=//*[@name=&quot;password&quot;]，selector2:  做数据转换处理
2018-03-07 18:35:04,469 test_case_step.py[line: 45] INFO: 转换后的选择器：selector1: xpath=//*[@name="password"]，selector2: 
2018-03-07 18:35:04,470 test_case_step.py[line: 47] INFO: 开始对步骤中的元素操作进行操作
2018-03-07 18:35:04,470 test_case_step.py[line: 127] INFO: 操作：输入
2018-03-07 18:35:04,470 test_case_step.py[line: 129] INFO: 正在对输入参数:123 进行参数处理
2018-03-07 18:35:04,470 test_case_step.py[line: 133] INFO: 处理后的输入参数为:['123'] 
2018-03-07 18:35:04,470 test_case_step.py[line: 202] INFO: 开始根据元素定位器：xpath=//*[@name="password"] 自定位元素
2018-03-07 18:35:04,470 test_case_step.py[line: 215] INFO: find_element_by_xpath：//*[@name="password"]
2018-03-07 18:35:04,486 test_case_step.py[line: 188] INFO: 找到元素：<selenium.webdriver.remote.webelement.WebElement (session="304e1590033f900ac3db8a4193bbc86b", element="0.06514422516613227-2")>
2018-03-07 18:35:04,531 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-07 18:35:04,532 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 13, 1520418904, 3, '密码', '输入', '123', '', 'Pass', '输入数据成功', 'Chrome', '2018-03-07 18:35:4', '')
2018-03-07 18:35:04,537 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-07 18:35:04,537 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：登录, 步序：4, 操作：点击， 输入参数：，预期结果：）
2018-03-07 18:35:04,537 test_case_step.py[line: 38] INFO: 正在执行最普通的元素操作
2018-03-07 18:35:04,538 test_case_step.py[line: 42] INFO: 正在对选择器：selector1: xpath=//*[@class=&quot;submit_wrap&quot;]，selector2:  做数据转换处理
2018-03-07 18:35:04,538 test_case_step.py[line: 45] INFO: 转换后的选择器：selector1: xpath=//*[@class="submit_wrap"]，selector2: 
2018-03-07 18:35:04,538 test_case_step.py[line: 47] INFO: 开始对步骤中的元素操作进行操作
2018-03-07 18:35:04,538 test_case_step.py[line: 127] INFO: 操作：点击
2018-03-07 18:35:04,538 test_case_step.py[line: 202] INFO: 开始根据元素定位器：xpath=//*[@class="submit_wrap"] 自定位元素
2018-03-07 18:35:04,538 test_case_step.py[line: 215] INFO: find_element_by_xpath：//*[@class="submit_wrap"]
2018-03-07 18:35:04,555 test_case_step.py[line: 188] INFO: 找到元素：<selenium.webdriver.remote.webelement.WebElement (session="304e1590033f900ac3db8a4193bbc86b", element="0.06514422516613227-3")>
2018-03-07 18:35:06,145 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-07 18:35:06,146 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 13, 1520418904, 4, '登录', '点击', '', '', 'Pass', '点击成功', 'Chrome', '2018-03-07 18:35:4', '')
2018-03-07 18:35:06,153 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-07 18:35:06,153 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：5, 操作：等待， 输入参数：3，预期结果：）
2018-03-07 18:35:06,153 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-07 18:35:06,153 test_case_step.py[line: 88] INFO: 执行函数：等待
2018-03-07 18:35:06,153 test_case_step.py[line: 91] INFO: 正在对输入参数:3 进行参数处理
2018-03-07 18:35:06,154 test_case_step.py[line: 105] INFO: 等待3秒
2018-03-07 18:35:09,155 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-07 18:35:09,156 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 13, 1520418904, 5, '', '等待', '3', '', 'Pass', 'run success', 'Chrome', '2018-03-07 18:35:6', '')
2018-03-07 18:35:09,160 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-07 18:35:09,160 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：6, 操作：断言， 输入参数：德芳运维，预期结果：）
2018-03-07 18:35:09,161 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-07 18:35:09,161 test_case_step.py[line: 88] INFO: 执行函数：断言
2018-03-07 18:35:09,161 test_case_step.py[line: 91] INFO: 正在对输入参数:德芳运维 进行参数处理
2018-03-07 18:35:09,161 test_case_step.py[line: 115] INFO: 断言的标题为:德芳运维
2018-03-07 18:35:09,175 seleniumutil.py[line: 151] INFO: 断言信息为：德芳运维
2018-03-07 18:35:09,175 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-07 18:35:09,175 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 13, 1520418904, 6, '', '断言', '德芳运维', '', 'Pass', '断言成功', 'Chrome', '2018-03-07 18:35:9', '')
2018-03-07 18:35:09,180 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-07 18:35:09,180 test_case.py[line: 58] INFO: 测试步骤执行完毕，正在记录用例运行结果到测试用例运行报表
2018-03-07 18:35:09,180 database.py[line: 58] INFO: query：INSERT INTO testcase_reporter(runHistoryId, browserType, testcaseId, testplanId, runTime, runResult) VALUES(%s, %s, %s, %s, %s, %s)  data：(1520418904, 'Chrome', 13, 3, '2018-03-07 18:35:4', 'Pass')
2018-03-07 18:35:09,184 test_case.py[line: 70] INFO: 正在获取测试用例所有测试步骤
2018-03-07 18:35:09,185 database.py[line: 106] INFO: query：(SELECT a.StepOrder AS StepOrder,c.PageName AS PageName,b.ElementName AS ElementName,b.ElementSelector AS ElementSelector,b.ElementSelector02 AS ElementSelector02,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,a.compid AS compid,a.compFolderid AS comFolderid,'' AS comName FROM testcases_steps AS a, page_elements AS b,pagesobject AS c WHERE a.TestcaseID = %s AND a.ElementId = b.Id AND b.PageId = c.Id)UNION ALL(SELECT a.steporder AS steporder,'' AS PageName,'' AS ElementSelector,'' AS ElementSelector02,'' AS ElementName,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,a.compid AS compid,a.compFolderid AS comFolderid,tc.test_name AS comName FROM testcases_steps AS a, testcases AS tc WHERE a.TestcaseID = %s AND a.compid = tc.id)UNION ALL(SELECT a.steporder AS steporder,'' AS PageName,'' AS ElementSelector,'' AS ElementSelector02,'' AS ElementName,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,'' AS compid,'' AS comFolderid,'' AS comName FROM testcases_steps AS a WHERE a.TestcaseID = %s AND NOT ISNULL(a.stepOrder)AND NOT ISNULL(a.Command) AND ISNULL(compid) AND ElementId='')ORDER BY steporder  data：(18, 18, 18)
2018-03-07 18:35:09,189 test_case.py[line: 123] INFO: 获取的测试步骤为： [(1, '', '', '', '', '等待', '5', '', '', '', ''), (2, '', '', '', '', '切换入iframe', 'iframe89892232323', '', '', '', ''), (3, '审批流', '审批流的链接', 'xpath=html/body/div[1]/div/div/div[2]/div/div/div/div[2]/div/div[1]/ul/li[1]/div[1]', '', '点击', '', '', None, None, ''), (4, '', '', '', '', '切换到新的窗口', '', '', '', '', ''), (5, '', '', '', '', '等待', '5', '', '', '', ''), (6, '审批流', '审批流的同意按钮', 'xpath=//*[@id=&quot;btnAgree&quot;]', '', '点击', '', '', None, None, ''), (7, '', '', '', '', '切换入iframe', '//iframe[contains(@id,&quot;ligerwindow&quot;)]', '', '', '', ''), (8, '审批流', '填写意见的确定按钮', 'xpath=//*[@id=&quot;dataFormSave&quot;]', '', '点击', '', '', None, None, ''), (9, '', '', '', '', '等待', '5', '', '', '', ''), (10, '', '', '', '', '断言文本提示信息', '执行任务成功!', '', '', '', ''), (11, '', '', '', '', '等待', '5', '', '', '', ''), (12, '审批流', '同意的确定按钮', 'xpath=//*[@class=&quot;l-dialog-btn-inner&quot;]', '', '点击', '', '', None, None, '')]
2018-03-07 18:35:09,189 test_case.py[line: 41] INFO: 开始执行测试步骤
2018-03-07 18:35:09,189 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：1, 操作：等待， 输入参数：5，预期结果：）
2018-03-07 18:35:09,189 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-07 18:35:09,189 test_case_step.py[line: 88] INFO: 执行函数：等待
2018-03-07 18:35:09,189 test_case_step.py[line: 91] INFO: 正在对输入参数:5 进行参数处理
2018-03-07 18:35:09,189 test_case_step.py[line: 105] INFO: 等待5秒
2018-03-07 18:35:14,189 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-07 18:35:14,189 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 18, 1520418904, 1, '', '等待', '5', '', 'Pass', 'run success', 'Chrome', '2018-03-07 18:35:9', '')
2018-03-07 18:35:14,193 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-07 18:35:14,193 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：2, 操作：切换入iframe， 输入参数：iframe89892232323，预期结果：）
2018-03-07 18:35:14,194 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-07 18:35:14,194 test_case_step.py[line: 88] INFO: 执行函数：切换入iframe
2018-03-07 18:35:14,194 test_case_step.py[line: 91] INFO: 正在对输入参数:iframe89892232323 进行参数处理
2018-03-07 18:35:14,194 seleniumutil.py[line: 70] ERROR: 切换至frame（id/name/xpath = iframe89892232323）失败
2018-03-07 18:35:14,630 test_case_step.py[line: 272] INFO: 截图文件保存路径为：D:\python\webautotest\screentshot\tp3\tc18\tp3_tc18_step2_1520418904_20180307183514.png
2018-03-07 18:35:14,630 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-07 18:35:14,630 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 18, 1520418904, 2, '', '切换入iframe', 'iframe89892232323', '', 'Fail', AttributeError("'WebDriver' object has no attribute 'swith_to_frame'",), 'Chrome', '2018-03-07 18:35:14', 'ftp://10.1.2.88/tp3_tc18_step2_1520418904_20180307183514.png')
2018-03-07 18:35:14,633 database.py[line: 66] ERROR: 执行数据库插入操作失败：Failed processing format-parameters; Python 'attributeerror' cannot be converted to a MySQL type
2018-03-07 18:35:14,634 test_case_step.py[line: 81] ERROR: 记录到测试步骤结果报表失败 Failed processing format-parameters; Python 'attributeerror' cannot be converted to a MySQL type
2018-03-07 18:35:14,634 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-07 18:35:14,634 test_case.py[line: 46] INFO: 用例[id：18]步骤[步序：2] 运行失败，停止运行用例
2018-03-07 18:35:14,634 test_case.py[line: 58] INFO: 测试步骤执行完毕，正在记录用例运行结果到测试用例运行报表
2018-03-07 18:35:14,634 database.py[line: 58] INFO: query：INSERT INTO testcase_reporter(runHistoryId, browserType, testcaseId, testplanId, runTime, runResult) VALUES(%s, %s, %s, %s, %s, %s)  data：(1520418904, 'Chrome', 18, 3, '2018-03-07 18:35:9', 'Fail')
2018-03-07 18:35:14,637 test_plan.py[line: 65] INFO: ####################### 测试计划已运行完毕 #######################
2018-03-07 18:35:14,637 test_plan.py[line: 66] INFO: 正在统计测试计划执行的用例总数
2018-03-07 18:35:14,637 database.py[line: 88] INFO: query：SELECT count(testcaseId)  FROM testcase_reporter  WHERE runHistoryId = %s  data：(1520418904,)
2018-03-07 18:35:14,640 test_plan.py[line: 75] INFO: 正在统计测试计划执行成功的用例总数
2018-03-07 18:35:14,640 database.py[line: 88] INFO: query：SELECT count(testcaseId)  FROM testcase_reporter WHERE runHistoryId = %s AND runResult='Pass'  data：(1520418904,)
2018-03-07 18:35:14,642 test_plan.py[line: 85] INFO: 正在统计测试计划执行失败的用例总数
2018-03-07 18:35:14,643 database.py[line: 88] INFO: query：SELECT count(testcaseId)  FROM testcase_reporter WHERE runHistoryId = %s AND runResult='Fail'  data：(1520418904,)
2018-03-07 18:35:14,645 test_plan.py[line: 95] INFO: 正在统计测试计划执行被阻塞的用例总数
2018-03-07 18:35:14,646 database.py[line: 88] INFO: query：SELECT count(testcaseId)  FROM testcase_reporter WHERE runHistoryId = %s AND runResult='Block'  data：(1520418904,)
2018-03-07 18:35:14,649 test_plan.py[line: 105] INFO: 正在统计测试计划执行成功的用例
2018-03-07 18:35:14,649 database.py[line: 106] INFO: query：SELECT testcaseId  FROM testcase_reporter WHERE runHistoryId = %s AND runResult='Pass'  data：(1520418904,)
2018-03-07 18:35:14,651 test_plan.py[line: 115] INFO: 正在统计测试计划执行失败的用例
2018-03-07 18:35:14,652 database.py[line: 106] INFO: query：SELECT testcaseId  FROM testcase_reporter WHERE runHistoryId = %s AND runResult='Fail'  data：(1520418904,)
2018-03-07 18:35:14,654 test_plan.py[line: 125] INFO: 正在统计测试计划执行被阻塞的用例
2018-03-07 18:35:14,655 database.py[line: 106] INFO: query：SELECT testcaseId  FROM testcase_reporter WHERE runHistoryId = %s AND runResult='Block'  data：(1520418904,)
2018-03-07 18:35:14,658 test_plan.py[line: 130] INFO: 没找到计划执行被阻塞的用例
2018-03-07 18:35:14,658 test_plan.py[line: 151] INFO: 正在记录测试计划运行结果到测试计划报表
2018-03-07 18:35:14,658 database.py[line: 58] INFO: query：INSERT INTO testplan_reporter(testPlanId, testPlanName, runHistoryId, browserType, runTc_total, runPassedTc_total, runFailedTc_total,runBlockedTc_total, runPassedTc, runFailedTc, runBlockedTc, runTime)VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, '购买记录客服审批', 1520418904, 'Chrome', 2, 1, 1, 0, '(13,)', '(18,)', '', '2018-03-07 18:35:4')
2018-03-07 18:35:14,662 main.py[line: 79] INFO: 计划运行完成，正在关闭浏览器
2018-03-07 18:35:18,142 main.py[line: 82] INFO: ####################### 测试结束 #######################
2018-03-07 18:35:18,142 main.py[line: 126] INFO: 运行完成,准备生成测试报告
2018-03-07 18:35:18,142 htmlreporter.py[line: 35] INFO: 正在查询测试计划执行统计信息（执行总数，成功数，失败数，被阻塞数）
2018-03-07 18:35:18,142 database.py[line: 88] INFO: query：SELECT runTc_total, runPassedTc_total, runFailedTc_total, runBlockedTc_total, testPlanName, testPlanId FROM testplan_reporter WHERE runHistoryId = %s  data：(1520418904,)
2018-03-07 18:35:18,146 htmlreporter.py[line: 111] INFO: 正在查询测试计划：购买记录客服审批 运行的的测试用例
2018-03-07 18:35:18,146 database.py[line: 106] INFO: query：SELECT id, runHistoryId, testcaseId, testplanId, browserType, runResult, runTime FROM testcase_reporter WHERE testplanId=%s AND runHistoryId = %s ORDER BY id ASC  data：('3', 1520418904)
2018-03-07 18:35:18,149 htmlreporter.py[line: 121] INFO: 正在记录测试计划[名称：购买记录客服审批]的测试用例运行结果到测试报告
2018-03-07 18:35:18,150 database.py[line: 88] INFO: query：SELECT test_name FROM testcases WHERE id=%s  data：(13,)
2018-03-07 18:35:18,153 database.py[line: 88] INFO: query：SELECT test_name FROM testcases WHERE id=%s  data：(18,)
2018-03-07 18:35:18,156 htmlreporter.py[line: 151] INFO: 正在查询测试计划：购买记录客服审批 运行的的测试用例
2018-03-07 18:35:18,157 database.py[line: 106] INFO: query：SELECT id, runHistoryId, testcaseId, testplanId, browserType, runResult, runTime  FROM testcase_reporter WHERE testplanId=%s AND runHistoryId = %s ORDER BY id ASC  data：('3', 1520418904)
2018-03-07 18:35:18,160 htmlreporter.py[line: 168] INFO: 正在查询测试用例[id=13, name=客服登录]对应的测试步骤执行明细
2018-03-07 18:35:18,160 database.py[line: 106] INFO: query：SELECT id, stepOrder, runHistoryId, elementName, command, inparams, stepRunResult, expectedResult, stepRunResultDesc, browserType, runTime, screenshotUrl FROM case_step_run_detail WHERE testcaseId=%s AND runHistoryId = %s  ORDER BY id ASC  data：('13', 1520418904)
2018-03-07 18:35:18,166 htmlreporter.py[line: 168] INFO: 正在查询测试用例[id=18, name=购买记录客服审批]对应的测试步骤执行明细
2018-03-07 18:35:18,166 database.py[line: 106] INFO: query：SELECT id, stepOrder, runHistoryId, elementName, command, inparams, stepRunResult, expectedResult, stepRunResultDesc, browserType, runTime, screenshotUrl FROM case_step_run_detail WHERE testcaseId=%s AND runHistoryId = %s  ORDER BY id ASC  data：('18', 1520418904)
2018-03-07 18:35:18,171 htmlreporter.py[line: 211] INFO: 正在设置测试报告结果文件名
2018-03-07 18:35:18,172 htmlreporter.py[line: 222] INFO: 测试报告文件名所在路径为：E:\Projects\report\test_report20180307183518.html
2018-03-07 18:35:18,172 htmlreporter.py[line: 214] INFO: 正在生产测试报告
2018-03-07 18:35:18,185 main.py[line: 130] INFO: 生成测试报告成功
2018-03-07 18:35:18,185 main.py[line: 134] INFO: 运行完成,准备上传截图
2018-03-07 18:35:18,185 ftp.py[line: 42] INFO: is connecting to ftp server 10.1.2.88 on 21
2018-03-07 18:35:18,191 ftp.py[line: 47] INFO: ready to login ftp server
2018-03-07 18:35:18,287 ftp.py[line: 49] INFO: login ftp server successfully
2018-03-07 18:35:18,288 main.py[line: 138] INFO: 正在获取要上传的截图文件
2018-03-07 18:35:18,289 main.py[line: 146] INFO: 正在上传图片到ftp服务器
2018-03-07 18:35:18,289 main.py[line: 150] INFO: 正在上传文件：d:\python\webautotest\screentshot\tp3\tc18\tp3_tc18_step2_1520418904_20180307183514.png 到远程服务器：tp3_tc18_step2_1520418904_20180307183514.png
2018-03-07 18:35:18,299 main.py[line: 153] ERROR: 上传截图到ftp服务器出错：553 Could not create file.
2018-03-07 18:35:18,303 ftp.py[line: 55] INFO: close ftp connection successfully
2018-03-07 18:35:18,303 main.py[line: 156] INFO: 运行完成，准备发送邮件
2018-03-07 18:35:18,507 main.py[line: 162] INFO: 邮件标题为：Hi，附件为web自动化测试报告，烦请查阅邮件内容为：{'E:\\Projects\\report\\test_report20180307183518.html'}，待发送邮件附件有 【测试报告】web自动化测试报告20180307183518
2018-03-07 18:35:18,507 main.py[line: 163] INFO: 正在发送测试报告邮件...
2018-03-07 18:35:19,212 main.py[line: 166] INFO: 发送邮件成功
2018-03-07 18:35:19,212 main.py[line: 172] INFO: 正在关闭数据库
2018-03-08 10:12:58,331 globalvar.py[line: 23] INFO: #####################正在初始化全局配置#####################
2018-03-08 10:12:58,372 globalvar.py[line: 24] INFO: 正在选择数据库运行环境和站点运行环境
2018-03-08 10:12:58,373 globalvar.py[line: 34] INFO: 在测试环境执行测试，正在获取测试环境的web site
2018-03-08 10:12:58,385 globalvar.py[line: 45] INFO: 在测试环境执行测试，正在获取测试环境的数据库
2018-03-08 10:12:58,465 globalvar.py[line: 55] INFO: 正在进行ftp配置
2018-03-08 10:12:58,478 globalvar.py[line: 62] INFO: 正在获取运行模式
2018-03-08 10:12:58,479 globalvar.py[line: 66] INFO: 运行模式为:<module 'publicpkg.runmode' from 'D:\\python\\webautotest\\publicpkg\\runmode.py'>
2018-03-08 10:12:58,479 globalvar.py[line: 69] INFO: 测试计划配置:[3]
2018-03-08 10:12:58,479 globalvar.py[line: 72] INFO: 全局初始化用例配置:[123]
2018-03-08 10:12:58,479 globalvar.py[line: 75] INFO: 正在获取浏览器配置
2018-03-08 10:12:58,480 globalvar.py[line: 79] INFO: 获取需要进行测试的浏览器有：['Chrome']
2018-03-08 10:12:58,480 globalvar.py[line: 82] INFO: 正在初始化其它工具对象
2018-03-08 10:12:58,480 globalvar.py[line: 86] INFO: 正在进行截图基路径配置
2018-03-08 10:12:58,480 globalvar.py[line: 91] INFO: 截图报存基路径为：D:\python\webautotest\screentshot\
2018-03-08 10:12:58,480 globalvar.py[line: 95] INFO: 正在进行测试报告配置
2018-03-08 10:12:58,481 globalvar.py[line: 96] INFO: --1、读取测试报告路径及文件名
2018-03-08 10:12:58,481 globalvar.py[line: 101] INFO: --2、构造测试报告
2018-03-08 10:12:58,481 globalvar.py[line: 104] INFO: --3、设置报告生成路径
2018-03-08 10:12:58,481 globalvar.py[line: 107] INFO: #####################初始化全局配置完毕#####################
2018-03-08 10:13:01,464 main.py[line: 21] INFO: 正在查询用例是否存在
2018-03-08 10:13:01,465 database.py[line: 88] INFO: query：SELECT id FROM testcases WHERE id = %s  data：(14,)
2018-03-08 10:13:01,470 main.py[line: 28] INFO: ####################### 开始测试 #######################
2018-03-08 10:13:07,980 main.py[line: 38] INFO: 优先运行全局初始化用例 [123]
2018-03-08 10:13:07,980 main.py[line: 40] INFO: 正在查询全局用例[id=123]是否存在
2018-03-08 10:13:07,980 database.py[line: 88] INFO: query：SELECT id FROM testcases WHERE id = %s  data：(123,)
2018-03-08 10:13:07,982 main.py[line: 45] WARNING: 用例id:14不存在
2018-03-08 10:13:07,983 test_case.py[line: 17] INFO: 正在构造并初始化测试用例对象[id=14]
2018-03-08 10:13:07,983 test_case.py[line: 26] INFO: 初始测试用例完毕
2018-03-08 10:13:07,983 test_case.py[line: 70] INFO: 正在获取测试用例所有测试步骤
2018-03-08 10:13:07,983 database.py[line: 106] INFO: query：(SELECT a.StepOrder AS StepOrder,c.PageName AS PageName,b.ElementName AS ElementName,b.ElementSelector AS ElementSelector,b.ElementSelector02 AS ElementSelector02,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,a.compid AS compid,a.compFolderid AS comFolderid,'' AS comName FROM testcases_steps AS a, page_elements AS b,pagesobject AS c WHERE a.TestcaseID = %s AND a.ElementId = b.Id AND b.PageId = c.Id)UNION ALL(SELECT a.steporder AS steporder,'' AS PageName,'' AS ElementSelector,'' AS ElementSelector02,'' AS ElementName,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,a.compid AS compid,a.compFolderid AS comFolderid,tc.test_name AS comName FROM testcases_steps AS a, testcases AS tc WHERE a.TestcaseID = %s AND a.compid = tc.id)UNION ALL(SELECT a.steporder AS steporder,'' AS PageName,'' AS ElementSelector,'' AS ElementSelector02,'' AS ElementName,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,'' AS compid,'' AS comFolderid,'' AS comName FROM testcases_steps AS a WHERE a.TestcaseID = %s AND NOT ISNULL(a.stepOrder)AND NOT ISNULL(a.Command) AND ISNULL(compid) AND ElementId='')ORDER BY steporder  data：(14, 14, 14)
2018-03-08 10:13:07,987 test_case.py[line: 123] INFO: 获取的测试步骤为： [(1, '', '', '', '', '断言', '深圳市金斧子网络科技有限公司-ERP', '', '', '', ''), (2, '用户登录', '用户名', 'xpath=//*[@name=&quot;username&quot;]', '', '输入', 'defang3', '', None, None, ''), (4, '用户登录', '登录', 'xpath=//*[@class=&quot;submit_wrap&quot;]', '', '点击', '', '', None, None, ''), (4, '用户登录', '密码', 'xpath=//*[@name=&quot;password&quot;]', '', '输入', '123', '', None, None, ''), (5, '', '', '', '', '等待', '3', '', '', '', ''), (6, '', '', '', '', '断言', '德芳运维', '德芳运维', '', '', ''), (7, '', '', '', '', '', 'iframe89892232323', '', '', '', ''), (9, '审批流', '审批流的链接', 'xpath=html/body/div[1]/div/div/div[2]/div/div/div/div[2]/div/div[1]/ul/li[1]/div[1]', '', '点击', '', '', None, None, '')]
2018-03-08 10:13:07,988 test_case.py[line: 41] INFO: 开始执行测试步骤
2018-03-08 10:13:07,988 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：1, 操作：断言， 输入参数：深圳市金斧子网络科技有限公司-ERP，预期结果：）
2018-03-08 10:13:07,988 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 10:13:07,988 test_case_step.py[line: 88] INFO: 执行函数：断言
2018-03-08 10:13:07,988 test_case_step.py[line: 91] INFO: 正在对输入参数:深圳市金斧子网络科技有限公司-ERP 进行参数处理
2018-03-08 10:13:07,988 test_case_step.py[line: 115] INFO: 断言的标题为:深圳市金斧子网络科技有限公司-ERP
2018-03-08 10:13:07,996 seleniumutil.py[line: 151] INFO: 断言信息为：深圳市金斧子网络科技有限公司-ERP
2018-03-08 10:13:07,996 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 10:13:07,996 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(0, 14, 1520475187, 1, '', '断言', '深圳市金斧子网络科技有限公司-ERP', '', 'Pass', '断言成功', 'Chrome', '2018-03-08 10:13:7', '')
2018-03-08 10:13:08,000 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 10:13:08,000 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：用户名, 步序：2, 操作：输入， 输入参数：defang3，预期结果：）
2018-03-08 10:13:08,001 test_case_step.py[line: 38] INFO: 正在执行最普通的元素操作
2018-03-08 10:13:08,001 test_case_step.py[line: 42] INFO: 正在对选择器：selector1: xpath=//*[@name=&quot;username&quot;]，selector2:  做数据转换处理
2018-03-08 10:13:08,001 test_case_step.py[line: 45] INFO: 转换后的选择器：selector1: xpath=//*[@name="username"]，selector2: 
2018-03-08 10:13:08,001 test_case_step.py[line: 47] INFO: 开始对步骤中的元素操作进行操作
2018-03-08 10:13:08,001 test_case_step.py[line: 127] INFO: 操作：输入
2018-03-08 10:13:08,001 test_case_step.py[line: 129] INFO: 正在对输入参数:defang3 进行参数处理
2018-03-08 10:13:08,001 test_case_step.py[line: 133] INFO: 处理后的输入参数为:['defang3'] 
2018-03-08 10:13:08,001 test_case_step.py[line: 202] INFO: 开始根据元素定位器：xpath=//*[@name="username"] 自定位元素
2018-03-08 10:13:08,001 test_case_step.py[line: 215] INFO: find_element_by_xpath：//*[@name="username"]
2018-03-08 10:13:08,044 test_case_step.py[line: 188] INFO: 找到元素：<selenium.webdriver.remote.webelement.WebElement (session="de350ae7e6c2d83ef0a69a4181a824df", element="0.060825410412714165-1")>
2018-03-08 10:13:08,124 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 10:13:08,124 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(0, 14, 1520475187, 2, '用户名', '输入', 'defang3', '', 'Pass', '输入数据成功', 'Chrome', '2018-03-08 10:13:8', '')
2018-03-08 10:13:08,128 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 10:13:08,128 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：登录, 步序：4, 操作：点击， 输入参数：，预期结果：）
2018-03-08 10:13:08,128 test_case_step.py[line: 38] INFO: 正在执行最普通的元素操作
2018-03-08 10:13:08,128 test_case_step.py[line: 42] INFO: 正在对选择器：selector1: xpath=//*[@class=&quot;submit_wrap&quot;]，selector2:  做数据转换处理
2018-03-08 10:13:08,128 test_case_step.py[line: 45] INFO: 转换后的选择器：selector1: xpath=//*[@class="submit_wrap"]，selector2: 
2018-03-08 10:13:08,128 test_case_step.py[line: 47] INFO: 开始对步骤中的元素操作进行操作
2018-03-08 10:13:08,129 test_case_step.py[line: 127] INFO: 操作：点击
2018-03-08 10:13:08,129 test_case_step.py[line: 202] INFO: 开始根据元素定位器：xpath=//*[@class="submit_wrap"] 自定位元素
2018-03-08 10:13:08,129 test_case_step.py[line: 215] INFO: find_element_by_xpath：//*[@class="submit_wrap"]
2018-03-08 10:13:08,148 test_case_step.py[line: 188] INFO: 找到元素：<selenium.webdriver.remote.webelement.WebElement (session="de350ae7e6c2d83ef0a69a4181a824df", element="0.060825410412714165-2")>
2018-03-08 10:13:08,921 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 10:13:08,921 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(0, 14, 1520475187, 4, '登录', '点击', '', '', 'Pass', '点击成功', 'Chrome', '2018-03-08 10:13:8', '')
2018-03-08 10:13:08,927 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 10:13:08,928 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：密码, 步序：4, 操作：输入， 输入参数：123，预期结果：）
2018-03-08 10:13:08,928 test_case_step.py[line: 38] INFO: 正在执行最普通的元素操作
2018-03-08 10:13:08,928 test_case_step.py[line: 42] INFO: 正在对选择器：selector1: xpath=//*[@name=&quot;password&quot;]，selector2:  做数据转换处理
2018-03-08 10:13:08,928 test_case_step.py[line: 45] INFO: 转换后的选择器：selector1: xpath=//*[@name="password"]，selector2: 
2018-03-08 10:13:08,928 test_case_step.py[line: 47] INFO: 开始对步骤中的元素操作进行操作
2018-03-08 10:13:08,929 test_case_step.py[line: 127] INFO: 操作：输入
2018-03-08 10:13:08,929 test_case_step.py[line: 129] INFO: 正在对输入参数:123 进行参数处理
2018-03-08 10:13:08,929 test_case_step.py[line: 133] INFO: 处理后的输入参数为:['123'] 
2018-03-08 10:13:08,929 test_case_step.py[line: 202] INFO: 开始根据元素定位器：xpath=//*[@name="password"] 自定位元素
2018-03-08 10:13:08,930 test_case_step.py[line: 215] INFO: find_element_by_xpath：//*[@name="password"]
2018-03-08 10:13:08,960 test_case_step.py[line: 188] INFO: 找到元素：<selenium.webdriver.remote.webelement.WebElement (session="de350ae7e6c2d83ef0a69a4181a824df", element="0.9749274535822754-1")>
2018-03-08 10:13:09,043 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 10:13:09,043 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(0, 14, 1520475187, 4, '密码', '输入', '123', '', 'Pass', '输入数据成功', 'Chrome', '2018-03-08 10:13:8', '')
2018-03-08 10:13:09,047 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 10:13:09,048 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：5, 操作：等待， 输入参数：3，预期结果：）
2018-03-08 10:13:09,048 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 10:13:09,048 test_case_step.py[line: 88] INFO: 执行函数：等待
2018-03-08 10:13:09,048 test_case_step.py[line: 91] INFO: 正在对输入参数:3 进行参数处理
2018-03-08 10:13:09,048 test_case_step.py[line: 105] INFO: 等待3秒
2018-03-08 10:13:12,058 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 10:13:12,059 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(0, 14, 1520475187, 5, '', '等待', '3', '', 'Pass', 'run success', 'Chrome', '2018-03-08 10:13:9', '')
2018-03-08 10:13:12,063 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 10:13:12,063 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：6, 操作：断言， 输入参数：德芳运维，预期结果：德芳运维）
2018-03-08 10:13:12,063 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 10:13:12,064 test_case_step.py[line: 88] INFO: 执行函数：断言
2018-03-08 10:13:12,064 test_case_step.py[line: 91] INFO: 正在对输入参数:德芳运维 进行参数处理
2018-03-08 10:13:12,064 test_case_step.py[line: 115] INFO: 断言的标题为:德芳运维
2018-03-08 10:13:12,505 test_case_step.py[line: 272] INFO: 截图文件保存路径为：D:\python\webautotest\screentshot\tp0\tc14\tp0_tc14_step6_1520475187_20180308101312.png
2018-03-08 10:13:12,505 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 10:13:12,505 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(0, 14, 1520475187, 6, '', '断言', '德芳运维', '德芳运维', 'Fail', '断言失败', 'Chrome', '2018-03-08 10:13:12', 'ftp://10.1.2.88/tp0_tc14_step6_1520475187_20180308101312.png')
2018-03-08 10:13:12,508 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 10:13:12,508 test_case.py[line: 46] INFO: 用例[id：14]步骤[步序：6] 运行失败，停止运行用例
2018-03-08 10:13:12,508 test_case.py[line: 58] INFO: 测试步骤执行完毕，正在记录用例运行结果到测试用例运行报表
2018-03-08 10:13:12,508 database.py[line: 58] INFO: query：INSERT INTO testcase_reporter(runHistoryId, browserType, testcaseId, testplanId, runTime, runResult) VALUES(%s, %s, %s, %s, %s, %s)  data：(1520475187, 'Chrome', 14, 0, '2018-03-08 10:13:7', 'Fail')
2018-03-08 10:13:12,511 main.py[line: 52] INFO: 用例执行完成，正在关闭浏览器
2018-03-08 10:13:15,975 main.py[line: 55] INFO: ####################### 测试结束 #######################
2018-03-08 10:13:15,975 main.py[line: 126] INFO: 运行完成,准备生成测试报告
2018-03-08 10:13:15,976 htmlreporter.py[line: 55] INFO: 正在查询测试用例执行统计信息
2018-03-08 10:13:15,976 database.py[line: 88] INFO: query：SELECT runResult FROM testcase_reporter WHERE runHistoryId = %s  data：(1520475187,)
2018-03-08 10:13:15,979 htmlreporter.py[line: 111] INFO: 正在查询测试计划：无计划 运行的的测试用例
2018-03-08 10:13:15,979 database.py[line: 106] INFO: query：SELECT id, runHistoryId, testcaseId, testplanId, browserType, runResult, runTime FROM testcase_reporter WHERE testplanId=%s AND runHistoryId = %s ORDER BY id ASC  data：(0, 1520475187)
2018-03-08 10:13:15,982 htmlreporter.py[line: 121] INFO: 正在记录测试计划[名称：无计划]的测试用例运行结果到测试报告
2018-03-08 10:13:15,983 database.py[line: 88] INFO: query：SELECT test_name FROM testcases WHERE id=%s  data：(14,)
2018-03-08 10:13:15,986 htmlreporter.py[line: 151] INFO: 正在查询测试计划：无计划 运行的的测试用例
2018-03-08 10:13:15,986 database.py[line: 106] INFO: query：SELECT id, runHistoryId, testcaseId, testplanId, browserType, runResult, runTime  FROM testcase_reporter WHERE testplanId=%s AND runHistoryId = %s ORDER BY id ASC  data：(0, 1520475187)
2018-03-08 10:13:15,989 htmlreporter.py[line: 168] INFO: 正在查询测试用例[id=14, name=运维登录]对应的测试步骤执行明细
2018-03-08 10:13:15,989 database.py[line: 106] INFO: query：SELECT id, stepOrder, runHistoryId, elementName, command, inparams, stepRunResult, expectedResult, stepRunResultDesc, browserType, runTime, screenshotUrl FROM case_step_run_detail WHERE testcaseId=%s AND runHistoryId = %s  ORDER BY id ASC  data：('14', 1520475187)
2018-03-08 10:13:15,993 htmlreporter.py[line: 211] INFO: 正在设置测试报告结果文件名
2018-03-08 10:13:15,994 htmlreporter.py[line: 222] INFO: 测试报告文件名所在路径为：E:\Projects\report\test_report20180308101315.html
2018-03-08 10:13:15,994 htmlreporter.py[line: 214] INFO: 正在生产测试报告
2018-03-08 10:13:15,995 main.py[line: 130] INFO: 生成测试报告成功
2018-03-08 10:13:15,995 main.py[line: 134] INFO: 运行完成,准备上传截图
2018-03-08 10:13:15,995 ftp.py[line: 42] INFO: is connecting to ftp server 10.1.2.88 on 21
2018-03-08 10:13:16,007 ftp.py[line: 47] INFO: ready to login ftp server
2018-03-08 10:13:16,123 ftp.py[line: 49] INFO: login ftp server successfully
2018-03-08 10:13:16,124 main.py[line: 138] INFO: 正在获取要上传的截图文件
2018-03-08 10:13:16,154 main.py[line: 146] INFO: 正在上传图片到ftp服务器
2018-03-08 10:13:16,155 main.py[line: 150] INFO: 正在上传文件：d:\python\webautotest\screentshot\tp0\tc14\tp0_tc14_step6_1520475187_20180308101312.png 到远程服务器：tp0_tc14_step6_1520475187_20180308101312.png
2018-03-08 10:13:16,169 ftp.py[line: 106] INFO: 文件：d:\python\webautotest\screentshot\tp0\tc14\tp0_tc14_step6_1520475187_20180308101312.png 已经上传到ftp
2018-03-08 10:13:16,170 ftp.py[line: 55] INFO: close ftp connection successfully
2018-03-08 10:13:16,170 main.py[line: 156] INFO: 运行完成，准备发送邮件
2018-03-08 10:13:16,439 main.py[line: 162] INFO: 邮件标题为：Hi，附件为web自动化测试报告，烦请查阅邮件内容为：{'E:\\Projects\\report\\test_report20180308101315.html'}，待发送邮件附件有 【测试报告】web自动化测试报告20180308101315
2018-03-08 10:13:16,439 main.py[line: 163] INFO: 正在发送测试报告邮件...
2018-03-08 10:13:17,512 main.py[line: 166] INFO: 发送邮件成功
2018-03-08 10:13:17,512 main.py[line: 172] INFO: 正在关闭数据库
2018-03-08 10:15:29,514 globalvar.py[line: 23] INFO: #####################正在初始化全局配置#####################
2018-03-08 10:15:29,515 globalvar.py[line: 24] INFO: 正在选择数据库运行环境和站点运行环境
2018-03-08 10:15:29,515 globalvar.py[line: 34] INFO: 在测试环境执行测试，正在获取测试环境的web site
2018-03-08 10:15:29,516 globalvar.py[line: 45] INFO: 在测试环境执行测试，正在获取测试环境的数据库
2018-03-08 10:15:29,527 globalvar.py[line: 55] INFO: 正在进行ftp配置
2018-03-08 10:15:29,534 globalvar.py[line: 62] INFO: 正在获取运行模式
2018-03-08 10:15:29,535 globalvar.py[line: 66] INFO: 运行模式为:<module 'publicpkg.runmode' from 'D:\\python\\webautotest\\publicpkg\\runmode.py'>
2018-03-08 10:15:29,535 globalvar.py[line: 69] INFO: 测试计划配置:[3]
2018-03-08 10:15:29,536 globalvar.py[line: 72] INFO: 全局初始化用例配置:[123]
2018-03-08 10:15:29,536 globalvar.py[line: 75] INFO: 正在获取浏览器配置
2018-03-08 10:15:29,536 globalvar.py[line: 79] INFO: 获取需要进行测试的浏览器有：['Chrome']
2018-03-08 10:15:29,536 globalvar.py[line: 82] INFO: 正在初始化其它工具对象
2018-03-08 10:15:29,536 globalvar.py[line: 86] INFO: 正在进行截图基路径配置
2018-03-08 10:15:29,537 globalvar.py[line: 91] INFO: 截图报存基路径为：D:\python\webautotest\screentshot\
2018-03-08 10:15:29,537 globalvar.py[line: 95] INFO: 正在进行测试报告配置
2018-03-08 10:15:29,537 globalvar.py[line: 96] INFO: --1、读取测试报告路径及文件名
2018-03-08 10:15:29,537 globalvar.py[line: 101] INFO: --2、构造测试报告
2018-03-08 10:15:29,537 globalvar.py[line: 104] INFO: --3、设置报告生成路径
2018-03-08 10:15:29,538 globalvar.py[line: 107] INFO: #####################初始化全局配置完毕#####################
2018-03-08 10:15:31,860 main.py[line: 21] INFO: 正在查询用例是否存在
2018-03-08 10:15:31,860 database.py[line: 88] INFO: query：SELECT id FROM testcases WHERE id = %s  data：(14,)
2018-03-08 10:15:31,868 main.py[line: 28] INFO: ####################### 开始测试 #######################
2018-03-08 10:15:37,979 main.py[line: 38] INFO: 优先运行全局初始化用例 [123]
2018-03-08 10:15:37,979 main.py[line: 40] INFO: 正在查询全局用例[id=123]是否存在
2018-03-08 10:15:37,979 database.py[line: 88] INFO: query：SELECT id FROM testcases WHERE id = %s  data：(123,)
2018-03-08 10:15:37,982 main.py[line: 45] WARNING: 用例id:14不存在
2018-03-08 10:15:37,982 test_case.py[line: 17] INFO: 正在构造并初始化测试用例对象[id=14]
2018-03-08 10:15:37,982 test_case.py[line: 26] INFO: 初始测试用例完毕
2018-03-08 10:15:37,982 test_case.py[line: 70] INFO: 正在获取测试用例所有测试步骤
2018-03-08 10:15:37,983 database.py[line: 106] INFO: query：(SELECT a.StepOrder AS StepOrder,c.PageName AS PageName,b.ElementName AS ElementName,b.ElementSelector AS ElementSelector,b.ElementSelector02 AS ElementSelector02,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,a.compid AS compid,a.compFolderid AS comFolderid,'' AS comName FROM testcases_steps AS a, page_elements AS b,pagesobject AS c WHERE a.TestcaseID = %s AND a.ElementId = b.Id AND b.PageId = c.Id)UNION ALL(SELECT a.steporder AS steporder,'' AS PageName,'' AS ElementSelector,'' AS ElementSelector02,'' AS ElementName,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,a.compid AS compid,a.compFolderid AS comFolderid,tc.test_name AS comName FROM testcases_steps AS a, testcases AS tc WHERE a.TestcaseID = %s AND a.compid = tc.id)UNION ALL(SELECT a.steporder AS steporder,'' AS PageName,'' AS ElementSelector,'' AS ElementSelector02,'' AS ElementName,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,'' AS compid,'' AS comFolderid,'' AS comName FROM testcases_steps AS a WHERE a.TestcaseID = %s AND NOT ISNULL(a.stepOrder)AND NOT ISNULL(a.Command) AND ISNULL(compid) AND ElementId='')ORDER BY steporder  data：(14, 14, 14)
2018-03-08 10:15:37,987 test_case.py[line: 123] INFO: 获取的测试步骤为： [(1, '', '', '', '', '断言', '深圳市金斧子网络科技有限公司-ERP', '', '', '', ''), (2, '用户登录', '用户名', 'xpath=//*[@name=&quot;username&quot;]', '', '输入', 'defang3', '', None, None, ''), (3, '用户登录', '密码', 'xpath=//*[@name=&quot;password&quot;]', '', '输入', '123', '', None, None, ''), (4, '用户登录', '登录', 'xpath=//*[@class=&quot;submit_wrap&quot;]', '', '点击', '', '', None, None, ''), (5, '', '', '', '', '等待', '3', '', '', '', ''), (6, '', '', '', '', '断言', '德芳运维', '德芳运维', '', '', ''), (7, '', '', '', '', '', 'iframe89892232323', '', '', '', ''), (8, '审批流', '审批流的链接', 'xpath=html/body/div[1]/div/div/div[2]/div/div/div/div[2]/div/div[1]/ul/li[1]/div[1]', '', '点击', '', '', None, None, '')]
2018-03-08 10:15:37,987 test_case.py[line: 41] INFO: 开始执行测试步骤
2018-03-08 10:15:37,987 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：1, 操作：断言， 输入参数：深圳市金斧子网络科技有限公司-ERP，预期结果：）
2018-03-08 10:15:37,987 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 10:15:37,987 test_case_step.py[line: 88] INFO: 执行函数：断言
2018-03-08 10:15:37,987 test_case_step.py[line: 91] INFO: 正在对输入参数:深圳市金斧子网络科技有限公司-ERP 进行参数处理
2018-03-08 10:15:37,987 test_case_step.py[line: 115] INFO: 断言的标题为:深圳市金斧子网络科技有限公司-ERP
2018-03-08 10:15:37,996 seleniumutil.py[line: 151] INFO: 断言信息为：深圳市金斧子网络科技有限公司-ERP
2018-03-08 10:15:37,996 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 10:15:37,996 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(0, 14, 1520475337, 1, '', '断言', '深圳市金斧子网络科技有限公司-ERP', '', 'Pass', '断言成功', 'Chrome', '2018-03-08 10:15:37', '')
2018-03-08 10:15:38,000 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 10:15:38,000 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：用户名, 步序：2, 操作：输入， 输入参数：defang3，预期结果：）
2018-03-08 10:15:38,000 test_case_step.py[line: 38] INFO: 正在执行最普通的元素操作
2018-03-08 10:15:38,000 test_case_step.py[line: 42] INFO: 正在对选择器：selector1: xpath=//*[@name=&quot;username&quot;]，selector2:  做数据转换处理
2018-03-08 10:15:38,000 test_case_step.py[line: 45] INFO: 转换后的选择器：selector1: xpath=//*[@name="username"]，selector2: 
2018-03-08 10:15:38,000 test_case_step.py[line: 47] INFO: 开始对步骤中的元素操作进行操作
2018-03-08 10:15:38,000 test_case_step.py[line: 127] INFO: 操作：输入
2018-03-08 10:15:38,000 test_case_step.py[line: 129] INFO: 正在对输入参数:defang3 进行参数处理
2018-03-08 10:15:38,000 test_case_step.py[line: 133] INFO: 处理后的输入参数为:['defang3'] 
2018-03-08 10:15:38,000 test_case_step.py[line: 202] INFO: 开始根据元素定位器：xpath=//*[@name="username"] 自定位元素
2018-03-08 10:15:38,001 test_case_step.py[line: 215] INFO: find_element_by_xpath：//*[@name="username"]
2018-03-08 10:15:38,018 test_case_step.py[line: 188] INFO: 找到元素：<selenium.webdriver.remote.webelement.WebElement (session="dfb762fc11e3d59d9acc8dc651b05482", element="0.9799853130750309-1")>
2018-03-08 10:15:38,093 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 10:15:38,093 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(0, 14, 1520475337, 2, '用户名', '输入', 'defang3', '', 'Pass', '输入数据成功', 'Chrome', '2018-03-08 10:15:38', '')
2018-03-08 10:15:38,096 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 10:15:38,096 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：密码, 步序：3, 操作：输入， 输入参数：123，预期结果：）
2018-03-08 10:15:38,097 test_case_step.py[line: 38] INFO: 正在执行最普通的元素操作
2018-03-08 10:15:38,097 test_case_step.py[line: 42] INFO: 正在对选择器：selector1: xpath=//*[@name=&quot;password&quot;]，selector2:  做数据转换处理
2018-03-08 10:15:38,097 test_case_step.py[line: 45] INFO: 转换后的选择器：selector1: xpath=//*[@name="password"]，selector2: 
2018-03-08 10:15:38,097 test_case_step.py[line: 47] INFO: 开始对步骤中的元素操作进行操作
2018-03-08 10:15:38,097 test_case_step.py[line: 127] INFO: 操作：输入
2018-03-08 10:15:38,097 test_case_step.py[line: 129] INFO: 正在对输入参数:123 进行参数处理
2018-03-08 10:15:38,097 test_case_step.py[line: 133] INFO: 处理后的输入参数为:['123'] 
2018-03-08 10:15:38,097 test_case_step.py[line: 202] INFO: 开始根据元素定位器：xpath=//*[@name="password"] 自定位元素
2018-03-08 10:15:38,097 test_case_step.py[line: 215] INFO: find_element_by_xpath：//*[@name="password"]
2018-03-08 10:15:38,118 test_case_step.py[line: 188] INFO: 找到元素：<selenium.webdriver.remote.webelement.WebElement (session="dfb762fc11e3d59d9acc8dc651b05482", element="0.9799853130750309-2")>
2018-03-08 10:15:38,163 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 10:15:38,163 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(0, 14, 1520475337, 3, '密码', '输入', '123', '', 'Pass', '输入数据成功', 'Chrome', '2018-03-08 10:15:38', '')
2018-03-08 10:15:38,168 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 10:15:38,168 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：登录, 步序：4, 操作：点击， 输入参数：，预期结果：）
2018-03-08 10:15:38,168 test_case_step.py[line: 38] INFO: 正在执行最普通的元素操作
2018-03-08 10:15:38,168 test_case_step.py[line: 42] INFO: 正在对选择器：selector1: xpath=//*[@class=&quot;submit_wrap&quot;]，selector2:  做数据转换处理
2018-03-08 10:15:38,168 test_case_step.py[line: 45] INFO: 转换后的选择器：selector1: xpath=//*[@class="submit_wrap"]，selector2: 
2018-03-08 10:15:38,168 test_case_step.py[line: 47] INFO: 开始对步骤中的元素操作进行操作
2018-03-08 10:15:38,168 test_case_step.py[line: 127] INFO: 操作：点击
2018-03-08 10:15:38,168 test_case_step.py[line: 202] INFO: 开始根据元素定位器：xpath=//*[@class="submit_wrap"] 自定位元素
2018-03-08 10:15:38,168 test_case_step.py[line: 215] INFO: find_element_by_xpath：//*[@class="submit_wrap"]
2018-03-08 10:15:38,193 test_case_step.py[line: 188] INFO: 找到元素：<selenium.webdriver.remote.webelement.WebElement (session="dfb762fc11e3d59d9acc8dc651b05482", element="0.9799853130750309-3")>
2018-03-08 10:15:39,547 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 10:15:39,547 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(0, 14, 1520475337, 4, '登录', '点击', '', '', 'Pass', '点击成功', 'Chrome', '2018-03-08 10:15:38', '')
2018-03-08 10:15:39,553 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 10:15:39,554 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：5, 操作：等待， 输入参数：3，预期结果：）
2018-03-08 10:15:39,554 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 10:15:39,554 test_case_step.py[line: 88] INFO: 执行函数：等待
2018-03-08 10:15:39,554 test_case_step.py[line: 91] INFO: 正在对输入参数:3 进行参数处理
2018-03-08 10:15:39,554 test_case_step.py[line: 105] INFO: 等待3秒
2018-03-08 10:15:42,554 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 10:15:42,554 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(0, 14, 1520475337, 5, '', '等待', '3', '', 'Pass', 'run success', 'Chrome', '2018-03-08 10:15:39', '')
2018-03-08 10:15:42,558 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 10:15:42,559 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：6, 操作：断言， 输入参数：德芳运维，预期结果：德芳运维）
2018-03-08 10:15:42,559 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 10:15:42,559 test_case_step.py[line: 88] INFO: 执行函数：断言
2018-03-08 10:15:42,559 test_case_step.py[line: 91] INFO: 正在对输入参数:德芳运维 进行参数处理
2018-03-08 10:15:42,559 test_case_step.py[line: 115] INFO: 断言的标题为:德芳运维
2018-03-08 10:15:42,576 seleniumutil.py[line: 151] INFO: 断言信息为：德芳运维
2018-03-08 10:15:42,576 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 10:15:42,576 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(0, 14, 1520475337, 6, '', '断言', '德芳运维', '德芳运维', 'Pass', '断言成功', 'Chrome', '2018-03-08 10:15:42', '')
2018-03-08 10:15:42,583 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 10:15:42,584 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：7, 操作：， 输入参数：iframe89892232323，预期结果：）
2018-03-08 10:15:42,584 test_case_step.py[line: 38] INFO: 正在执行最普通的元素操作
2018-03-08 10:15:42,584 test_case_step.py[line: 42] INFO: 正在对选择器：selector1: ，selector2:  做数据转换处理
2018-03-08 10:15:42,584 test_case_step.py[line: 45] INFO: 转换后的选择器：selector1: ，selector2: 
2018-03-08 10:15:42,584 test_case_step.py[line: 47] INFO: 开始对步骤中的元素操作进行操作
2018-03-08 10:15:42,584 test_case_step.py[line: 127] INFO: 操作：
2018-03-08 10:15:42,584 test_case_step.py[line: 129] INFO: 正在对输入参数:iframe89892232323 进行参数处理
2018-03-08 10:15:42,584 test_case_step.py[line: 133] INFO: 处理后的输入参数为:['iframe89892232323'] 
2018-03-08 10:15:42,584 test_case_step.py[line: 180] ERROR: command为空,或者填写错误
2018-03-08 10:15:43,022 test_case_step.py[line: 272] INFO: 截图文件保存路径为：D:\python\webautotest\screentshot\tp0\tc14\tp0_tc14_step7_1520475337_20180308101542.png
2018-03-08 10:15:43,022 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 10:15:43,022 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(0, 14, 1520475337, 7, '', '', 'iframe89892232323', '', 'Fail', 'comman为空或者填写错误', 'Chrome', '2018-03-08 10:15:42', 'ftp://10.1.2.88/tp0_tc14_step7_1520475337_20180308101542.png')
2018-03-08 10:15:43,028 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 10:15:43,028 test_case.py[line: 46] INFO: 用例[id：14]步骤[步序：7] 运行失败，停止运行用例
2018-03-08 10:15:43,028 test_case.py[line: 58] INFO: 测试步骤执行完毕，正在记录用例运行结果到测试用例运行报表
2018-03-08 10:15:43,028 database.py[line: 58] INFO: query：INSERT INTO testcase_reporter(runHistoryId, browserType, testcaseId, testplanId, runTime, runResult) VALUES(%s, %s, %s, %s, %s, %s)  data：(1520475337, 'Chrome', 14, 0, '2018-03-08 10:15:37', 'Fail')
2018-03-08 10:15:43,032 main.py[line: 52] INFO: 用例执行完成，正在关闭浏览器
2018-03-08 10:15:46,503 main.py[line: 55] INFO: ####################### 测试结束 #######################
2018-03-08 10:15:46,503 main.py[line: 126] INFO: 运行完成,准备生成测试报告
2018-03-08 10:15:46,503 htmlreporter.py[line: 55] INFO: 正在查询测试用例执行统计信息
2018-03-08 10:15:46,503 database.py[line: 88] INFO: query：SELECT runResult FROM testcase_reporter WHERE runHistoryId = %s  data：(1520475337,)
2018-03-08 10:15:46,507 htmlreporter.py[line: 111] INFO: 正在查询测试计划：无计划 运行的的测试用例
2018-03-08 10:15:46,507 database.py[line: 106] INFO: query：SELECT id, runHistoryId, testcaseId, testplanId, browserType, runResult, runTime FROM testcase_reporter WHERE testplanId=%s AND runHistoryId = %s ORDER BY id ASC  data：(0, 1520475337)
2018-03-08 10:15:46,511 htmlreporter.py[line: 121] INFO: 正在记录测试计划[名称：无计划]的测试用例运行结果到测试报告
2018-03-08 10:15:46,511 database.py[line: 88] INFO: query：SELECT test_name FROM testcases WHERE id=%s  data：(14,)
2018-03-08 10:15:46,515 htmlreporter.py[line: 151] INFO: 正在查询测试计划：无计划 运行的的测试用例
2018-03-08 10:15:46,515 database.py[line: 106] INFO: query：SELECT id, runHistoryId, testcaseId, testplanId, browserType, runResult, runTime  FROM testcase_reporter WHERE testplanId=%s AND runHistoryId = %s ORDER BY id ASC  data：(0, 1520475337)
2018-03-08 10:15:46,519 htmlreporter.py[line: 168] INFO: 正在查询测试用例[id=14, name=运维登录]对应的测试步骤执行明细
2018-03-08 10:15:46,519 database.py[line: 106] INFO: query：SELECT id, stepOrder, runHistoryId, elementName, command, inparams, stepRunResult, expectedResult, stepRunResultDesc, browserType, runTime, screenshotUrl FROM case_step_run_detail WHERE testcaseId=%s AND runHistoryId = %s  ORDER BY id ASC  data：('14', 1520475337)
2018-03-08 10:15:46,524 htmlreporter.py[line: 211] INFO: 正在设置测试报告结果文件名
2018-03-08 10:15:46,525 htmlreporter.py[line: 222] INFO: 测试报告文件名所在路径为：E:\Projects\report\test_report20180308101546.html
2018-03-08 10:15:46,525 htmlreporter.py[line: 214] INFO: 正在生产测试报告
2018-03-08 10:15:46,541 main.py[line: 130] INFO: 生成测试报告成功
2018-03-08 10:15:46,541 main.py[line: 134] INFO: 运行完成,准备上传截图
2018-03-08 10:15:46,541 ftp.py[line: 42] INFO: is connecting to ftp server 10.1.2.88 on 21
2018-03-08 10:15:46,548 ftp.py[line: 47] INFO: ready to login ftp server
2018-03-08 10:15:46,650 ftp.py[line: 49] INFO: login ftp server successfully
2018-03-08 10:15:46,650 main.py[line: 138] INFO: 正在获取要上传的截图文件
2018-03-08 10:15:46,651 main.py[line: 146] INFO: 正在上传图片到ftp服务器
2018-03-08 10:15:46,651 main.py[line: 150] INFO: 正在上传文件：d:\python\webautotest\screentshot\tp0\tc14\tp0_tc14_step7_1520475337_20180308101542.png 到远程服务器：tp0_tc14_step7_1520475337_20180308101542.png
2018-03-08 10:15:46,673 ftp.py[line: 106] INFO: 文件：d:\python\webautotest\screentshot\tp0\tc14\tp0_tc14_step7_1520475337_20180308101542.png 已经上传到ftp
2018-03-08 10:15:46,674 ftp.py[line: 55] INFO: close ftp connection successfully
2018-03-08 10:15:46,674 main.py[line: 156] INFO: 运行完成，准备发送邮件
2018-03-08 10:15:46,944 main.py[line: 162] INFO: 邮件标题为：Hi，附件为web自动化测试报告，烦请查阅邮件内容为：{'E:\\Projects\\report\\test_report20180308101546.html'}，待发送邮件附件有 【测试报告】web自动化测试报告20180308101546
2018-03-08 10:15:46,944 main.py[line: 163] INFO: 正在发送测试报告邮件...
2018-03-08 10:15:47,649 main.py[line: 166] INFO: 发送邮件成功
2018-03-08 10:15:47,649 main.py[line: 172] INFO: 正在关闭数据库
2018-03-08 10:17:59,511 globalvar.py[line: 23] INFO: #####################正在初始化全局配置#####################
2018-03-08 10:17:59,511 globalvar.py[line: 24] INFO: 正在选择数据库运行环境和站点运行环境
2018-03-08 10:17:59,512 globalvar.py[line: 34] INFO: 在测试环境执行测试，正在获取测试环境的web site
2018-03-08 10:17:59,512 globalvar.py[line: 45] INFO: 在测试环境执行测试，正在获取测试环境的数据库
2018-03-08 10:17:59,523 globalvar.py[line: 55] INFO: 正在进行ftp配置
2018-03-08 10:17:59,529 globalvar.py[line: 62] INFO: 正在获取运行模式
2018-03-08 10:17:59,530 globalvar.py[line: 66] INFO: 运行模式为:<module 'publicpkg.runmode' from 'D:\\python\\webautotest\\publicpkg\\runmode.py'>
2018-03-08 10:17:59,530 globalvar.py[line: 69] INFO: 测试计划配置:[3]
2018-03-08 10:17:59,530 globalvar.py[line: 72] INFO: 全局初始化用例配置:[123]
2018-03-08 10:17:59,530 globalvar.py[line: 75] INFO: 正在获取浏览器配置
2018-03-08 10:17:59,530 globalvar.py[line: 79] INFO: 获取需要进行测试的浏览器有：['Chrome']
2018-03-08 10:17:59,530 globalvar.py[line: 82] INFO: 正在初始化其它工具对象
2018-03-08 10:17:59,530 globalvar.py[line: 86] INFO: 正在进行截图基路径配置
2018-03-08 10:17:59,531 globalvar.py[line: 91] INFO: 截图报存基路径为：D:\python\webautotest\screentshot\
2018-03-08 10:17:59,531 globalvar.py[line: 95] INFO: 正在进行测试报告配置
2018-03-08 10:17:59,531 globalvar.py[line: 96] INFO: --1、读取测试报告路径及文件名
2018-03-08 10:17:59,531 globalvar.py[line: 101] INFO: --2、构造测试报告
2018-03-08 10:17:59,531 globalvar.py[line: 104] INFO: --3、设置报告生成路径
2018-03-08 10:17:59,532 globalvar.py[line: 107] INFO: #####################初始化全局配置完毕#####################
2018-03-08 10:18:01,938 main.py[line: 21] INFO: 正在查询用例是否存在
2018-03-08 10:18:01,939 database.py[line: 88] INFO: query：SELECT id FROM testcases WHERE id = %s  data：(14,)
2018-03-08 10:18:01,945 main.py[line: 28] INFO: ####################### 开始测试 #######################
2018-03-08 10:18:08,906 main.py[line: 38] INFO: 优先运行全局初始化用例 [123]
2018-03-08 10:18:08,906 main.py[line: 40] INFO: 正在查询全局用例[id=123]是否存在
2018-03-08 10:18:08,906 database.py[line: 88] INFO: query：SELECT id FROM testcases WHERE id = %s  data：(123,)
2018-03-08 10:18:08,909 main.py[line: 45] WARNING: 用例id:14不存在
2018-03-08 10:18:08,909 test_case.py[line: 17] INFO: 正在构造并初始化测试用例对象[id=14]
2018-03-08 10:18:08,909 test_case.py[line: 26] INFO: 初始测试用例完毕
2018-03-08 10:18:08,909 test_case.py[line: 70] INFO: 正在获取测试用例所有测试步骤
2018-03-08 10:18:08,910 database.py[line: 106] INFO: query：(SELECT a.StepOrder AS StepOrder,c.PageName AS PageName,b.ElementName AS ElementName,b.ElementSelector AS ElementSelector,b.ElementSelector02 AS ElementSelector02,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,a.compid AS compid,a.compFolderid AS comFolderid,'' AS comName FROM testcases_steps AS a, page_elements AS b,pagesobject AS c WHERE a.TestcaseID = %s AND a.ElementId = b.Id AND b.PageId = c.Id)UNION ALL(SELECT a.steporder AS steporder,'' AS PageName,'' AS ElementSelector,'' AS ElementSelector02,'' AS ElementName,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,a.compid AS compid,a.compFolderid AS comFolderid,tc.test_name AS comName FROM testcases_steps AS a, testcases AS tc WHERE a.TestcaseID = %s AND a.compid = tc.id)UNION ALL(SELECT a.steporder AS steporder,'' AS PageName,'' AS ElementSelector,'' AS ElementSelector02,'' AS ElementName,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,'' AS compid,'' AS comFolderid,'' AS comName FROM testcases_steps AS a WHERE a.TestcaseID = %s AND NOT ISNULL(a.stepOrder)AND NOT ISNULL(a.Command) AND ISNULL(compid) AND ElementId='')ORDER BY steporder  data：(14, 14, 14)
2018-03-08 10:18:08,915 test_case.py[line: 123] INFO: 获取的测试步骤为： [(1, '', '', '', '', '断言', '深圳市金斧子网络科技有限公司-ERP', '', '', '', ''), (2, '用户登录', '用户名', 'xpath=//*[@name=&quot;username&quot;]', '', '输入', 'defang3', '', None, None, ''), (3, '用户登录', '密码', 'xpath=//*[@name=&quot;password&quot;]', '', '输入', '123', '', None, None, ''), (4, '用户登录', '登录', 'xpath=//*[@class=&quot;submit_wrap&quot;]', '', '点击', '', '', None, None, ''), (5, '', '', '', '', '等待', '3', '', '', '', ''), (6, '', '', '', '', '断言', '德芳运维', '德芳运维', '', '', ''), (7, '', '', '', '', '切换入iframe', 'iframe89892232323', '', '', '', ''), (8, '审批流', '审批流的链接', 'xpath=html/body/div[1]/div/div/div[2]/div/div/div/div[2]/div/div[1]/ul/li[1]/div[1]', '', '点击', '', '', None, None, '')]
2018-03-08 10:18:08,915 test_case.py[line: 41] INFO: 开始执行测试步骤
2018-03-08 10:18:08,915 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：1, 操作：断言， 输入参数：深圳市金斧子网络科技有限公司-ERP，预期结果：）
2018-03-08 10:18:08,915 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 10:18:08,915 test_case_step.py[line: 88] INFO: 执行函数：断言
2018-03-08 10:18:08,915 test_case_step.py[line: 91] INFO: 正在对输入参数:深圳市金斧子网络科技有限公司-ERP 进行参数处理
2018-03-08 10:18:08,915 test_case_step.py[line: 115] INFO: 断言的标题为:深圳市金斧子网络科技有限公司-ERP
2018-03-08 10:18:08,922 seleniumutil.py[line: 151] INFO: 断言信息为：深圳市金斧子网络科技有限公司-ERP
2018-03-08 10:18:08,923 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 10:18:08,923 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(0, 14, 1520475488, 1, '', '断言', '深圳市金斧子网络科技有限公司-ERP', '', 'Pass', '断言成功', 'Chrome', '2018-03-08 10:18:8', '')
2018-03-08 10:18:08,928 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 10:18:08,928 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：用户名, 步序：2, 操作：输入， 输入参数：defang3，预期结果：）
2018-03-08 10:18:08,928 test_case_step.py[line: 38] INFO: 正在执行最普通的元素操作
2018-03-08 10:18:08,929 test_case_step.py[line: 42] INFO: 正在对选择器：selector1: xpath=//*[@name=&quot;username&quot;]，selector2:  做数据转换处理
2018-03-08 10:18:08,929 test_case_step.py[line: 45] INFO: 转换后的选择器：selector1: xpath=//*[@name="username"]，selector2: 
2018-03-08 10:18:08,929 test_case_step.py[line: 47] INFO: 开始对步骤中的元素操作进行操作
2018-03-08 10:18:08,929 test_case_step.py[line: 127] INFO: 操作：输入
2018-03-08 10:18:08,929 test_case_step.py[line: 129] INFO: 正在对输入参数:defang3 进行参数处理
2018-03-08 10:18:08,929 test_case_step.py[line: 133] INFO: 处理后的输入参数为:['defang3'] 
2018-03-08 10:18:08,929 test_case_step.py[line: 202] INFO: 开始根据元素定位器：xpath=//*[@name="username"] 自定位元素
2018-03-08 10:18:08,929 test_case_step.py[line: 215] INFO: find_element_by_xpath：//*[@name="username"]
2018-03-08 10:18:08,947 test_case_step.py[line: 188] INFO: 找到元素：<selenium.webdriver.remote.webelement.WebElement (session="fd3f73bbc481c8dacb80450a27724c93", element="0.6785220946703416-1")>
2018-03-08 10:18:09,014 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 10:18:09,014 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(0, 14, 1520475488, 2, '用户名', '输入', 'defang3', '', 'Pass', '输入数据成功', 'Chrome', '2018-03-08 10:18:8', '')
2018-03-08 10:18:09,018 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 10:18:09,019 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：密码, 步序：3, 操作：输入， 输入参数：123，预期结果：）
2018-03-08 10:18:09,019 test_case_step.py[line: 38] INFO: 正在执行最普通的元素操作
2018-03-08 10:18:09,019 test_case_step.py[line: 42] INFO: 正在对选择器：selector1: xpath=//*[@name=&quot;password&quot;]，selector2:  做数据转换处理
2018-03-08 10:18:09,019 test_case_step.py[line: 45] INFO: 转换后的选择器：selector1: xpath=//*[@name="password"]，selector2: 
2018-03-08 10:18:09,019 test_case_step.py[line: 47] INFO: 开始对步骤中的元素操作进行操作
2018-03-08 10:18:09,019 test_case_step.py[line: 127] INFO: 操作：输入
2018-03-08 10:18:09,020 test_case_step.py[line: 129] INFO: 正在对输入参数:123 进行参数处理
2018-03-08 10:18:09,020 test_case_step.py[line: 133] INFO: 处理后的输入参数为:['123'] 
2018-03-08 10:18:09,020 test_case_step.py[line: 202] INFO: 开始根据元素定位器：xpath=//*[@name="password"] 自定位元素
2018-03-08 10:18:09,020 test_case_step.py[line: 215] INFO: find_element_by_xpath：//*[@name="password"]
2018-03-08 10:18:09,034 test_case_step.py[line: 188] INFO: 找到元素：<selenium.webdriver.remote.webelement.WebElement (session="fd3f73bbc481c8dacb80450a27724c93", element="0.6785220946703416-2")>
2018-03-08 10:18:09,081 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 10:18:09,081 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(0, 14, 1520475488, 3, '密码', '输入', '123', '', 'Pass', '输入数据成功', 'Chrome', '2018-03-08 10:18:9', '')
2018-03-08 10:18:09,087 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 10:18:09,087 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：登录, 步序：4, 操作：点击， 输入参数：，预期结果：）
2018-03-08 10:18:09,087 test_case_step.py[line: 38] INFO: 正在执行最普通的元素操作
2018-03-08 10:18:09,087 test_case_step.py[line: 42] INFO: 正在对选择器：selector1: xpath=//*[@class=&quot;submit_wrap&quot;]，selector2:  做数据转换处理
2018-03-08 10:18:09,087 test_case_step.py[line: 45] INFO: 转换后的选择器：selector1: xpath=//*[@class="submit_wrap"]，selector2: 
2018-03-08 10:18:09,087 test_case_step.py[line: 47] INFO: 开始对步骤中的元素操作进行操作
2018-03-08 10:18:09,087 test_case_step.py[line: 127] INFO: 操作：点击
2018-03-08 10:18:09,087 test_case_step.py[line: 202] INFO: 开始根据元素定位器：xpath=//*[@class="submit_wrap"] 自定位元素
2018-03-08 10:18:09,087 test_case_step.py[line: 215] INFO: find_element_by_xpath：//*[@class="submit_wrap"]
2018-03-08 10:18:09,103 test_case_step.py[line: 188] INFO: 找到元素：<selenium.webdriver.remote.webelement.WebElement (session="fd3f73bbc481c8dacb80450a27724c93", element="0.6785220946703416-3")>
2018-03-08 10:18:10,577 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 10:18:10,577 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(0, 14, 1520475488, 4, '登录', '点击', '', '', 'Pass', '点击成功', 'Chrome', '2018-03-08 10:18:9', '')
2018-03-08 10:18:10,583 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 10:18:10,583 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：5, 操作：等待， 输入参数：3，预期结果：）
2018-03-08 10:18:10,583 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 10:18:10,583 test_case_step.py[line: 88] INFO: 执行函数：等待
2018-03-08 10:18:10,583 test_case_step.py[line: 91] INFO: 正在对输入参数:3 进行参数处理
2018-03-08 10:18:10,583 test_case_step.py[line: 105] INFO: 等待3秒
2018-03-08 10:18:13,583 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 10:18:13,583 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(0, 14, 1520475488, 5, '', '等待', '3', '', 'Pass', 'run success', 'Chrome', '2018-03-08 10:18:10', '')
2018-03-08 10:18:13,587 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 10:18:13,587 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：6, 操作：断言， 输入参数：德芳运维，预期结果：德芳运维）
2018-03-08 10:18:13,587 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 10:18:13,587 test_case_step.py[line: 88] INFO: 执行函数：断言
2018-03-08 10:18:13,587 test_case_step.py[line: 91] INFO: 正在对输入参数:德芳运维 进行参数处理
2018-03-08 10:18:13,587 test_case_step.py[line: 115] INFO: 断言的标题为:德芳运维
2018-03-08 10:18:13,602 seleniumutil.py[line: 151] INFO: 断言信息为：德芳运维
2018-03-08 10:18:13,603 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 10:18:13,603 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(0, 14, 1520475488, 6, '', '断言', '德芳运维', '德芳运维', 'Pass', '断言成功', 'Chrome', '2018-03-08 10:18:13', '')
2018-03-08 10:18:13,607 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 10:18:13,607 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：7, 操作：切换入iframe， 输入参数：iframe89892232323，预期结果：）
2018-03-08 10:18:13,607 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 10:18:13,608 test_case_step.py[line: 88] INFO: 执行函数：切换入iframe
2018-03-08 10:18:13,608 test_case_step.py[line: 91] INFO: 正在对输入参数:iframe89892232323 进行参数处理
2018-03-08 10:18:13,608 seleniumutil.py[line: 70] ERROR: 切换至frame（id/name/xpath = iframe89892232323）失败
2018-03-08 10:18:14,038 test_case_step.py[line: 272] INFO: 截图文件保存路径为：D:\python\webautotest\screentshot\tp0\tc14\tp0_tc14_step7_1520475488_20180308101813.png
2018-03-08 10:18:14,039 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 10:18:14,039 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(0, 14, 1520475488, 7, '', '切换入iframe', 'iframe89892232323', '', 'Fail', AttributeError("'WebDriver' object has no attribute 'swith_to_frame'",), 'Chrome', '2018-03-08 10:18:13', 'ftp://10.1.2.88/tp0_tc14_step7_1520475488_20180308101813.png')
2018-03-08 10:18:14,041 database.py[line: 66] ERROR: 执行数据库插入操作失败：Failed processing format-parameters; Python 'attributeerror' cannot be converted to a MySQL type
2018-03-08 10:18:14,042 test_case_step.py[line: 81] ERROR: 记录到测试步骤结果报表失败 Failed processing format-parameters; Python 'attributeerror' cannot be converted to a MySQL type
2018-03-08 10:18:14,042 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 10:18:14,042 test_case.py[line: 46] INFO: 用例[id：14]步骤[步序：7] 运行失败，停止运行用例
2018-03-08 10:18:14,042 test_case.py[line: 58] INFO: 测试步骤执行完毕，正在记录用例运行结果到测试用例运行报表
2018-03-08 10:18:14,042 database.py[line: 58] INFO: query：INSERT INTO testcase_reporter(runHistoryId, browserType, testcaseId, testplanId, runTime, runResult) VALUES(%s, %s, %s, %s, %s, %s)  data：(1520475488, 'Chrome', 14, 0, '2018-03-08 10:18:8', 'Fail')
2018-03-08 10:18:14,046 main.py[line: 52] INFO: 用例执行完成，正在关闭浏览器
2018-03-08 10:18:26,435 main.py[line: 55] INFO: ####################### 测试结束 #######################
2018-03-08 10:18:26,436 main.py[line: 126] INFO: 运行完成,准备生成测试报告
2018-03-08 10:18:26,436 htmlreporter.py[line: 55] INFO: 正在查询测试用例执行统计信息
2018-03-08 10:18:26,437 database.py[line: 88] INFO: query：SELECT runResult FROM testcase_reporter WHERE runHistoryId = %s  data：(1520475488,)
2018-03-08 10:18:26,442 htmlreporter.py[line: 111] INFO: 正在查询测试计划：无计划 运行的的测试用例
2018-03-08 10:18:26,442 database.py[line: 106] INFO: query：SELECT id, runHistoryId, testcaseId, testplanId, browserType, runResult, runTime FROM testcase_reporter WHERE testplanId=%s AND runHistoryId = %s ORDER BY id ASC  data：(0, 1520475488)
2018-03-08 10:18:26,446 htmlreporter.py[line: 121] INFO: 正在记录测试计划[名称：无计划]的测试用例运行结果到测试报告
2018-03-08 10:18:26,447 database.py[line: 88] INFO: query：SELECT test_name FROM testcases WHERE id=%s  data：(14,)
2018-03-08 10:18:26,450 htmlreporter.py[line: 151] INFO: 正在查询测试计划：无计划 运行的的测试用例
2018-03-08 10:18:26,451 database.py[line: 106] INFO: query：SELECT id, runHistoryId, testcaseId, testplanId, browserType, runResult, runTime  FROM testcase_reporter WHERE testplanId=%s AND runHistoryId = %s ORDER BY id ASC  data：(0, 1520475488)
2018-03-08 10:18:26,455 htmlreporter.py[line: 168] INFO: 正在查询测试用例[id=14, name=运维登录]对应的测试步骤执行明细
2018-03-08 10:18:26,455 database.py[line: 106] INFO: query：SELECT id, stepOrder, runHistoryId, elementName, command, inparams, stepRunResult, expectedResult, stepRunResultDesc, browserType, runTime, screenshotUrl FROM case_step_run_detail WHERE testcaseId=%s AND runHistoryId = %s  ORDER BY id ASC  data：('14', 1520475488)
2018-03-08 10:18:26,464 htmlreporter.py[line: 211] INFO: 正在设置测试报告结果文件名
2018-03-08 10:18:26,464 htmlreporter.py[line: 222] INFO: 测试报告文件名所在路径为：E:\Projects\report\test_report20180308101826.html
2018-03-08 10:18:26,464 htmlreporter.py[line: 214] INFO: 正在生产测试报告
2018-03-08 10:18:26,466 main.py[line: 130] INFO: 生成测试报告成功
2018-03-08 10:18:26,466 main.py[line: 134] INFO: 运行完成,准备上传截图
2018-03-08 10:18:26,466 ftp.py[line: 42] INFO: is connecting to ftp server 10.1.2.88 on 21
2018-03-08 10:18:26,472 ftp.py[line: 47] INFO: ready to login ftp server
2018-03-08 10:18:26,577 ftp.py[line: 49] INFO: login ftp server successfully
2018-03-08 10:18:26,578 main.py[line: 138] INFO: 正在获取要上传的截图文件
2018-03-08 10:18:26,579 main.py[line: 146] INFO: 正在上传图片到ftp服务器
2018-03-08 10:18:26,579 main.py[line: 150] INFO: 正在上传文件：d:\python\webautotest\screentshot\tp0\tc14\tp0_tc14_step7_1520475488_20180308101813.png 到远程服务器：tp0_tc14_step7_1520475488_20180308101813.png
2018-03-08 10:18:26,600 ftp.py[line: 106] INFO: 文件：d:\python\webautotest\screentshot\tp0\tc14\tp0_tc14_step7_1520475488_20180308101813.png 已经上传到ftp
2018-03-08 10:18:26,601 ftp.py[line: 55] INFO: close ftp connection successfully
2018-03-08 10:18:26,601 main.py[line: 156] INFO: 运行完成，准备发送邮件
2018-03-08 10:18:26,951 main.py[line: 162] INFO: 邮件标题为：Hi，附件为web自动化测试报告，烦请查阅邮件内容为：{'E:\\Projects\\report\\test_report20180308101826.html'}，待发送邮件附件有 【测试报告】web自动化测试报告20180308101826
2018-03-08 10:18:26,952 main.py[line: 163] INFO: 正在发送测试报告邮件...
2018-03-08 10:18:27,718 main.py[line: 166] INFO: 发送邮件成功
2018-03-08 10:18:27,718 main.py[line: 172] INFO: 正在关闭数据库
2018-03-08 10:21:00,669 globalvar.py[line: 23] INFO: #####################正在初始化全局配置#####################
2018-03-08 10:21:00,669 globalvar.py[line: 24] INFO: 正在选择数据库运行环境和站点运行环境
2018-03-08 10:21:00,670 globalvar.py[line: 34] INFO: 在测试环境执行测试，正在获取测试环境的web site
2018-03-08 10:21:00,670 globalvar.py[line: 45] INFO: 在测试环境执行测试，正在获取测试环境的数据库
2018-03-08 10:21:00,680 globalvar.py[line: 55] INFO: 正在进行ftp配置
2018-03-08 10:21:00,687 globalvar.py[line: 62] INFO: 正在获取运行模式
2018-03-08 10:21:00,687 globalvar.py[line: 66] INFO: 运行模式为:<module 'publicpkg.runmode' from 'D:\\python\\webautotest\\publicpkg\\runmode.py'>
2018-03-08 10:21:00,687 globalvar.py[line: 69] INFO: 测试计划配置:[3]
2018-03-08 10:21:00,687 globalvar.py[line: 72] INFO: 全局初始化用例配置:[123]
2018-03-08 10:21:00,687 globalvar.py[line: 75] INFO: 正在获取浏览器配置
2018-03-08 10:21:00,688 globalvar.py[line: 79] INFO: 获取需要进行测试的浏览器有：['Chrome']
2018-03-08 10:21:00,688 globalvar.py[line: 82] INFO: 正在初始化其它工具对象
2018-03-08 10:21:00,688 globalvar.py[line: 86] INFO: 正在进行截图基路径配置
2018-03-08 10:21:00,689 globalvar.py[line: 91] INFO: 截图报存基路径为：D:\python\webautotest\screentshot\
2018-03-08 10:21:00,689 globalvar.py[line: 95] INFO: 正在进行测试报告配置
2018-03-08 10:21:00,689 globalvar.py[line: 96] INFO: --1、读取测试报告路径及文件名
2018-03-08 10:21:00,689 globalvar.py[line: 101] INFO: --2、构造测试报告
2018-03-08 10:21:00,689 globalvar.py[line: 104] INFO: --3、设置报告生成路径
2018-03-08 10:21:00,689 globalvar.py[line: 107] INFO: #####################初始化全局配置完毕#####################
2018-03-08 10:21:03,094 main.py[line: 21] INFO: 正在查询用例是否存在
2018-03-08 10:21:03,094 database.py[line: 88] INFO: query：SELECT id FROM testcases WHERE id = %s  data：(14,)
2018-03-08 10:21:03,099 main.py[line: 28] INFO: ####################### 开始测试 #######################
2018-03-08 10:21:09,882 main.py[line: 38] INFO: 优先运行全局初始化用例 [123]
2018-03-08 10:21:09,883 main.py[line: 40] INFO: 正在查询全局用例[id=123]是否存在
2018-03-08 10:21:09,883 database.py[line: 88] INFO: query：SELECT id FROM testcases WHERE id = %s  data：(123,)
2018-03-08 10:21:09,886 main.py[line: 45] WARNING: 用例id:14不存在
2018-03-08 10:21:09,886 test_case.py[line: 17] INFO: 正在构造并初始化测试用例对象[id=14]
2018-03-08 10:21:09,886 test_case.py[line: 26] INFO: 初始测试用例完毕
2018-03-08 10:21:09,886 test_case.py[line: 70] INFO: 正在获取测试用例所有测试步骤
2018-03-08 10:21:09,886 database.py[line: 106] INFO: query：(SELECT a.StepOrder AS StepOrder,c.PageName AS PageName,b.ElementName AS ElementName,b.ElementSelector AS ElementSelector,b.ElementSelector02 AS ElementSelector02,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,a.compid AS compid,a.compFolderid AS comFolderid,'' AS comName FROM testcases_steps AS a, page_elements AS b,pagesobject AS c WHERE a.TestcaseID = %s AND a.ElementId = b.Id AND b.PageId = c.Id)UNION ALL(SELECT a.steporder AS steporder,'' AS PageName,'' AS ElementSelector,'' AS ElementSelector02,'' AS ElementName,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,a.compid AS compid,a.compFolderid AS comFolderid,tc.test_name AS comName FROM testcases_steps AS a, testcases AS tc WHERE a.TestcaseID = %s AND a.compid = tc.id)UNION ALL(SELECT a.steporder AS steporder,'' AS PageName,'' AS ElementSelector,'' AS ElementSelector02,'' AS ElementName,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,'' AS compid,'' AS comFolderid,'' AS comName FROM testcases_steps AS a WHERE a.TestcaseID = %s AND NOT ISNULL(a.stepOrder)AND NOT ISNULL(a.Command) AND ISNULL(compid) AND ElementId='')ORDER BY steporder  data：(14, 14, 14)
2018-03-08 10:21:09,890 test_case.py[line: 123] INFO: 获取的测试步骤为： [(1, '', '', '', '', '断言', '深圳市金斧子网络科技有限公司-ERP', '', '', '', ''), (2, '用户登录', '用户名', 'xpath=//*[@name=&quot;username&quot;]', '', '输入', 'defang3', '', None, None, ''), (3, '用户登录', '密码', 'xpath=//*[@name=&quot;password&quot;]', '', '输入', '123', '', None, None, ''), (4, '用户登录', '登录', 'xpath=//*[@class=&quot;submit_wrap&quot;]', '', '点击', '', '', None, None, ''), (5, '', '', '', '', '等待', '3', '', '', '', ''), (6, '', '', '', '', '断言', '德芳运维', '德芳运维', '', '', ''), (7, '', '', '', '', '切换入iframe', 'iframe89892232323', '', '', '', ''), (8, '审批流', '审批流的链接', 'xpath=html/body/div[1]/div/div/div[2]/div/div/div/div[2]/div/div[1]/ul/li[1]/div[1]', '', '点击', '', '', None, None, '')]
2018-03-08 10:21:09,890 test_case.py[line: 41] INFO: 开始执行测试步骤
2018-03-08 10:21:09,890 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：1, 操作：断言， 输入参数：深圳市金斧子网络科技有限公司-ERP，预期结果：）
2018-03-08 10:21:09,890 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 10:21:09,890 test_case_step.py[line: 88] INFO: 执行函数：断言
2018-03-08 10:21:09,890 test_case_step.py[line: 91] INFO: 正在对输入参数:深圳市金斧子网络科技有限公司-ERP 进行参数处理
2018-03-08 10:21:09,890 test_case_step.py[line: 115] INFO: 断言的标题为:深圳市金斧子网络科技有限公司-ERP
2018-03-08 10:21:09,896 seleniumutil.py[line: 151] INFO: 断言信息为：深圳市金斧子网络科技有限公司-ERP
2018-03-08 10:21:09,897 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 10:21:09,897 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(0, 14, 1520475669, 1, '', '断言', '深圳市金斧子网络科技有限公司-ERP', '', 'Pass', '断言成功', 'Chrome', '2018-03-08 10:21:9', '')
2018-03-08 10:21:09,902 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 10:21:09,902 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：用户名, 步序：2, 操作：输入， 输入参数：defang3，预期结果：）
2018-03-08 10:21:09,902 test_case_step.py[line: 38] INFO: 正在执行最普通的元素操作
2018-03-08 10:21:09,902 test_case_step.py[line: 42] INFO: 正在对选择器：selector1: xpath=//*[@name=&quot;username&quot;]，selector2:  做数据转换处理
2018-03-08 10:21:09,902 test_case_step.py[line: 45] INFO: 转换后的选择器：selector1: xpath=//*[@name="username"]，selector2: 
2018-03-08 10:21:09,902 test_case_step.py[line: 47] INFO: 开始对步骤中的元素操作进行操作
2018-03-08 10:21:09,902 test_case_step.py[line: 127] INFO: 操作：输入
2018-03-08 10:21:09,902 test_case_step.py[line: 129] INFO: 正在对输入参数:defang3 进行参数处理
2018-03-08 10:21:09,903 test_case_step.py[line: 133] INFO: 处理后的输入参数为:['defang3'] 
2018-03-08 10:21:09,903 test_case_step.py[line: 202] INFO: 开始根据元素定位器：xpath=//*[@name="username"] 自定位元素
2018-03-08 10:21:09,903 test_case_step.py[line: 215] INFO: find_element_by_xpath：//*[@name="username"]
2018-03-08 10:21:09,920 test_case_step.py[line: 188] INFO: 找到元素：<selenium.webdriver.remote.webelement.WebElement (session="f25d0636e16539fa1302722e587dcb39", element="0.7883565465432079-1")>
2018-03-08 10:21:09,989 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 10:21:09,989 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(0, 14, 1520475669, 2, '用户名', '输入', 'defang3', '', 'Pass', '输入数据成功', 'Chrome', '2018-03-08 10:21:9', '')
2018-03-08 10:21:09,995 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 10:21:09,995 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：密码, 步序：3, 操作：输入， 输入参数：123，预期结果：）
2018-03-08 10:21:09,995 test_case_step.py[line: 38] INFO: 正在执行最普通的元素操作
2018-03-08 10:21:09,995 test_case_step.py[line: 42] INFO: 正在对选择器：selector1: xpath=//*[@name=&quot;password&quot;]，selector2:  做数据转换处理
2018-03-08 10:21:09,995 test_case_step.py[line: 45] INFO: 转换后的选择器：selector1: xpath=//*[@name="password"]，selector2: 
2018-03-08 10:21:09,995 test_case_step.py[line: 47] INFO: 开始对步骤中的元素操作进行操作
2018-03-08 10:21:09,995 test_case_step.py[line: 127] INFO: 操作：输入
2018-03-08 10:21:09,995 test_case_step.py[line: 129] INFO: 正在对输入参数:123 进行参数处理
2018-03-08 10:21:09,995 test_case_step.py[line: 133] INFO: 处理后的输入参数为:['123'] 
2018-03-08 10:21:09,996 test_case_step.py[line: 202] INFO: 开始根据元素定位器：xpath=//*[@name="password"] 自定位元素
2018-03-08 10:21:09,996 test_case_step.py[line: 215] INFO: find_element_by_xpath：//*[@name="password"]
2018-03-08 10:21:10,013 test_case_step.py[line: 188] INFO: 找到元素：<selenium.webdriver.remote.webelement.WebElement (session="f25d0636e16539fa1302722e587dcb39", element="0.7883565465432079-2")>
2018-03-08 10:21:10,060 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 10:21:10,060 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(0, 14, 1520475669, 3, '密码', '输入', '123', '', 'Pass', '输入数据成功', 'Chrome', '2018-03-08 10:21:9', '')
2018-03-08 10:21:10,065 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 10:21:10,065 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：登录, 步序：4, 操作：点击， 输入参数：，预期结果：）
2018-03-08 10:21:10,066 test_case_step.py[line: 38] INFO: 正在执行最普通的元素操作
2018-03-08 10:21:10,066 test_case_step.py[line: 42] INFO: 正在对选择器：selector1: xpath=//*[@class=&quot;submit_wrap&quot;]，selector2:  做数据转换处理
2018-03-08 10:21:10,066 test_case_step.py[line: 45] INFO: 转换后的选择器：selector1: xpath=//*[@class="submit_wrap"]，selector2: 
2018-03-08 10:21:10,066 test_case_step.py[line: 47] INFO: 开始对步骤中的元素操作进行操作
2018-03-08 10:21:10,066 test_case_step.py[line: 127] INFO: 操作：点击
2018-03-08 10:21:10,066 test_case_step.py[line: 202] INFO: 开始根据元素定位器：xpath=//*[@class="submit_wrap"] 自定位元素
2018-03-08 10:21:10,066 test_case_step.py[line: 215] INFO: find_element_by_xpath：//*[@class="submit_wrap"]
2018-03-08 10:21:10,082 test_case_step.py[line: 188] INFO: 找到元素：<selenium.webdriver.remote.webelement.WebElement (session="f25d0636e16539fa1302722e587dcb39", element="0.7883565465432079-3")>
2018-03-08 10:21:11,372 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 10:21:11,372 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(0, 14, 1520475669, 4, '登录', '点击', '', '', 'Pass', '点击成功', 'Chrome', '2018-03-08 10:21:10', '')
2018-03-08 10:21:11,378 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 10:21:11,378 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：5, 操作：等待， 输入参数：3，预期结果：）
2018-03-08 10:21:11,378 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 10:21:11,378 test_case_step.py[line: 88] INFO: 执行函数：等待
2018-03-08 10:21:11,379 test_case_step.py[line: 91] INFO: 正在对输入参数:3 进行参数处理
2018-03-08 10:21:11,379 test_case_step.py[line: 105] INFO: 等待3秒
2018-03-08 10:21:14,380 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 10:21:14,381 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(0, 14, 1520475669, 5, '', '等待', '3', '', 'Pass', 'run success', 'Chrome', '2018-03-08 10:21:11', '')
2018-03-08 10:21:14,387 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 10:21:14,388 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：6, 操作：断言， 输入参数：德芳运维，预期结果：德芳运维）
2018-03-08 10:21:14,388 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 10:21:14,388 test_case_step.py[line: 88] INFO: 执行函数：断言
2018-03-08 10:21:14,388 test_case_step.py[line: 91] INFO: 正在对输入参数:德芳运维 进行参数处理
2018-03-08 10:21:14,388 test_case_step.py[line: 115] INFO: 断言的标题为:德芳运维
2018-03-08 10:21:14,402 seleniumutil.py[line: 151] INFO: 断言信息为：德芳运维
2018-03-08 10:21:14,402 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 10:21:14,402 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(0, 14, 1520475669, 6, '', '断言', '德芳运维', '德芳运维', 'Pass', '断言成功', 'Chrome', '2018-03-08 10:21:14', '')
2018-03-08 10:21:14,407 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 10:21:14,407 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：7, 操作：切换入iframe， 输入参数：iframe89892232323，预期结果：）
2018-03-08 10:21:14,407 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 10:21:14,407 test_case_step.py[line: 88] INFO: 执行函数：切换入iframe
2018-03-08 10:21:14,407 test_case_step.py[line: 91] INFO: 正在对输入参数:iframe89892232323 进行参数处理
2018-03-08 10:21:14,426 seleniumutil.py[line: 67] INFO: 切换至frame（id/name/xpath = iframe89892232323）成功
2018-03-08 10:21:14,426 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 10:21:14,426 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(0, 14, 1520475669, 7, '', '切换入iframe', 'iframe89892232323', '', 'Pass', 'run success', 'Chrome', '2018-03-08 10:21:14', '')
2018-03-08 10:21:14,430 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 10:21:14,430 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：审批流的链接, 步序：8, 操作：点击， 输入参数：，预期结果：）
2018-03-08 10:21:14,430 test_case_step.py[line: 38] INFO: 正在执行最普通的元素操作
2018-03-08 10:21:14,430 test_case_step.py[line: 42] INFO: 正在对选择器：selector1: xpath=html/body/div[1]/div/div/div[2]/div/div/div/div[2]/div/div[1]/ul/li[1]/div[1]，selector2:  做数据转换处理
2018-03-08 10:21:14,430 test_case_step.py[line: 45] INFO: 转换后的选择器：selector1: xpath=html/body/div[1]/div/div/div[2]/div/div/div/div[2]/div/div[1]/ul/li[1]/div[1]，selector2: 
2018-03-08 10:21:14,430 test_case_step.py[line: 47] INFO: 开始对步骤中的元素操作进行操作
2018-03-08 10:21:14,431 test_case_step.py[line: 127] INFO: 操作：点击
2018-03-08 10:21:14,431 test_case_step.py[line: 202] INFO: 开始根据元素定位器：xpath=html/body/div[1]/div/div/div[2]/div/div/div/div[2]/div/div[1]/ul/li[1]/div[1] 自定位元素
2018-03-08 10:21:14,431 test_case_step.py[line: 215] INFO: find_element_by_xpath：html/body/div[1]/div/div/div[2]/div/div/div/div[2]/div/div[1]/ul/li[1]/div[1]
2018-03-08 10:21:14,448 test_case_step.py[line: 188] INFO: 找到元素：<selenium.webdriver.remote.webelement.WebElement (session="f25d0636e16539fa1302722e587dcb39", element="0.4648082335136603-1")>
2018-03-08 10:21:14,612 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 10:21:14,612 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(0, 14, 1520475669, 8, '审批流的链接', '点击', '', '', 'Pass', '点击成功', 'Chrome', '2018-03-08 10:21:14', '')
2018-03-08 10:21:14,618 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 10:21:14,618 test_case.py[line: 58] INFO: 测试步骤执行完毕，正在记录用例运行结果到测试用例运行报表
2018-03-08 10:21:14,619 database.py[line: 58] INFO: query：INSERT INTO testcase_reporter(runHistoryId, browserType, testcaseId, testplanId, runTime, runResult) VALUES(%s, %s, %s, %s, %s, %s)  data：(1520475669, 'Chrome', 14, 0, '2018-03-08 10:21:9', 'Pass')
2018-03-08 10:21:14,625 main.py[line: 52] INFO: 用例执行完成，正在关闭浏览器
2018-03-08 10:21:17,906 main.py[line: 55] INFO: ####################### 测试结束 #######################
2018-03-08 10:21:17,906 main.py[line: 126] INFO: 运行完成,准备生成测试报告
2018-03-08 10:21:17,906 htmlreporter.py[line: 55] INFO: 正在查询测试用例执行统计信息
2018-03-08 10:21:17,906 database.py[line: 88] INFO: query：SELECT runResult FROM testcase_reporter WHERE runHistoryId = %s  data：(1520475669,)
2018-03-08 10:21:17,910 htmlreporter.py[line: 111] INFO: 正在查询测试计划：无计划 运行的的测试用例
2018-03-08 10:21:17,910 database.py[line: 106] INFO: query：SELECT id, runHistoryId, testcaseId, testplanId, browserType, runResult, runTime FROM testcase_reporter WHERE testplanId=%s AND runHistoryId = %s ORDER BY id ASC  data：(0, 1520475669)
2018-03-08 10:21:17,914 htmlreporter.py[line: 121] INFO: 正在记录测试计划[名称：无计划]的测试用例运行结果到测试报告
2018-03-08 10:21:17,914 database.py[line: 88] INFO: query：SELECT test_name FROM testcases WHERE id=%s  data：(14,)
2018-03-08 10:21:17,918 htmlreporter.py[line: 151] INFO: 正在查询测试计划：无计划 运行的的测试用例
2018-03-08 10:21:17,918 database.py[line: 106] INFO: query：SELECT id, runHistoryId, testcaseId, testplanId, browserType, runResult, runTime  FROM testcase_reporter WHERE testplanId=%s AND runHistoryId = %s ORDER BY id ASC  data：(0, 1520475669)
2018-03-08 10:21:17,921 htmlreporter.py[line: 168] INFO: 正在查询测试用例[id=14, name=运维登录]对应的测试步骤执行明细
2018-03-08 10:21:17,921 database.py[line: 106] INFO: query：SELECT id, stepOrder, runHistoryId, elementName, command, inparams, stepRunResult, expectedResult, stepRunResultDesc, browserType, runTime, screenshotUrl FROM case_step_run_detail WHERE testcaseId=%s AND runHistoryId = %s  ORDER BY id ASC  data：('14', 1520475669)
2018-03-08 10:21:17,926 htmlreporter.py[line: 211] INFO: 正在设置测试报告结果文件名
2018-03-08 10:21:17,926 htmlreporter.py[line: 222] INFO: 测试报告文件名所在路径为：E:\Projects\report\test_report20180308102117.html
2018-03-08 10:21:17,926 htmlreporter.py[line: 214] INFO: 正在生产测试报告
2018-03-08 10:21:17,953 main.py[line: 130] INFO: 生成测试报告成功
2018-03-08 10:21:17,953 main.py[line: 134] INFO: 运行完成,准备上传截图
2018-03-08 10:21:17,953 ftp.py[line: 42] INFO: is connecting to ftp server 10.1.2.88 on 21
2018-03-08 10:21:17,960 ftp.py[line: 47] INFO: ready to login ftp server
2018-03-08 10:21:18,060 ftp.py[line: 49] INFO: login ftp server successfully
2018-03-08 10:21:18,061 main.py[line: 138] INFO: 正在获取要上传的截图文件
2018-03-08 10:21:18,062 main.py[line: 146] INFO: 正在上传图片到ftp服务器
2018-03-08 10:21:18,063 ftp.py[line: 55] INFO: close ftp connection successfully
2018-03-08 10:21:18,063 main.py[line: 156] INFO: 运行完成，准备发送邮件
2018-03-08 10:21:18,267 main.py[line: 162] INFO: 邮件标题为：Hi，附件为web自动化测试报告，烦请查阅邮件内容为：{'E:\\Projects\\report\\test_report20180308102117.html'}，待发送邮件附件有 【测试报告】web自动化测试报告20180308102117
2018-03-08 10:21:18,267 main.py[line: 163] INFO: 正在发送测试报告邮件...
2018-03-08 10:21:19,239 main.py[line: 166] INFO: 发送邮件成功
2018-03-08 10:21:19,239 main.py[line: 172] INFO: 正在关闭数据库
2018-03-08 10:23:42,171 globalvar.py[line: 23] INFO: #####################正在初始化全局配置#####################
2018-03-08 10:23:42,171 globalvar.py[line: 24] INFO: 正在选择数据库运行环境和站点运行环境
2018-03-08 10:23:42,172 globalvar.py[line: 34] INFO: 在测试环境执行测试，正在获取测试环境的web site
2018-03-08 10:23:42,172 globalvar.py[line: 45] INFO: 在测试环境执行测试，正在获取测试环境的数据库
2018-03-08 10:23:42,184 globalvar.py[line: 55] INFO: 正在进行ftp配置
2018-03-08 10:23:42,190 globalvar.py[line: 62] INFO: 正在获取运行模式
2018-03-08 10:23:42,191 globalvar.py[line: 66] INFO: 运行模式为:<module 'publicpkg.runmode' from 'D:\\python\\webautotest\\publicpkg\\runmode.py'>
2018-03-08 10:23:42,191 globalvar.py[line: 69] INFO: 测试计划配置:[3]
2018-03-08 10:23:42,191 globalvar.py[line: 72] INFO: 全局初始化用例配置:[123]
2018-03-08 10:23:42,191 globalvar.py[line: 75] INFO: 正在获取浏览器配置
2018-03-08 10:23:42,191 globalvar.py[line: 79] INFO: 获取需要进行测试的浏览器有：['Chrome']
2018-03-08 10:23:42,191 globalvar.py[line: 82] INFO: 正在初始化其它工具对象
2018-03-08 10:23:42,191 globalvar.py[line: 86] INFO: 正在进行截图基路径配置
2018-03-08 10:23:42,192 globalvar.py[line: 91] INFO: 截图报存基路径为：D:\python\webautotest\screentshot\
2018-03-08 10:23:42,192 globalvar.py[line: 95] INFO: 正在进行测试报告配置
2018-03-08 10:23:42,192 globalvar.py[line: 96] INFO: --1、读取测试报告路径及文件名
2018-03-08 10:23:42,192 globalvar.py[line: 101] INFO: --2、构造测试报告
2018-03-08 10:23:42,192 globalvar.py[line: 104] INFO: --3、设置报告生成路径
2018-03-08 10:23:42,193 globalvar.py[line: 107] INFO: #####################初始化全局配置完毕#####################
2018-03-08 10:23:42,195 main.py[line: 61] INFO: ####################### 开始测试 #######################
2018-03-08 10:23:48,341 test_plan.py[line: 28] INFO: 正在获取本次测试需要执行的测试用列ID列表，测试计划名称
2018-03-08 10:23:48,341 database.py[line: 88] INFO: query：SELECT testcase_list, test_round_name FROM testcase_runround WHERE id = %s   data：(3,)
2018-03-08 10:23:48,345 test_plan.py[line: 44] INFO: 获取到的的测试用例id列表为: [13, 18]
2018-03-08 10:23:48,345 test_plan.py[line: 48] INFO: ####################### 开始运行测试计划 #######################
2018-03-08 10:23:48,345 test_case.py[line: 17] INFO: 正在构造并初始化测试用例对象[id=13]
2018-03-08 10:23:48,345 test_case.py[line: 26] INFO: 初始测试用例完毕
2018-03-08 10:23:48,345 test_case.py[line: 17] INFO: 正在构造并初始化测试用例对象[id=18]
2018-03-08 10:23:48,346 test_case.py[line: 26] INFO: 初始测试用例完毕
2018-03-08 10:23:48,346 test_case.py[line: 70] INFO: 正在获取测试用例所有测试步骤
2018-03-08 10:23:48,346 database.py[line: 106] INFO: query：(SELECT a.StepOrder AS StepOrder,c.PageName AS PageName,b.ElementName AS ElementName,b.ElementSelector AS ElementSelector,b.ElementSelector02 AS ElementSelector02,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,a.compid AS compid,a.compFolderid AS comFolderid,'' AS comName FROM testcases_steps AS a, page_elements AS b,pagesobject AS c WHERE a.TestcaseID = %s AND a.ElementId = b.Id AND b.PageId = c.Id)UNION ALL(SELECT a.steporder AS steporder,'' AS PageName,'' AS ElementSelector,'' AS ElementSelector02,'' AS ElementName,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,a.compid AS compid,a.compFolderid AS comFolderid,tc.test_name AS comName FROM testcases_steps AS a, testcases AS tc WHERE a.TestcaseID = %s AND a.compid = tc.id)UNION ALL(SELECT a.steporder AS steporder,'' AS PageName,'' AS ElementSelector,'' AS ElementSelector02,'' AS ElementName,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,'' AS compid,'' AS comFolderid,'' AS comName FROM testcases_steps AS a WHERE a.TestcaseID = %s AND NOT ISNULL(a.stepOrder)AND NOT ISNULL(a.Command) AND ISNULL(compid) AND ElementId='')ORDER BY steporder  data：(13, 13, 13)
2018-03-08 10:23:48,351 test_case.py[line: 123] INFO: 获取的测试步骤为： [(1, '', '', '', '', '断言', '深圳市金斧子网络科技有限公司-ERP', '', '', '', ''), (2, '用户登录', '用户名', 'xpath=//*[@name=&quot;username&quot;]', '', '输入', 'defang3', '', None, None, ''), (3, '用户登录', '密码', 'xpath=//*[@name=&quot;password&quot;]', '', '输入', '123', '', None, None, ''), (4, '用户登录', '登录', 'xpath=//*[@class=&quot;submit_wrap&quot;]', '', '点击', '', '', None, None, ''), (5, '', '', '', '', '等待', '3', '', '', '', ''), (6, '', '', '', '', '断言', '德芳运维', '', '', '', ''), (7, '', '', '', '', '', 'iframe89892232323', '', '', '', '')]
2018-03-08 10:23:48,351 test_case.py[line: 41] INFO: 开始执行测试步骤
2018-03-08 10:23:48,351 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：1, 操作：断言， 输入参数：深圳市金斧子网络科技有限公司-ERP，预期结果：）
2018-03-08 10:23:48,351 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 10:23:48,351 test_case_step.py[line: 88] INFO: 执行函数：断言
2018-03-08 10:23:48,351 test_case_step.py[line: 91] INFO: 正在对输入参数:深圳市金斧子网络科技有限公司-ERP 进行参数处理
2018-03-08 10:23:48,351 test_case_step.py[line: 115] INFO: 断言的标题为:深圳市金斧子网络科技有限公司-ERP
2018-03-08 10:23:48,357 seleniumutil.py[line: 151] INFO: 断言信息为：深圳市金斧子网络科技有限公司-ERP
2018-03-08 10:23:48,358 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 10:23:48,358 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 13, 1520475828, 1, '', '断言', '深圳市金斧子网络科技有限公司-ERP', '', 'Pass', '断言成功', 'Chrome', '2018-03-08 10:23:48', '')
2018-03-08 10:23:48,362 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 10:23:48,362 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：用户名, 步序：2, 操作：输入， 输入参数：defang3，预期结果：）
2018-03-08 10:23:48,362 test_case_step.py[line: 38] INFO: 正在执行最普通的元素操作
2018-03-08 10:23:48,362 test_case_step.py[line: 42] INFO: 正在对选择器：selector1: xpath=//*[@name=&quot;username&quot;]，selector2:  做数据转换处理
2018-03-08 10:23:48,362 test_case_step.py[line: 45] INFO: 转换后的选择器：selector1: xpath=//*[@name="username"]，selector2: 
2018-03-08 10:23:48,362 test_case_step.py[line: 47] INFO: 开始对步骤中的元素操作进行操作
2018-03-08 10:23:48,362 test_case_step.py[line: 127] INFO: 操作：输入
2018-03-08 10:23:48,362 test_case_step.py[line: 129] INFO: 正在对输入参数:defang3 进行参数处理
2018-03-08 10:23:48,362 test_case_step.py[line: 133] INFO: 处理后的输入参数为:['defang3'] 
2018-03-08 10:23:48,363 test_case_step.py[line: 202] INFO: 开始根据元素定位器：xpath=//*[@name="username"] 自定位元素
2018-03-08 10:23:48,363 test_case_step.py[line: 215] INFO: find_element_by_xpath：//*[@name="username"]
2018-03-08 10:23:48,378 test_case_step.py[line: 188] INFO: 找到元素：<selenium.webdriver.remote.webelement.WebElement (session="ecb9501c15a384b21106538e50ccdcd2", element="0.8265441918301748-1")>
2018-03-08 10:23:48,436 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 10:23:48,436 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 13, 1520475828, 2, '用户名', '输入', 'defang3', '', 'Pass', '输入数据成功', 'Chrome', '2018-03-08 10:23:48', '')
2018-03-08 10:23:48,440 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 10:23:48,440 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：密码, 步序：3, 操作：输入， 输入参数：123，预期结果：）
2018-03-08 10:23:48,440 test_case_step.py[line: 38] INFO: 正在执行最普通的元素操作
2018-03-08 10:23:48,440 test_case_step.py[line: 42] INFO: 正在对选择器：selector1: xpath=//*[@name=&quot;password&quot;]，selector2:  做数据转换处理
2018-03-08 10:23:48,440 test_case_step.py[line: 45] INFO: 转换后的选择器：selector1: xpath=//*[@name="password"]，selector2: 
2018-03-08 10:23:48,441 test_case_step.py[line: 47] INFO: 开始对步骤中的元素操作进行操作
2018-03-08 10:23:48,441 test_case_step.py[line: 127] INFO: 操作：输入
2018-03-08 10:23:48,441 test_case_step.py[line: 129] INFO: 正在对输入参数:123 进行参数处理
2018-03-08 10:23:48,441 test_case_step.py[line: 133] INFO: 处理后的输入参数为:['123'] 
2018-03-08 10:23:48,441 test_case_step.py[line: 202] INFO: 开始根据元素定位器：xpath=//*[@name="password"] 自定位元素
2018-03-08 10:23:48,441 test_case_step.py[line: 215] INFO: find_element_by_xpath：//*[@name="password"]
2018-03-08 10:23:48,457 test_case_step.py[line: 188] INFO: 找到元素：<selenium.webdriver.remote.webelement.WebElement (session="ecb9501c15a384b21106538e50ccdcd2", element="0.8265441918301748-2")>
2018-03-08 10:23:48,502 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 10:23:48,502 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 13, 1520475828, 3, '密码', '输入', '123', '', 'Pass', '输入数据成功', 'Chrome', '2018-03-08 10:23:48', '')
2018-03-08 10:23:48,506 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 10:23:48,506 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：登录, 步序：4, 操作：点击， 输入参数：，预期结果：）
2018-03-08 10:23:48,506 test_case_step.py[line: 38] INFO: 正在执行最普通的元素操作
2018-03-08 10:23:48,506 test_case_step.py[line: 42] INFO: 正在对选择器：selector1: xpath=//*[@class=&quot;submit_wrap&quot;]，selector2:  做数据转换处理
2018-03-08 10:23:48,506 test_case_step.py[line: 45] INFO: 转换后的选择器：selector1: xpath=//*[@class="submit_wrap"]，selector2: 
2018-03-08 10:23:48,506 test_case_step.py[line: 47] INFO: 开始对步骤中的元素操作进行操作
2018-03-08 10:23:48,506 test_case_step.py[line: 127] INFO: 操作：点击
2018-03-08 10:23:48,506 test_case_step.py[line: 202] INFO: 开始根据元素定位器：xpath=//*[@class="submit_wrap"] 自定位元素
2018-03-08 10:23:48,506 test_case_step.py[line: 215] INFO: find_element_by_xpath：//*[@class="submit_wrap"]
2018-03-08 10:23:48,529 test_case_step.py[line: 188] INFO: 找到元素：<selenium.webdriver.remote.webelement.WebElement (session="ecb9501c15a384b21106538e50ccdcd2", element="0.8265441918301748-3")>
2018-03-08 10:23:49,725 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 10:23:49,725 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 13, 1520475828, 4, '登录', '点击', '', '', 'Pass', '点击成功', 'Chrome', '2018-03-08 10:23:48', '')
2018-03-08 10:23:49,731 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 10:23:49,731 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：5, 操作：等待， 输入参数：3，预期结果：）
2018-03-08 10:23:49,731 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 10:23:49,731 test_case_step.py[line: 88] INFO: 执行函数：等待
2018-03-08 10:23:49,731 test_case_step.py[line: 91] INFO: 正在对输入参数:3 进行参数处理
2018-03-08 10:23:49,731 test_case_step.py[line: 105] INFO: 等待3秒
2018-03-08 10:23:52,731 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 10:23:52,731 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 13, 1520475828, 5, '', '等待', '3', '', 'Pass', 'run success', 'Chrome', '2018-03-08 10:23:49', '')
2018-03-08 10:23:52,736 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 10:23:52,736 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：6, 操作：断言， 输入参数：德芳运维，预期结果：）
2018-03-08 10:23:52,736 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 10:23:52,736 test_case_step.py[line: 88] INFO: 执行函数：断言
2018-03-08 10:23:52,736 test_case_step.py[line: 91] INFO: 正在对输入参数:德芳运维 进行参数处理
2018-03-08 10:23:52,736 test_case_step.py[line: 115] INFO: 断言的标题为:德芳运维
2018-03-08 10:23:52,748 seleniumutil.py[line: 151] INFO: 断言信息为：德芳运维
2018-03-08 10:23:52,748 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 10:23:52,748 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 13, 1520475828, 6, '', '断言', '德芳运维', '', 'Pass', '断言成功', 'Chrome', '2018-03-08 10:23:52', '')
2018-03-08 10:23:52,753 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 10:23:52,753 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：7, 操作：， 输入参数：iframe89892232323，预期结果：）
2018-03-08 10:23:52,753 test_case_step.py[line: 38] INFO: 正在执行最普通的元素操作
2018-03-08 10:23:52,753 test_case_step.py[line: 42] INFO: 正在对选择器：selector1: ，selector2:  做数据转换处理
2018-03-08 10:23:52,753 test_case_step.py[line: 45] INFO: 转换后的选择器：selector1: ，selector2: 
2018-03-08 10:23:52,753 test_case_step.py[line: 47] INFO: 开始对步骤中的元素操作进行操作
2018-03-08 10:23:52,753 test_case_step.py[line: 127] INFO: 操作：
2018-03-08 10:23:52,753 test_case_step.py[line: 129] INFO: 正在对输入参数:iframe89892232323 进行参数处理
2018-03-08 10:23:52,753 test_case_step.py[line: 133] INFO: 处理后的输入参数为:['iframe89892232323'] 
2018-03-08 10:23:52,753 test_case_step.py[line: 180] ERROR: command为空,或者填写错误
2018-03-08 10:23:53,195 test_case_step.py[line: 272] INFO: 截图文件保存路径为：D:\python\webautotest\screentshot\tp3\tc13\tp3_tc13_step7_1520475828_20180308102352.png
2018-03-08 10:23:53,195 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 10:23:53,195 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 13, 1520475828, 7, '', '', 'iframe89892232323', '', 'Fail', 'comman为空或者填写错误', 'Chrome', '2018-03-08 10:23:52', 'ftp://10.1.2.88/tp3_tc13_step7_1520475828_20180308102352.png')
2018-03-08 10:23:53,199 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 10:23:53,199 test_case.py[line: 46] INFO: 用例[id：13]步骤[步序：7] 运行失败，停止运行用例
2018-03-08 10:23:53,199 test_case.py[line: 58] INFO: 测试步骤执行完毕，正在记录用例运行结果到测试用例运行报表
2018-03-08 10:23:53,199 database.py[line: 58] INFO: query：INSERT INTO testcase_reporter(runHistoryId, browserType, testcaseId, testplanId, runTime, runResult) VALUES(%s, %s, %s, %s, %s, %s)  data：(1520475828, 'Chrome', 13, 3, '2018-03-08 10:23:48', 'Fail')
2018-03-08 10:23:53,203 test_case.py[line: 70] INFO: 正在获取测试用例所有测试步骤
2018-03-08 10:23:53,203 database.py[line: 106] INFO: query：(SELECT a.StepOrder AS StepOrder,c.PageName AS PageName,b.ElementName AS ElementName,b.ElementSelector AS ElementSelector,b.ElementSelector02 AS ElementSelector02,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,a.compid AS compid,a.compFolderid AS comFolderid,'' AS comName FROM testcases_steps AS a, page_elements AS b,pagesobject AS c WHERE a.TestcaseID = %s AND a.ElementId = b.Id AND b.PageId = c.Id)UNION ALL(SELECT a.steporder AS steporder,'' AS PageName,'' AS ElementSelector,'' AS ElementSelector02,'' AS ElementName,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,a.compid AS compid,a.compFolderid AS comFolderid,tc.test_name AS comName FROM testcases_steps AS a, testcases AS tc WHERE a.TestcaseID = %s AND a.compid = tc.id)UNION ALL(SELECT a.steporder AS steporder,'' AS PageName,'' AS ElementSelector,'' AS ElementSelector02,'' AS ElementName,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,'' AS compid,'' AS comFolderid,'' AS comName FROM testcases_steps AS a WHERE a.TestcaseID = %s AND NOT ISNULL(a.stepOrder)AND NOT ISNULL(a.Command) AND ISNULL(compid) AND ElementId='')ORDER BY steporder  data：(18, 18, 18)
2018-03-08 10:23:53,208 test_case.py[line: 123] INFO: 获取的测试步骤为： [(1, '', '', '', '', '等待', '5', '', '', '', ''), (2, '', '', '', '', '切换入iframe', 'iframe89892232323', '', '', '', ''), (3, '审批流', '审批流的链接', 'xpath=html/body/div[1]/div/div/div[2]/div/div/div/div[2]/div/div[1]/ul/li[1]/div[1]', '', '点击', '', '', None, None, ''), (4, '', '', '', '', '切换到新的窗口', '', '', '', '', ''), (5, '', '', '', '', '等待', '5', '', '', '', ''), (6, '审批流', '审批流的同意按钮', 'xpath=//*[@id=&quot;btnAgree&quot;]', '', '点击', '', '', None, None, ''), (7, '', '', '', '', '切换入iframe', '//iframe[contains(@id,&quot;ligerwindow&quot;)]', '', '', '', ''), (8, '审批流', '填写意见的确定按钮', 'xpath=//*[@id=&quot;dataFormSave&quot;]', '', '点击', '', '', None, None, ''), (9, '', '', '', '', '等待', '5', '', '', '', ''), (10, '', '', '', '', '断言文本提示信息', '执行任务成功!', '', '', '', ''), (11, '', '', '', '', '等待', '5', '', '', '', ''), (12, '审批流', '同意的确定按钮', 'xpath=//*[@class=&quot;l-dialog-btn-inner&quot;]', '', '点击', '', '', None, None, '')]
2018-03-08 10:23:53,208 test_case.py[line: 41] INFO: 开始执行测试步骤
2018-03-08 10:23:53,208 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：1, 操作：等待， 输入参数：5，预期结果：）
2018-03-08 10:23:53,208 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 10:23:53,208 test_case_step.py[line: 88] INFO: 执行函数：等待
2018-03-08 10:23:53,208 test_case_step.py[line: 91] INFO: 正在对输入参数:5 进行参数处理
2018-03-08 10:23:53,208 test_case_step.py[line: 105] INFO: 等待5秒
2018-03-08 10:23:58,209 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 10:23:58,209 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 18, 1520475828, 1, '', '等待', '5', '', 'Pass', 'run success', 'Chrome', '2018-03-08 10:23:53', '')
2018-03-08 10:23:58,214 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 10:23:58,215 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：2, 操作：切换入iframe， 输入参数：iframe89892232323，预期结果：）
2018-03-08 10:23:58,215 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 10:23:58,215 test_case_step.py[line: 88] INFO: 执行函数：切换入iframe
2018-03-08 10:23:58,215 test_case_step.py[line: 91] INFO: 正在对输入参数:iframe89892232323 进行参数处理
2018-03-08 10:23:58,231 seleniumutil.py[line: 67] INFO: 切换至frame（id/name/xpath = iframe89892232323）成功
2018-03-08 10:23:58,232 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 10:23:58,232 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 18, 1520475828, 2, '', '切换入iframe', 'iframe89892232323', '', 'Pass', 'run success', 'Chrome', '2018-03-08 10:23:58', '')
2018-03-08 10:23:58,237 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 10:23:58,237 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：审批流的链接, 步序：3, 操作：点击， 输入参数：，预期结果：）
2018-03-08 10:23:58,237 test_case_step.py[line: 38] INFO: 正在执行最普通的元素操作
2018-03-08 10:23:58,237 test_case_step.py[line: 42] INFO: 正在对选择器：selector1: xpath=html/body/div[1]/div/div/div[2]/div/div/div/div[2]/div/div[1]/ul/li[1]/div[1]，selector2:  做数据转换处理
2018-03-08 10:23:58,237 test_case_step.py[line: 45] INFO: 转换后的选择器：selector1: xpath=html/body/div[1]/div/div/div[2]/div/div/div/div[2]/div/div[1]/ul/li[1]/div[1]，selector2: 
2018-03-08 10:23:58,237 test_case_step.py[line: 47] INFO: 开始对步骤中的元素操作进行操作
2018-03-08 10:23:58,237 test_case_step.py[line: 127] INFO: 操作：点击
2018-03-08 10:23:58,237 test_case_step.py[line: 202] INFO: 开始根据元素定位器：xpath=html/body/div[1]/div/div/div[2]/div/div/div/div[2]/div/div[1]/ul/li[1]/div[1] 自定位元素
2018-03-08 10:23:58,237 test_case_step.py[line: 215] INFO: find_element_by_xpath：html/body/div[1]/div/div/div[2]/div/div/div/div[2]/div/div[1]/ul/li[1]/div[1]
2018-03-08 10:23:58,253 test_case_step.py[line: 188] INFO: 找到元素：<selenium.webdriver.remote.webelement.WebElement (session="ecb9501c15a384b21106538e50ccdcd2", element="0.06745619811574977-1")>
2018-03-08 10:23:58,403 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 10:23:58,403 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 18, 1520475828, 3, '审批流的链接', '点击', '', '', 'Pass', '点击成功', 'Chrome', '2018-03-08 10:23:58', '')
2018-03-08 10:23:58,408 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 10:23:58,408 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：4, 操作：切换到新的窗口， 输入参数：，预期结果：）
2018-03-08 10:23:58,408 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 10:23:58,408 test_case_step.py[line: 88] INFO: 执行函数：切换到新的窗口
2018-03-08 10:23:58,507 seleniumutil.py[line: 85] INFO: 切换到新的窗口成功:CDwindow-(A3814E567FEDC582302B352746E0FF2E)
2018-03-08 10:23:58,507 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 10:23:58,507 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 18, 1520475828, 4, '', '切换到新的窗口', '', '', 'Pass', '切换到新窗口成功', 'Chrome', '2018-03-08 10:23:58', '')
2018-03-08 10:23:58,514 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 10:23:58,514 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：5, 操作：等待， 输入参数：5，预期结果：）
2018-03-08 10:23:58,514 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 10:23:58,514 test_case_step.py[line: 88] INFO: 执行函数：等待
2018-03-08 10:23:58,515 test_case_step.py[line: 91] INFO: 正在对输入参数:5 进行参数处理
2018-03-08 10:23:58,515 test_case_step.py[line: 105] INFO: 等待5秒
2018-03-08 10:24:03,515 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 10:24:03,515 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 18, 1520475828, 5, '', '等待', '5', '', 'Pass', 'run success', 'Chrome', '2018-03-08 10:23:58', '')
2018-03-08 10:24:03,521 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 10:24:03,521 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：审批流的同意按钮, 步序：6, 操作：点击， 输入参数：，预期结果：）
2018-03-08 10:24:03,521 test_case_step.py[line: 38] INFO: 正在执行最普通的元素操作
2018-03-08 10:24:03,521 test_case_step.py[line: 42] INFO: 正在对选择器：selector1: xpath=//*[@id=&quot;btnAgree&quot;]，selector2:  做数据转换处理
2018-03-08 10:24:03,521 test_case_step.py[line: 45] INFO: 转换后的选择器：selector1: xpath=//*[@id="btnAgree"]，selector2: 
2018-03-08 10:24:03,521 test_case_step.py[line: 47] INFO: 开始对步骤中的元素操作进行操作
2018-03-08 10:24:03,521 test_case_step.py[line: 127] INFO: 操作：点击
2018-03-08 10:24:03,521 test_case_step.py[line: 202] INFO: 开始根据元素定位器：xpath=//*[@id="btnAgree"] 自定位元素
2018-03-08 10:24:03,521 test_case_step.py[line: 215] INFO: find_element_by_xpath：//*[@id="btnAgree"]
2018-03-08 10:24:04,569 test_case_step.py[line: 188] INFO: 找到元素：<selenium.webdriver.remote.webelement.WebElement (session="ecb9501c15a384b21106538e50ccdcd2", element="0.09189911582532417-1")>
2018-03-08 10:24:04,894 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 10:24:04,894 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 18, 1520475828, 6, '审批流的同意按钮', '点击', '', '', 'Pass', '点击成功', 'Chrome', '2018-03-08 10:24:3', '')
2018-03-08 10:24:04,900 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 10:24:04,900 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：7, 操作：切换入iframe， 输入参数：//iframe[contains(@id,&quot;ligerwindow&quot;)]，预期结果：）
2018-03-08 10:24:04,900 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 10:24:04,900 test_case_step.py[line: 88] INFO: 执行函数：切换入iframe
2018-03-08 10:24:04,900 test_case_step.py[line: 91] INFO: 正在对输入参数://iframe[contains(@id,&quot;ligerwindow&quot;)] 进行参数处理
2018-03-08 10:24:04,934 seleniumutil.py[line: 70] ERROR: 切换至frame（id/name/xpath = //iframe[contains(@id,"ligerwindow")]）失败
2018-03-08 10:24:05,362 test_case_step.py[line: 272] INFO: 截图文件保存路径为：D:\python\webautotest\screentshot\tp3\tc18\tp3_tc18_step7_1520475828_20180308102404.png
2018-03-08 10:24:05,362 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 10:24:05,362 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 18, 1520475828, 7, '', '切换入iframe', '//iframe[contains(@id,&quot;ligerwindow&quot;)]', '', 'Fail', WebDriverException('unknown error: Runtime.evaluate threw exception: DOMException: Failed to execute \'evaluate\' on \'Document\': The string \'(/html/body//iframe|/html/frameset//frame)[@name="//iframe[contains(@id,"ligerwindow")]" or @id="//iframe[contains(@id,"ligerwindow")]"]\' is not a valid XPath expression.\n    at <anonymous>:372:57\n    at callFunction (<anonymous>:357:17)\n    at <anonymous>:371:23\n    at <anonymous>:372:3\n  (Session info: chrome=64.0.3282.186)\n  (Driver info: chromedriver=2.33.506120 (e3e53437346286c0bc2d2dc9aa4915ba81d9023f),platform=Windows NT 6.1.7601 SP1 x86_64)', None, None), 'Chrome', '2018-03-08 10:24:4', 'ftp://10.1.2.88/tp3_tc18_step7_1520475828_20180308102404.png')
2018-03-08 10:24:05,364 database.py[line: 66] ERROR: 执行数据库插入操作失败：Failed processing format-parameters; Python 'webdriverexception' cannot be converted to a MySQL type
2018-03-08 10:24:05,365 test_case_step.py[line: 81] ERROR: 记录到测试步骤结果报表失败 Failed processing format-parameters; Python 'webdriverexception' cannot be converted to a MySQL type
2018-03-08 10:24:05,365 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 10:24:05,365 test_case.py[line: 46] INFO: 用例[id：18]步骤[步序：7] 运行失败，停止运行用例
2018-03-08 10:24:05,365 test_case.py[line: 58] INFO: 测试步骤执行完毕，正在记录用例运行结果到测试用例运行报表
2018-03-08 10:24:05,365 database.py[line: 58] INFO: query：INSERT INTO testcase_reporter(runHistoryId, browserType, testcaseId, testplanId, runTime, runResult) VALUES(%s, %s, %s, %s, %s, %s)  data：(1520475828, 'Chrome', 18, 3, '2018-03-08 10:23:53', 'Fail')
2018-03-08 10:24:05,369 test_plan.py[line: 65] INFO: ####################### 测试计划已运行完毕 #######################
2018-03-08 10:24:05,369 test_plan.py[line: 66] INFO: 正在统计测试计划执行的用例总数
2018-03-08 10:24:05,369 database.py[line: 88] INFO: query：SELECT count(testcaseId)  FROM testcase_reporter  WHERE runHistoryId = %s  data：(1520475828,)
2018-03-08 10:24:05,376 test_plan.py[line: 75] INFO: 正在统计测试计划执行成功的用例总数
2018-03-08 10:24:05,377 database.py[line: 88] INFO: query：SELECT count(testcaseId)  FROM testcase_reporter WHERE runHistoryId = %s AND runResult='Pass'  data：(1520475828,)
2018-03-08 10:24:05,380 test_plan.py[line: 85] INFO: 正在统计测试计划执行失败的用例总数
2018-03-08 10:24:05,381 database.py[line: 88] INFO: query：SELECT count(testcaseId)  FROM testcase_reporter WHERE runHistoryId = %s AND runResult='Fail'  data：(1520475828,)
2018-03-08 10:24:05,384 test_plan.py[line: 95] INFO: 正在统计测试计划执行被阻塞的用例总数
2018-03-08 10:24:05,384 database.py[line: 88] INFO: query：SELECT count(testcaseId)  FROM testcase_reporter WHERE runHistoryId = %s AND runResult='Block'  data：(1520475828,)
2018-03-08 10:24:05,387 test_plan.py[line: 105] INFO: 正在统计测试计划执行成功的用例
2018-03-08 10:24:05,387 database.py[line: 106] INFO: query：SELECT testcaseId  FROM testcase_reporter WHERE runHistoryId = %s AND runResult='Pass'  data：(1520475828,)
2018-03-08 10:24:05,390 test_plan.py[line: 110] WARNING: 没找到执行成功的用例
2018-03-08 10:24:05,390 test_plan.py[line: 115] INFO: 正在统计测试计划执行失败的用例
2018-03-08 10:24:05,390 database.py[line: 106] INFO: query：SELECT testcaseId  FROM testcase_reporter WHERE runHistoryId = %s AND runResult='Fail'  data：(1520475828,)
2018-03-08 10:24:05,393 test_plan.py[line: 125] INFO: 正在统计测试计划执行被阻塞的用例
2018-03-08 10:24:05,394 database.py[line: 106] INFO: query：SELECT testcaseId  FROM testcase_reporter WHERE runHistoryId = %s AND runResult='Block'  data：(1520475828,)
2018-03-08 10:24:05,396 test_plan.py[line: 130] INFO: 没找到计划执行被阻塞的用例
2018-03-08 10:24:05,396 test_plan.py[line: 151] INFO: 正在记录测试计划运行结果到测试计划报表
2018-03-08 10:24:05,396 database.py[line: 58] INFO: query：INSERT INTO testplan_reporter(testPlanId, testPlanName, runHistoryId, browserType, runTc_total, runPassedTc_total, runFailedTc_total,runBlockedTc_total, runPassedTc, runFailedTc, runBlockedTc, runTime)VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, '购买记录客服审批', 1520475828, 'Chrome', 2, 0, 2, 0, '', '(13,)', '', '2018-03-08 10:23:48')
2018-03-08 10:24:05,400 main.py[line: 79] INFO: 计划运行完成，正在关闭浏览器
2018-03-08 10:24:08,550 main.py[line: 82] INFO: ####################### 测试结束 #######################
2018-03-08 10:24:08,550 main.py[line: 126] INFO: 运行完成,准备生成测试报告
2018-03-08 10:24:08,550 htmlreporter.py[line: 35] INFO: 正在查询测试计划执行统计信息（执行总数，成功数，失败数，被阻塞数）
2018-03-08 10:24:08,550 database.py[line: 88] INFO: query：SELECT runTc_total, runPassedTc_total, runFailedTc_total, runBlockedTc_total, testPlanName, testPlanId FROM testplan_reporter WHERE runHistoryId = %s  data：(1520475828,)
2018-03-08 10:24:08,555 htmlreporter.py[line: 111] INFO: 正在查询测试计划：购买记录客服审批 运行的的测试用例
2018-03-08 10:24:08,555 database.py[line: 106] INFO: query：SELECT id, runHistoryId, testcaseId, testplanId, browserType, runResult, runTime FROM testcase_reporter WHERE testplanId=%s AND runHistoryId = %s ORDER BY id ASC  data：('3', 1520475828)
2018-03-08 10:24:08,558 htmlreporter.py[line: 121] INFO: 正在记录测试计划[名称：购买记录客服审批]的测试用例运行结果到测试报告
2018-03-08 10:24:08,558 database.py[line: 88] INFO: query：SELECT test_name FROM testcases WHERE id=%s  data：(13,)
2018-03-08 10:24:08,562 database.py[line: 88] INFO: query：SELECT test_name FROM testcases WHERE id=%s  data：(18,)
2018-03-08 10:24:08,565 htmlreporter.py[line: 151] INFO: 正在查询测试计划：购买记录客服审批 运行的的测试用例
2018-03-08 10:24:08,565 database.py[line: 106] INFO: query：SELECT id, runHistoryId, testcaseId, testplanId, browserType, runResult, runTime  FROM testcase_reporter WHERE testplanId=%s AND runHistoryId = %s ORDER BY id ASC  data：('3', 1520475828)
2018-03-08 10:24:08,568 htmlreporter.py[line: 168] INFO: 正在查询测试用例[id=13, name=客服登录]对应的测试步骤执行明细
2018-03-08 10:24:08,568 database.py[line: 106] INFO: query：SELECT id, stepOrder, runHistoryId, elementName, command, inparams, stepRunResult, expectedResult, stepRunResultDesc, browserType, runTime, screenshotUrl FROM case_step_run_detail WHERE testcaseId=%s AND runHistoryId = %s  ORDER BY id ASC  data：('13', 1520475828)
2018-03-08 10:24:08,573 htmlreporter.py[line: 168] INFO: 正在查询测试用例[id=18, name=购买记录客服审批]对应的测试步骤执行明细
2018-03-08 10:24:08,573 database.py[line: 106] INFO: query：SELECT id, stepOrder, runHistoryId, elementName, command, inparams, stepRunResult, expectedResult, stepRunResultDesc, browserType, runTime, screenshotUrl FROM case_step_run_detail WHERE testcaseId=%s AND runHistoryId = %s  ORDER BY id ASC  data：('18', 1520475828)
2018-03-08 10:24:08,578 htmlreporter.py[line: 211] INFO: 正在设置测试报告结果文件名
2018-03-08 10:24:08,579 htmlreporter.py[line: 222] INFO: 测试报告文件名所在路径为：E:\Projects\report\test_report20180308102408.html
2018-03-08 10:24:08,579 htmlreporter.py[line: 214] INFO: 正在生产测试报告
2018-03-08 10:24:08,580 main.py[line: 130] INFO: 生成测试报告成功
2018-03-08 10:24:08,580 main.py[line: 134] INFO: 运行完成,准备上传截图
2018-03-08 10:24:08,580 ftp.py[line: 42] INFO: is connecting to ftp server 10.1.2.88 on 21
2018-03-08 10:24:08,586 ftp.py[line: 47] INFO: ready to login ftp server
2018-03-08 10:24:08,682 ftp.py[line: 49] INFO: login ftp server successfully
2018-03-08 10:24:08,682 main.py[line: 138] INFO: 正在获取要上传的截图文件
2018-03-08 10:24:08,683 main.py[line: 146] INFO: 正在上传图片到ftp服务器
2018-03-08 10:24:08,683 main.py[line: 150] INFO: 正在上传文件：d:\python\webautotest\screentshot\tp3\tc13\tp3_tc13_step7_1520475828_20180308102352.png 到远程服务器：tp3_tc13_step7_1520475828_20180308102352.png
2018-03-08 10:24:08,705 ftp.py[line: 106] INFO: 文件：d:\python\webautotest\screentshot\tp3\tc13\tp3_tc13_step7_1520475828_20180308102352.png 已经上传到ftp
2018-03-08 10:24:08,705 main.py[line: 150] INFO: 正在上传文件：d:\python\webautotest\screentshot\tp3\tc18\tp3_tc18_step7_1520475828_20180308102404.png 到远程服务器：tp3_tc18_step7_1520475828_20180308102404.png
2018-03-08 10:24:08,726 ftp.py[line: 106] INFO: 文件：d:\python\webautotest\screentshot\tp3\tc18\tp3_tc18_step7_1520475828_20180308102404.png 已经上传到ftp
2018-03-08 10:24:08,727 ftp.py[line: 55] INFO: close ftp connection successfully
2018-03-08 10:24:08,727 main.py[line: 156] INFO: 运行完成，准备发送邮件
2018-03-08 10:24:08,948 main.py[line: 162] INFO: 邮件标题为：Hi，附件为web自动化测试报告，烦请查阅邮件内容为：{'E:\\Projects\\report\\test_report20180308102408.html'}，待发送邮件附件有 【测试报告】web自动化测试报告20180308102408
2018-03-08 10:24:08,948 main.py[line: 163] INFO: 正在发送测试报告邮件...
2018-03-08 10:24:09,672 main.py[line: 166] INFO: 发送邮件成功
2018-03-08 10:24:09,672 main.py[line: 172] INFO: 正在关闭数据库
2018-03-08 10:34:18,074 globalvar.py[line: 23] INFO: #####################正在初始化全局配置#####################
2018-03-08 10:34:18,074 globalvar.py[line: 24] INFO: 正在选择数据库运行环境和站点运行环境
2018-03-08 10:34:18,075 globalvar.py[line: 34] INFO: 在测试环境执行测试，正在获取测试环境的web site
2018-03-08 10:34:18,075 globalvar.py[line: 45] INFO: 在测试环境执行测试，正在获取测试环境的数据库
2018-03-08 10:34:18,084 globalvar.py[line: 55] INFO: 正在进行ftp配置
2018-03-08 10:34:18,091 globalvar.py[line: 62] INFO: 正在获取运行模式
2018-03-08 10:34:18,092 globalvar.py[line: 66] INFO: 运行模式为:<module 'publicpkg.runmode' from 'D:\\python\\webautotest\\publicpkg\\runmode.py'>
2018-03-08 10:34:18,092 globalvar.py[line: 69] INFO: 测试计划配置:[3]
2018-03-08 10:34:18,092 globalvar.py[line: 72] INFO: 全局初始化用例配置:[123]
2018-03-08 10:34:18,092 globalvar.py[line: 75] INFO: 正在获取浏览器配置
2018-03-08 10:34:18,093 globalvar.py[line: 79] INFO: 获取需要进行测试的浏览器有：['Chrome']
2018-03-08 10:34:18,093 globalvar.py[line: 82] INFO: 正在初始化其它工具对象
2018-03-08 10:34:18,093 globalvar.py[line: 86] INFO: 正在进行截图基路径配置
2018-03-08 10:34:18,094 globalvar.py[line: 91] INFO: 截图报存基路径为：D:\python\webautotest\screentshot\
2018-03-08 10:34:18,094 globalvar.py[line: 95] INFO: 正在进行测试报告配置
2018-03-08 10:34:18,094 globalvar.py[line: 96] INFO: --1、读取测试报告路径及文件名
2018-03-08 10:34:18,094 globalvar.py[line: 101] INFO: --2、构造测试报告
2018-03-08 10:34:18,095 globalvar.py[line: 104] INFO: --3、设置报告生成路径
2018-03-08 10:34:18,095 globalvar.py[line: 107] INFO: #####################初始化全局配置完毕#####################
2018-03-08 10:34:18,096 main.py[line: 61] INFO: ####################### 开始测试 #######################
2018-03-08 10:34:24,455 test_plan.py[line: 28] INFO: 正在获取本次测试需要执行的测试用列ID列表，测试计划名称
2018-03-08 10:34:24,455 database.py[line: 88] INFO: query：SELECT testcase_list, test_round_name FROM testcase_runround WHERE id = %s   data：(3,)
2018-03-08 10:34:24,460 test_plan.py[line: 44] INFO: 获取到的的测试用例id列表为: [13, 18]
2018-03-08 10:34:24,461 test_plan.py[line: 48] INFO: ####################### 开始运行测试计划 #######################
2018-03-08 10:34:24,461 test_case.py[line: 17] INFO: 正在构造并初始化测试用例对象[id=13]
2018-03-08 10:34:24,461 test_case.py[line: 26] INFO: 初始测试用例完毕
2018-03-08 10:34:24,461 test_case.py[line: 17] INFO: 正在构造并初始化测试用例对象[id=18]
2018-03-08 10:34:24,461 test_case.py[line: 26] INFO: 初始测试用例完毕
2018-03-08 10:34:24,463 test_case.py[line: 70] INFO: 正在获取测试用例所有测试步骤
2018-03-08 10:34:24,463 database.py[line: 106] INFO: query：(SELECT a.StepOrder AS StepOrder,c.PageName AS PageName,b.ElementName AS ElementName,b.ElementSelector AS ElementSelector,b.ElementSelector02 AS ElementSelector02,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,a.compid AS compid,a.compFolderid AS comFolderid,'' AS comName FROM testcases_steps AS a, page_elements AS b,pagesobject AS c WHERE a.TestcaseID = %s AND a.ElementId = b.Id AND b.PageId = c.Id)UNION ALL(SELECT a.steporder AS steporder,'' AS PageName,'' AS ElementSelector,'' AS ElementSelector02,'' AS ElementName,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,a.compid AS compid,a.compFolderid AS comFolderid,tc.test_name AS comName FROM testcases_steps AS a, testcases AS tc WHERE a.TestcaseID = %s AND a.compid = tc.id)UNION ALL(SELECT a.steporder AS steporder,'' AS PageName,'' AS ElementSelector,'' AS ElementSelector02,'' AS ElementName,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,'' AS compid,'' AS comFolderid,'' AS comName FROM testcases_steps AS a WHERE a.TestcaseID = %s AND NOT ISNULL(a.stepOrder)AND NOT ISNULL(a.Command) AND ISNULL(compid) AND ElementId='')ORDER BY steporder  data：(13, 13, 13)
2018-03-08 10:34:24,467 test_case.py[line: 123] INFO: 获取的测试步骤为： [(1, '', '', '', '', '断言', '深圳市金斧子网络科技有限公司-ERP', '', '', '', ''), (2, '用户登录', '用户名', 'xpath=//*[@name=&quot;username&quot;]', '', '输入', 'defang3', '', None, None, ''), (3, '用户登录', '密码', 'xpath=//*[@name=&quot;password&quot;]', '', '输入', '123', '', None, None, ''), (4, '用户登录', '登录', 'xpath=//*[@class=&quot;submit_wrap&quot;]', '', '点击', '', '', None, None, ''), (5, '', '', '', '', '等待', '3', '', '', '', ''), (6, '', '', '', '', '断言', '德芳运维', '', '', '', '')]
2018-03-08 10:34:24,467 test_case.py[line: 41] INFO: 开始执行测试步骤
2018-03-08 10:34:24,467 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：1, 操作：断言， 输入参数：深圳市金斧子网络科技有限公司-ERP，预期结果：）
2018-03-08 10:34:24,467 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 10:34:24,467 test_case_step.py[line: 88] INFO: 执行函数：断言
2018-03-08 10:34:24,467 test_case_step.py[line: 91] INFO: 正在对输入参数:深圳市金斧子网络科技有限公司-ERP 进行参数处理
2018-03-08 10:34:24,467 test_case_step.py[line: 115] INFO: 断言的标题为:深圳市金斧子网络科技有限公司-ERP
2018-03-08 10:34:24,475 seleniumutil.py[line: 151] INFO: 断言信息为：深圳市金斧子网络科技有限公司-ERP
2018-03-08 10:34:24,475 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 10:34:24,475 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 13, 1520476464, 1, '', '断言', '深圳市金斧子网络科技有限公司-ERP', '', 'Pass', '断言成功', 'Chrome', '2018-03-08 10:34:24', '')
2018-03-08 10:34:24,478 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 10:34:24,479 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：用户名, 步序：2, 操作：输入， 输入参数：defang3，预期结果：）
2018-03-08 10:34:24,479 test_case_step.py[line: 38] INFO: 正在执行最普通的元素操作
2018-03-08 10:34:24,479 test_case_step.py[line: 42] INFO: 正在对选择器：selector1: xpath=//*[@name=&quot;username&quot;]，selector2:  做数据转换处理
2018-03-08 10:34:24,479 test_case_step.py[line: 45] INFO: 转换后的选择器：selector1: xpath=//*[@name="username"]，selector2: 
2018-03-08 10:34:24,479 test_case_step.py[line: 47] INFO: 开始对步骤中的元素操作进行操作
2018-03-08 10:34:24,479 test_case_step.py[line: 127] INFO: 操作：输入
2018-03-08 10:34:24,479 test_case_step.py[line: 129] INFO: 正在对输入参数:defang3 进行参数处理
2018-03-08 10:34:24,479 test_case_step.py[line: 133] INFO: 处理后的输入参数为:['defang3'] 
2018-03-08 10:34:24,479 test_case_step.py[line: 202] INFO: 开始根据元素定位器：xpath=//*[@name="username"] 自定位元素
2018-03-08 10:34:24,479 test_case_step.py[line: 215] INFO: find_element_by_xpath：//*[@name="username"]
2018-03-08 10:34:24,497 test_case_step.py[line: 188] INFO: 找到元素：<selenium.webdriver.remote.webelement.WebElement (session="4c7d8d450375a18c16d2a2bae2146f50", element="0.23710655603653352-1")>
2018-03-08 10:34:24,575 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 10:34:24,575 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 13, 1520476464, 2, '用户名', '输入', 'defang3', '', 'Pass', '输入数据成功', 'Chrome', '2018-03-08 10:34:24', '')
2018-03-08 10:34:24,579 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 10:34:24,579 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：密码, 步序：3, 操作：输入， 输入参数：123，预期结果：）
2018-03-08 10:34:24,579 test_case_step.py[line: 38] INFO: 正在执行最普通的元素操作
2018-03-08 10:34:24,579 test_case_step.py[line: 42] INFO: 正在对选择器：selector1: xpath=//*[@name=&quot;password&quot;]，selector2:  做数据转换处理
2018-03-08 10:34:24,579 test_case_step.py[line: 45] INFO: 转换后的选择器：selector1: xpath=//*[@name="password"]，selector2: 
2018-03-08 10:34:24,579 test_case_step.py[line: 47] INFO: 开始对步骤中的元素操作进行操作
2018-03-08 10:34:24,579 test_case_step.py[line: 127] INFO: 操作：输入
2018-03-08 10:34:24,579 test_case_step.py[line: 129] INFO: 正在对输入参数:123 进行参数处理
2018-03-08 10:34:24,579 test_case_step.py[line: 133] INFO: 处理后的输入参数为:['123'] 
2018-03-08 10:34:24,579 test_case_step.py[line: 202] INFO: 开始根据元素定位器：xpath=//*[@name="password"] 自定位元素
2018-03-08 10:34:24,579 test_case_step.py[line: 215] INFO: find_element_by_xpath：//*[@name="password"]
2018-03-08 10:34:24,596 test_case_step.py[line: 188] INFO: 找到元素：<selenium.webdriver.remote.webelement.WebElement (session="4c7d8d450375a18c16d2a2bae2146f50", element="0.23710655603653352-2")>
2018-03-08 10:34:24,650 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 10:34:24,650 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 13, 1520476464, 3, '密码', '输入', '123', '', 'Pass', '输入数据成功', 'Chrome', '2018-03-08 10:34:24', '')
2018-03-08 10:34:24,654 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 10:34:24,654 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：登录, 步序：4, 操作：点击， 输入参数：，预期结果：）
2018-03-08 10:34:24,654 test_case_step.py[line: 38] INFO: 正在执行最普通的元素操作
2018-03-08 10:34:24,654 test_case_step.py[line: 42] INFO: 正在对选择器：selector1: xpath=//*[@class=&quot;submit_wrap&quot;]，selector2:  做数据转换处理
2018-03-08 10:34:24,654 test_case_step.py[line: 45] INFO: 转换后的选择器：selector1: xpath=//*[@class="submit_wrap"]，selector2: 
2018-03-08 10:34:24,654 test_case_step.py[line: 47] INFO: 开始对步骤中的元素操作进行操作
2018-03-08 10:34:24,655 test_case_step.py[line: 127] INFO: 操作：点击
2018-03-08 10:34:24,655 test_case_step.py[line: 202] INFO: 开始根据元素定位器：xpath=//*[@class="submit_wrap"] 自定位元素
2018-03-08 10:34:24,655 test_case_step.py[line: 215] INFO: find_element_by_xpath：//*[@class="submit_wrap"]
2018-03-08 10:34:24,676 test_case_step.py[line: 188] INFO: 找到元素：<selenium.webdriver.remote.webelement.WebElement (session="4c7d8d450375a18c16d2a2bae2146f50", element="0.23710655603653352-3")>
2018-03-08 10:34:26,030 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 10:34:26,031 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 13, 1520476464, 4, '登录', '点击', '', '', 'Pass', '点击成功', 'Chrome', '2018-03-08 10:34:24', '')
2018-03-08 10:34:26,035 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 10:34:26,035 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：5, 操作：等待， 输入参数：3，预期结果：）
2018-03-08 10:34:26,035 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 10:34:26,036 test_case_step.py[line: 88] INFO: 执行函数：等待
2018-03-08 10:34:26,036 test_case_step.py[line: 91] INFO: 正在对输入参数:3 进行参数处理
2018-03-08 10:34:26,036 test_case_step.py[line: 105] INFO: 等待3秒
2018-03-08 10:34:29,036 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 10:34:29,036 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 13, 1520476464, 5, '', '等待', '3', '', 'Pass', 'run success', 'Chrome', '2018-03-08 10:34:26', '')
2018-03-08 10:34:29,040 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 10:34:29,040 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：6, 操作：断言， 输入参数：德芳运维，预期结果：）
2018-03-08 10:34:29,040 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 10:34:29,040 test_case_step.py[line: 88] INFO: 执行函数：断言
2018-03-08 10:34:29,040 test_case_step.py[line: 91] INFO: 正在对输入参数:德芳运维 进行参数处理
2018-03-08 10:34:29,040 test_case_step.py[line: 115] INFO: 断言的标题为:德芳运维
2018-03-08 10:34:29,059 seleniumutil.py[line: 151] INFO: 断言信息为：德芳运维
2018-03-08 10:34:29,059 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 10:34:29,059 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 13, 1520476464, 6, '', '断言', '德芳运维', '', 'Pass', '断言成功', 'Chrome', '2018-03-08 10:34:29', '')
2018-03-08 10:34:29,063 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 10:34:29,063 test_case.py[line: 58] INFO: 测试步骤执行完毕，正在记录用例运行结果到测试用例运行报表
2018-03-08 10:34:29,063 database.py[line: 58] INFO: query：INSERT INTO testcase_reporter(runHistoryId, browserType, testcaseId, testplanId, runTime, runResult) VALUES(%s, %s, %s, %s, %s, %s)  data：(1520476464, 'Chrome', 13, 3, '2018-03-08 10:34:24', 'Pass')
2018-03-08 10:34:29,066 test_case.py[line: 70] INFO: 正在获取测试用例所有测试步骤
2018-03-08 10:34:29,066 database.py[line: 106] INFO: query：(SELECT a.StepOrder AS StepOrder,c.PageName AS PageName,b.ElementName AS ElementName,b.ElementSelector AS ElementSelector,b.ElementSelector02 AS ElementSelector02,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,a.compid AS compid,a.compFolderid AS comFolderid,'' AS comName FROM testcases_steps AS a, page_elements AS b,pagesobject AS c WHERE a.TestcaseID = %s AND a.ElementId = b.Id AND b.PageId = c.Id)UNION ALL(SELECT a.steporder AS steporder,'' AS PageName,'' AS ElementSelector,'' AS ElementSelector02,'' AS ElementName,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,a.compid AS compid,a.compFolderid AS comFolderid,tc.test_name AS comName FROM testcases_steps AS a, testcases AS tc WHERE a.TestcaseID = %s AND a.compid = tc.id)UNION ALL(SELECT a.steporder AS steporder,'' AS PageName,'' AS ElementSelector,'' AS ElementSelector02,'' AS ElementName,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,'' AS compid,'' AS comFolderid,'' AS comName FROM testcases_steps AS a WHERE a.TestcaseID = %s AND NOT ISNULL(a.stepOrder)AND NOT ISNULL(a.Command) AND ISNULL(compid) AND ElementId='')ORDER BY steporder  data：(18, 18, 18)
2018-03-08 10:34:29,071 test_case.py[line: 123] INFO: 获取的测试步骤为： [(1, '', '', '', '', '等待', '5', '', '', '', ''), (2, '', '', '', '', '切换入iframe', 'iframe89892232323', '', '', '', ''), (3, '审批流', '审批流的链接', 'xpath=html/body/div[1]/div/div/div[2]/div/div/div/div[2]/div/div[1]/ul/li[1]/div[1]', '', '点击', '', '', None, None, ''), (4, '', '', '', '', '切换到新的窗口', '', '', '', '', ''), (5, '', '', '', '', '等待', '5', '', '', '', ''), (6, '审批流', '审批流的同意按钮', 'xpath=//*[@id=&quot;btnAgree&quot;]', '', '点击', '', '', None, None, ''), (7, '', '', '', '', '切换入iframe', 'ligerwindow1520476412555', '', '', '', ''), (8, '审批流', '填写意见的确定按钮', 'xpath=//*[@id=&quot;dataFormSave&quot;]', '', '点击', '', '', None, None, ''), (9, '', '', '', '', '等待', '5', '', '', '', ''), (10, '', '', '', '', '断言文本提示信息', '执行任务成功!', '', '', '', ''), (11, '', '', '', '', '等待', '5', '', '', '', ''), (12, '审批流', '同意的确定按钮', 'xpath=//*[@class=&quot;l-dialog-btn-inner&quot;]', '', '点击', '', '', None, None, '')]
2018-03-08 10:34:29,071 test_case.py[line: 41] INFO: 开始执行测试步骤
2018-03-08 10:34:29,071 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：1, 操作：等待， 输入参数：5，预期结果：）
2018-03-08 10:34:29,071 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 10:34:29,071 test_case_step.py[line: 88] INFO: 执行函数：等待
2018-03-08 10:34:29,072 test_case_step.py[line: 91] INFO: 正在对输入参数:5 进行参数处理
2018-03-08 10:34:29,072 test_case_step.py[line: 105] INFO: 等待5秒
2018-03-08 10:34:34,072 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 10:34:34,072 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 18, 1520476464, 1, '', '等待', '5', '', 'Pass', 'run success', 'Chrome', '2018-03-08 10:34:29', '')
2018-03-08 10:34:34,076 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 10:34:34,076 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：2, 操作：切换入iframe， 输入参数：iframe89892232323，预期结果：）
2018-03-08 10:34:34,076 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 10:34:34,076 test_case_step.py[line: 88] INFO: 执行函数：切换入iframe
2018-03-08 10:34:34,077 test_case_step.py[line: 91] INFO: 正在对输入参数:iframe89892232323 进行参数处理
2018-03-08 10:34:34,094 seleniumutil.py[line: 67] INFO: 切换至frame（id/name/xpath = iframe89892232323）成功
2018-03-08 10:34:34,094 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 10:34:34,094 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 18, 1520476464, 2, '', '切换入iframe', 'iframe89892232323', '', 'Pass', 'run success', 'Chrome', '2018-03-08 10:34:34', '')
2018-03-08 10:34:34,097 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 10:34:34,098 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：审批流的链接, 步序：3, 操作：点击， 输入参数：，预期结果：）
2018-03-08 10:34:34,098 test_case_step.py[line: 38] INFO: 正在执行最普通的元素操作
2018-03-08 10:34:34,098 test_case_step.py[line: 42] INFO: 正在对选择器：selector1: xpath=html/body/div[1]/div/div/div[2]/div/div/div/div[2]/div/div[1]/ul/li[1]/div[1]，selector2:  做数据转换处理
2018-03-08 10:34:34,098 test_case_step.py[line: 45] INFO: 转换后的选择器：selector1: xpath=html/body/div[1]/div/div/div[2]/div/div/div/div[2]/div/div[1]/ul/li[1]/div[1]，selector2: 
2018-03-08 10:34:34,098 test_case_step.py[line: 47] INFO: 开始对步骤中的元素操作进行操作
2018-03-08 10:34:34,098 test_case_step.py[line: 127] INFO: 操作：点击
2018-03-08 10:34:34,098 test_case_step.py[line: 202] INFO: 开始根据元素定位器：xpath=html/body/div[1]/div/div/div[2]/div/div/div/div[2]/div/div[1]/ul/li[1]/div[1] 自定位元素
2018-03-08 10:34:34,098 test_case_step.py[line: 215] INFO: find_element_by_xpath：html/body/div[1]/div/div/div[2]/div/div/div/div[2]/div/div[1]/ul/li[1]/div[1]
2018-03-08 10:34:34,122 test_case_step.py[line: 188] INFO: 找到元素：<selenium.webdriver.remote.webelement.WebElement (session="4c7d8d450375a18c16d2a2bae2146f50", element="0.31575768463117715-1")>
2018-03-08 10:34:34,354 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 10:34:34,354 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 18, 1520476464, 3, '审批流的链接', '点击', '', '', 'Pass', '点击成功', 'Chrome', '2018-03-08 10:34:34', '')
2018-03-08 10:34:34,363 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 10:34:34,363 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：4, 操作：切换到新的窗口， 输入参数：，预期结果：）
2018-03-08 10:34:34,363 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 10:34:34,363 test_case_step.py[line: 88] INFO: 执行函数：切换到新的窗口
2018-03-08 10:34:34,442 seleniumutil.py[line: 85] INFO: 切换到新的窗口成功:CDwindow-(2AA85EB5D7CC4AD19488406B87AC3503)
2018-03-08 10:34:34,442 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 10:34:34,442 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 18, 1520476464, 4, '', '切换到新的窗口', '', '', 'Pass', '切换到新窗口成功', 'Chrome', '2018-03-08 10:34:34', '')
2018-03-08 10:34:34,447 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 10:34:34,447 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：5, 操作：等待， 输入参数：5，预期结果：）
2018-03-08 10:34:34,447 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 10:34:34,447 test_case_step.py[line: 88] INFO: 执行函数：等待
2018-03-08 10:34:34,447 test_case_step.py[line: 91] INFO: 正在对输入参数:5 进行参数处理
2018-03-08 10:34:34,447 test_case_step.py[line: 105] INFO: 等待5秒
2018-03-08 10:34:39,447 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 10:34:39,447 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 18, 1520476464, 5, '', '等待', '5', '', 'Pass', 'run success', 'Chrome', '2018-03-08 10:34:34', '')
2018-03-08 10:34:39,451 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 10:34:39,451 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：审批流的同意按钮, 步序：6, 操作：点击， 输入参数：，预期结果：）
2018-03-08 10:34:39,451 test_case_step.py[line: 38] INFO: 正在执行最普通的元素操作
2018-03-08 10:34:39,451 test_case_step.py[line: 42] INFO: 正在对选择器：selector1: xpath=//*[@id=&quot;btnAgree&quot;]，selector2:  做数据转换处理
2018-03-08 10:34:39,452 test_case_step.py[line: 45] INFO: 转换后的选择器：selector1: xpath=//*[@id="btnAgree"]，selector2: 
2018-03-08 10:34:39,452 test_case_step.py[line: 47] INFO: 开始对步骤中的元素操作进行操作
2018-03-08 10:34:39,452 test_case_step.py[line: 127] INFO: 操作：点击
2018-03-08 10:34:39,452 test_case_step.py[line: 202] INFO: 开始根据元素定位器：xpath=//*[@id="btnAgree"] 自定位元素
2018-03-08 10:34:39,452 test_case_step.py[line: 215] INFO: find_element_by_xpath：//*[@id="btnAgree"]
2018-03-08 10:34:40,511 test_case_step.py[line: 188] INFO: 找到元素：<selenium.webdriver.remote.webelement.WebElement (session="4c7d8d450375a18c16d2a2bae2146f50", element="0.563042668486049-1")>
2018-03-08 10:34:40,772 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 10:34:40,773 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 18, 1520476464, 6, '审批流的同意按钮', '点击', '', '', 'Pass', '点击成功', 'Chrome', '2018-03-08 10:34:39', '')
2018-03-08 10:34:40,777 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 10:34:40,778 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：7, 操作：切换入iframe， 输入参数：ligerwindow1520476412555，预期结果：）
2018-03-08 10:34:40,778 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 10:34:40,778 test_case_step.py[line: 88] INFO: 执行函数：切换入iframe
2018-03-08 10:34:40,778 test_case_step.py[line: 91] INFO: 正在对输入参数:ligerwindow1520476412555 进行参数处理
2018-03-08 10:34:40,798 seleniumutil.py[line: 70] ERROR: 切换至frame（id/name/xpath = ligerwindow1520476412555）失败
2018-03-08 10:34:41,240 test_case_step.py[line: 272] INFO: 截图文件保存路径为：D:\python\webautotest\screentshot\tp3\tc18\tp3_tc18_step7_1520476464_20180308103440.png
2018-03-08 10:34:41,240 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 10:34:41,240 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 18, 1520476464, 7, '', '切换入iframe', 'ligerwindow1520476412555', '', 'Fail', NoSuchFrameException('no such frame\n  (Session info: chrome=64.0.3282.186)\n  (Driver info: chromedriver=2.33.506120 (e3e53437346286c0bc2d2dc9aa4915ba81d9023f),platform=Windows NT 6.1.7601 SP1 x86_64)', None, None), 'Chrome', '2018-03-08 10:34:40', 'ftp://10.1.2.88/tp3_tc18_step7_1520476464_20180308103440.png')
2018-03-08 10:34:41,242 database.py[line: 66] ERROR: 执行数据库插入操作失败：Failed processing format-parameters; Python 'nosuchframeexception' cannot be converted to a MySQL type
2018-03-08 10:34:41,243 test_case_step.py[line: 81] ERROR: 记录到测试步骤结果报表失败 Failed processing format-parameters; Python 'nosuchframeexception' cannot be converted to a MySQL type
2018-03-08 10:34:41,243 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 10:34:41,243 test_case.py[line: 46] INFO: 用例[id：18]步骤[步序：7] 运行失败，停止运行用例
2018-03-08 10:34:41,243 test_case.py[line: 58] INFO: 测试步骤执行完毕，正在记录用例运行结果到测试用例运行报表
2018-03-08 10:34:41,244 database.py[line: 58] INFO: query：INSERT INTO testcase_reporter(runHistoryId, browserType, testcaseId, testplanId, runTime, runResult) VALUES(%s, %s, %s, %s, %s, %s)  data：(1520476464, 'Chrome', 18, 3, '2018-03-08 10:34:29', 'Fail')
2018-03-08 10:34:41,248 test_plan.py[line: 65] INFO: ####################### 测试计划已运行完毕 #######################
2018-03-08 10:34:41,248 test_plan.py[line: 66] INFO: 正在统计测试计划执行的用例总数
2018-03-08 10:34:41,248 database.py[line: 88] INFO: query：SELECT count(testcaseId)  FROM testcase_reporter  WHERE runHistoryId = %s  data：(1520476464,)
2018-03-08 10:34:41,250 test_plan.py[line: 75] INFO: 正在统计测试计划执行成功的用例总数
2018-03-08 10:34:41,250 database.py[line: 88] INFO: query：SELECT count(testcaseId)  FROM testcase_reporter WHERE runHistoryId = %s AND runResult='Pass'  data：(1520476464,)
2018-03-08 10:34:41,252 test_plan.py[line: 85] INFO: 正在统计测试计划执行失败的用例总数
2018-03-08 10:34:41,253 database.py[line: 88] INFO: query：SELECT count(testcaseId)  FROM testcase_reporter WHERE runHistoryId = %s AND runResult='Fail'  data：(1520476464,)
2018-03-08 10:34:41,255 test_plan.py[line: 95] INFO: 正在统计测试计划执行被阻塞的用例总数
2018-03-08 10:34:41,255 database.py[line: 88] INFO: query：SELECT count(testcaseId)  FROM testcase_reporter WHERE runHistoryId = %s AND runResult='Block'  data：(1520476464,)
2018-03-08 10:34:41,257 test_plan.py[line: 105] INFO: 正在统计测试计划执行成功的用例
2018-03-08 10:34:41,257 database.py[line: 106] INFO: query：SELECT testcaseId  FROM testcase_reporter WHERE runHistoryId = %s AND runResult='Pass'  data：(1520476464,)
2018-03-08 10:34:41,260 test_plan.py[line: 115] INFO: 正在统计测试计划执行失败的用例
2018-03-08 10:34:41,260 database.py[line: 106] INFO: query：SELECT testcaseId  FROM testcase_reporter WHERE runHistoryId = %s AND runResult='Fail'  data：(1520476464,)
2018-03-08 10:34:41,263 test_plan.py[line: 125] INFO: 正在统计测试计划执行被阻塞的用例
2018-03-08 10:34:41,263 database.py[line: 106] INFO: query：SELECT testcaseId  FROM testcase_reporter WHERE runHistoryId = %s AND runResult='Block'  data：(1520476464,)
2018-03-08 10:34:41,265 test_plan.py[line: 130] INFO: 没找到计划执行被阻塞的用例
2018-03-08 10:34:41,265 test_plan.py[line: 151] INFO: 正在记录测试计划运行结果到测试计划报表
2018-03-08 10:34:41,265 database.py[line: 58] INFO: query：INSERT INTO testplan_reporter(testPlanId, testPlanName, runHistoryId, browserType, runTc_total, runPassedTc_total, runFailedTc_total,runBlockedTc_total, runPassedTc, runFailedTc, runBlockedTc, runTime)VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, '购买记录客服审批', 1520476464, 'Chrome', 2, 1, 1, 0, '(13,)', '(18,)', '', '2018-03-08 10:34:24')
2018-03-08 10:34:41,268 main.py[line: 79] INFO: 计划运行完成，正在关闭浏览器
2018-03-08 10:34:44,378 main.py[line: 82] INFO: ####################### 测试结束 #######################
2018-03-08 10:34:44,378 main.py[line: 126] INFO: 运行完成,准备生成测试报告
2018-03-08 10:34:44,378 htmlreporter.py[line: 35] INFO: 正在查询测试计划执行统计信息（执行总数，成功数，失败数，被阻塞数）
2018-03-08 10:34:44,378 database.py[line: 88] INFO: query：SELECT runTc_total, runPassedTc_total, runFailedTc_total, runBlockedTc_total, testPlanName, testPlanId FROM testplan_reporter WHERE runHistoryId = %s  data：(1520476464,)
2018-03-08 10:34:44,382 htmlreporter.py[line: 111] INFO: 正在查询测试计划：购买记录客服审批 运行的的测试用例
2018-03-08 10:34:44,382 database.py[line: 106] INFO: query：SELECT id, runHistoryId, testcaseId, testplanId, browserType, runResult, runTime FROM testcase_reporter WHERE testplanId=%s AND runHistoryId = %s ORDER BY id ASC  data：('3', 1520476464)
2018-03-08 10:34:44,385 htmlreporter.py[line: 121] INFO: 正在记录测试计划[名称：购买记录客服审批]的测试用例运行结果到测试报告
2018-03-08 10:34:44,385 database.py[line: 88] INFO: query：SELECT test_name FROM testcases WHERE id=%s  data：(13,)
2018-03-08 10:34:44,388 database.py[line: 88] INFO: query：SELECT test_name FROM testcases WHERE id=%s  data：(18,)
2018-03-08 10:34:44,392 htmlreporter.py[line: 151] INFO: 正在查询测试计划：购买记录客服审批 运行的的测试用例
2018-03-08 10:34:44,392 database.py[line: 106] INFO: query：SELECT id, runHistoryId, testcaseId, testplanId, browserType, runResult, runTime  FROM testcase_reporter WHERE testplanId=%s AND runHistoryId = %s ORDER BY id ASC  data：('3', 1520476464)
2018-03-08 10:34:44,395 htmlreporter.py[line: 168] INFO: 正在查询测试用例[id=13, name=客服登录]对应的测试步骤执行明细
2018-03-08 10:34:44,395 database.py[line: 106] INFO: query：SELECT id, stepOrder, runHistoryId, elementName, command, inparams, stepRunResult, expectedResult, stepRunResultDesc, browserType, runTime, screenshotUrl FROM case_step_run_detail WHERE testcaseId=%s AND runHistoryId = %s  ORDER BY id ASC  data：('13', 1520476464)
2018-03-08 10:34:44,400 htmlreporter.py[line: 168] INFO: 正在查询测试用例[id=18, name=购买记录客服审批]对应的测试步骤执行明细
2018-03-08 10:34:44,400 database.py[line: 106] INFO: query：SELECT id, stepOrder, runHistoryId, elementName, command, inparams, stepRunResult, expectedResult, stepRunResultDesc, browserType, runTime, screenshotUrl FROM case_step_run_detail WHERE testcaseId=%s AND runHistoryId = %s  ORDER BY id ASC  data：('18', 1520476464)
2018-03-08 10:34:44,405 htmlreporter.py[line: 211] INFO: 正在设置测试报告结果文件名
2018-03-08 10:34:44,405 htmlreporter.py[line: 222] INFO: 测试报告文件名所在路径为：E:\Projects\report\test_report20180308103444.html
2018-03-08 10:34:44,405 htmlreporter.py[line: 214] INFO: 正在生产测试报告
2018-03-08 10:34:44,422 main.py[line: 130] INFO: 生成测试报告成功
2018-03-08 10:34:44,422 main.py[line: 134] INFO: 运行完成,准备上传截图
2018-03-08 10:34:44,422 ftp.py[line: 42] INFO: is connecting to ftp server 10.1.2.88 on 21
2018-03-08 10:34:44,428 ftp.py[line: 47] INFO: ready to login ftp server
2018-03-08 10:34:44,529 ftp.py[line: 49] INFO: login ftp server successfully
2018-03-08 10:34:44,529 main.py[line: 138] INFO: 正在获取要上传的截图文件
2018-03-08 10:34:44,530 main.py[line: 146] INFO: 正在上传图片到ftp服务器
2018-03-08 10:34:44,530 main.py[line: 150] INFO: 正在上传文件：d:\python\webautotest\screentshot\tp3\tc18\tp3_tc18_step7_1520476464_20180308103440.png 到远程服务器：tp3_tc18_step7_1520476464_20180308103440.png
2018-03-08 10:34:44,551 ftp.py[line: 106] INFO: 文件：d:\python\webautotest\screentshot\tp3\tc18\tp3_tc18_step7_1520476464_20180308103440.png 已经上传到ftp
2018-03-08 10:34:44,551 ftp.py[line: 55] INFO: close ftp connection successfully
2018-03-08 10:34:44,552 main.py[line: 156] INFO: 运行完成，准备发送邮件
2018-03-08 10:34:45,752 main.py[line: 162] INFO: 邮件标题为：Hi，附件为web自动化测试报告，烦请查阅邮件内容为：{'E:\\Projects\\report\\test_report20180308103444.html'}，待发送邮件附件有 【测试报告】web自动化测试报告20180308103444
2018-03-08 10:34:45,753 main.py[line: 163] INFO: 正在发送测试报告邮件...
2018-03-08 10:34:46,564 main.py[line: 166] INFO: 发送邮件成功
2018-03-08 10:34:46,564 main.py[line: 172] INFO: 正在关闭数据库
2018-03-08 10:37:37,838 globalvar.py[line: 23] INFO: #####################正在初始化全局配置#####################
2018-03-08 10:37:37,839 globalvar.py[line: 24] INFO: 正在选择数据库运行环境和站点运行环境
2018-03-08 10:37:37,839 globalvar.py[line: 34] INFO: 在测试环境执行测试，正在获取测试环境的web site
2018-03-08 10:37:37,840 globalvar.py[line: 45] INFO: 在测试环境执行测试，正在获取测试环境的数据库
2018-03-08 10:37:37,849 globalvar.py[line: 55] INFO: 正在进行ftp配置
2018-03-08 10:37:37,855 globalvar.py[line: 62] INFO: 正在获取运行模式
2018-03-08 10:37:37,856 globalvar.py[line: 66] INFO: 运行模式为:<module 'publicpkg.runmode' from 'D:\\python\\webautotest\\publicpkg\\runmode.py'>
2018-03-08 10:37:37,856 globalvar.py[line: 69] INFO: 测试计划配置:[3]
2018-03-08 10:37:37,856 globalvar.py[line: 72] INFO: 全局初始化用例配置:[123]
2018-03-08 10:37:37,857 globalvar.py[line: 75] INFO: 正在获取浏览器配置
2018-03-08 10:37:37,857 globalvar.py[line: 79] INFO: 获取需要进行测试的浏览器有：['Chrome']
2018-03-08 10:37:37,857 globalvar.py[line: 82] INFO: 正在初始化其它工具对象
2018-03-08 10:37:37,857 globalvar.py[line: 86] INFO: 正在进行截图基路径配置
2018-03-08 10:37:37,857 globalvar.py[line: 91] INFO: 截图报存基路径为：D:\python\webautotest\screentshot\
2018-03-08 10:37:37,858 globalvar.py[line: 95] INFO: 正在进行测试报告配置
2018-03-08 10:37:37,858 globalvar.py[line: 96] INFO: --1、读取测试报告路径及文件名
2018-03-08 10:37:37,858 globalvar.py[line: 101] INFO: --2、构造测试报告
2018-03-08 10:37:37,858 globalvar.py[line: 104] INFO: --3、设置报告生成路径
2018-03-08 10:37:37,858 globalvar.py[line: 107] INFO: #####################初始化全局配置完毕#####################
2018-03-08 10:37:37,859 main.py[line: 61] INFO: ####################### 开始测试 #######################
2018-03-08 10:37:43,886 test_plan.py[line: 28] INFO: 正在获取本次测试需要执行的测试用列ID列表，测试计划名称
2018-03-08 10:37:43,886 database.py[line: 88] INFO: query：SELECT testcase_list, test_round_name FROM testcase_runround WHERE id = %s   data：(3,)
2018-03-08 10:37:43,889 test_plan.py[line: 44] INFO: 获取到的的测试用例id列表为: [13, 18]
2018-03-08 10:37:43,889 test_plan.py[line: 48] INFO: ####################### 开始运行测试计划 #######################
2018-03-08 10:37:43,889 test_case.py[line: 17] INFO: 正在构造并初始化测试用例对象[id=13]
2018-03-08 10:37:43,889 test_case.py[line: 26] INFO: 初始测试用例完毕
2018-03-08 10:37:43,889 test_case.py[line: 17] INFO: 正在构造并初始化测试用例对象[id=18]
2018-03-08 10:37:43,890 test_case.py[line: 26] INFO: 初始测试用例完毕
2018-03-08 10:37:43,890 test_case.py[line: 70] INFO: 正在获取测试用例所有测试步骤
2018-03-08 10:37:43,890 database.py[line: 106] INFO: query：(SELECT a.StepOrder AS StepOrder,c.PageName AS PageName,b.ElementName AS ElementName,b.ElementSelector AS ElementSelector,b.ElementSelector02 AS ElementSelector02,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,a.compid AS compid,a.compFolderid AS comFolderid,'' AS comName FROM testcases_steps AS a, page_elements AS b,pagesobject AS c WHERE a.TestcaseID = %s AND a.ElementId = b.Id AND b.PageId = c.Id)UNION ALL(SELECT a.steporder AS steporder,'' AS PageName,'' AS ElementSelector,'' AS ElementSelector02,'' AS ElementName,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,a.compid AS compid,a.compFolderid AS comFolderid,tc.test_name AS comName FROM testcases_steps AS a, testcases AS tc WHERE a.TestcaseID = %s AND a.compid = tc.id)UNION ALL(SELECT a.steporder AS steporder,'' AS PageName,'' AS ElementSelector,'' AS ElementSelector02,'' AS ElementName,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,'' AS compid,'' AS comFolderid,'' AS comName FROM testcases_steps AS a WHERE a.TestcaseID = %s AND NOT ISNULL(a.stepOrder)AND NOT ISNULL(a.Command) AND ISNULL(compid) AND ElementId='')ORDER BY steporder  data：(13, 13, 13)
2018-03-08 10:37:43,894 test_case.py[line: 123] INFO: 获取的测试步骤为： [(1, '', '', '', '', '断言', '深圳市金斧子网络科技有限公司-ERP', '', '', '', ''), (2, '用户登录', '用户名', 'xpath=//*[@name=&quot;username&quot;]', '', '输入', 'defang3', '', None, None, ''), (3, '用户登录', '密码', 'xpath=//*[@name=&quot;password&quot;]', '', '输入', '123', '', None, None, ''), (4, '用户登录', '登录', 'xpath=//*[@class=&quot;submit_wrap&quot;]', '', '点击', '', '', None, None, ''), (5, '', '', '', '', '等待', '3', '', '', '', ''), (6, '', '', '', '', '断言', '德芳运维', '', '', '', '')]
2018-03-08 10:37:43,894 test_case.py[line: 41] INFO: 开始执行测试步骤
2018-03-08 10:37:43,894 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：1, 操作：断言， 输入参数：深圳市金斧子网络科技有限公司-ERP，预期结果：）
2018-03-08 10:37:43,895 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 10:37:43,895 test_case_step.py[line: 88] INFO: 执行函数：断言
2018-03-08 10:37:43,895 test_case_step.py[line: 91] INFO: 正在对输入参数:深圳市金斧子网络科技有限公司-ERP 进行参数处理
2018-03-08 10:37:43,895 test_case_step.py[line: 115] INFO: 断言的标题为:深圳市金斧子网络科技有限公司-ERP
2018-03-08 10:37:43,904 seleniumutil.py[line: 151] INFO: 断言信息为：深圳市金斧子网络科技有限公司-ERP
2018-03-08 10:37:43,904 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 10:37:43,904 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 13, 1520476663, 1, '', '断言', '深圳市金斧子网络科技有限公司-ERP', '', 'Pass', '断言成功', 'Chrome', '2018-03-08 10:37:43', '')
2018-03-08 10:37:43,907 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 10:37:43,908 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：用户名, 步序：2, 操作：输入， 输入参数：defang3，预期结果：）
2018-03-08 10:37:43,908 test_case_step.py[line: 38] INFO: 正在执行最普通的元素操作
2018-03-08 10:37:43,908 test_case_step.py[line: 42] INFO: 正在对选择器：selector1: xpath=//*[@name=&quot;username&quot;]，selector2:  做数据转换处理
2018-03-08 10:37:43,908 test_case_step.py[line: 45] INFO: 转换后的选择器：selector1: xpath=//*[@name="username"]，selector2: 
2018-03-08 10:37:43,908 test_case_step.py[line: 47] INFO: 开始对步骤中的元素操作进行操作
2018-03-08 10:37:43,908 test_case_step.py[line: 127] INFO: 操作：输入
2018-03-08 10:37:43,908 test_case_step.py[line: 129] INFO: 正在对输入参数:defang3 进行参数处理
2018-03-08 10:37:43,908 test_case_step.py[line: 133] INFO: 处理后的输入参数为:['defang3'] 
2018-03-08 10:37:43,908 test_case_step.py[line: 202] INFO: 开始根据元素定位器：xpath=//*[@name="username"] 自定位元素
2018-03-08 10:37:43,908 test_case_step.py[line: 215] INFO: find_element_by_xpath：//*[@name="username"]
2018-03-08 10:37:43,925 test_case_step.py[line: 188] INFO: 找到元素：<selenium.webdriver.remote.webelement.WebElement (session="00831aaff2107169914dd9212a2eb4cb", element="0.41930030843659516-1")>
2018-03-08 10:37:44,003 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 10:37:44,004 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 13, 1520476663, 2, '用户名', '输入', 'defang3', '', 'Pass', '输入数据成功', 'Chrome', '2018-03-08 10:37:43', '')
2018-03-08 10:37:44,007 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 10:37:44,007 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：密码, 步序：3, 操作：输入， 输入参数：123，预期结果：）
2018-03-08 10:37:44,008 test_case_step.py[line: 38] INFO: 正在执行最普通的元素操作
2018-03-08 10:37:44,008 test_case_step.py[line: 42] INFO: 正在对选择器：selector1: xpath=//*[@name=&quot;password&quot;]，selector2:  做数据转换处理
2018-03-08 10:37:44,008 test_case_step.py[line: 45] INFO: 转换后的选择器：selector1: xpath=//*[@name="password"]，selector2: 
2018-03-08 10:37:44,008 test_case_step.py[line: 47] INFO: 开始对步骤中的元素操作进行操作
2018-03-08 10:37:44,008 test_case_step.py[line: 127] INFO: 操作：输入
2018-03-08 10:37:44,008 test_case_step.py[line: 129] INFO: 正在对输入参数:123 进行参数处理
2018-03-08 10:37:44,008 test_case_step.py[line: 133] INFO: 处理后的输入参数为:['123'] 
2018-03-08 10:37:44,008 test_case_step.py[line: 202] INFO: 开始根据元素定位器：xpath=//*[@name="password"] 自定位元素
2018-03-08 10:37:44,008 test_case_step.py[line: 215] INFO: find_element_by_xpath：//*[@name="password"]
2018-03-08 10:37:44,022 test_case_step.py[line: 188] INFO: 找到元素：<selenium.webdriver.remote.webelement.WebElement (session="00831aaff2107169914dd9212a2eb4cb", element="0.41930030843659516-2")>
2018-03-08 10:37:44,074 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 10:37:44,074 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 13, 1520476663, 3, '密码', '输入', '123', '', 'Pass', '输入数据成功', 'Chrome', '2018-03-08 10:37:44', '')
2018-03-08 10:37:44,078 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 10:37:44,078 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：登录, 步序：4, 操作：点击， 输入参数：，预期结果：）
2018-03-08 10:37:44,078 test_case_step.py[line: 38] INFO: 正在执行最普通的元素操作
2018-03-08 10:37:44,079 test_case_step.py[line: 42] INFO: 正在对选择器：selector1: xpath=//*[@class=&quot;submit_wrap&quot;]，selector2:  做数据转换处理
2018-03-08 10:37:44,079 test_case_step.py[line: 45] INFO: 转换后的选择器：selector1: xpath=//*[@class="submit_wrap"]，selector2: 
2018-03-08 10:37:44,079 test_case_step.py[line: 47] INFO: 开始对步骤中的元素操作进行操作
2018-03-08 10:37:44,079 test_case_step.py[line: 127] INFO: 操作：点击
2018-03-08 10:37:44,079 test_case_step.py[line: 202] INFO: 开始根据元素定位器：xpath=//*[@class="submit_wrap"] 自定位元素
2018-03-08 10:37:44,079 test_case_step.py[line: 215] INFO: find_element_by_xpath：//*[@class="submit_wrap"]
2018-03-08 10:37:44,100 test_case_step.py[line: 188] INFO: 找到元素：<selenium.webdriver.remote.webelement.WebElement (session="00831aaff2107169914dd9212a2eb4cb", element="0.41930030843659516-3")>
2018-03-08 10:37:45,464 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 10:37:45,465 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 13, 1520476663, 4, '登录', '点击', '', '', 'Pass', '点击成功', 'Chrome', '2018-03-08 10:37:44', '')
2018-03-08 10:37:45,470 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 10:37:45,470 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：5, 操作：等待， 输入参数：3，预期结果：）
2018-03-08 10:37:45,470 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 10:37:45,471 test_case_step.py[line: 88] INFO: 执行函数：等待
2018-03-08 10:37:45,471 test_case_step.py[line: 91] INFO: 正在对输入参数:3 进行参数处理
2018-03-08 10:37:45,471 test_case_step.py[line: 105] INFO: 等待3秒
2018-03-08 10:37:48,471 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 10:37:48,471 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 13, 1520476663, 5, '', '等待', '3', '', 'Pass', 'run success', 'Chrome', '2018-03-08 10:37:45', '')
2018-03-08 10:37:48,474 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 10:37:48,475 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：6, 操作：断言， 输入参数：德芳运维，预期结果：）
2018-03-08 10:37:48,475 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 10:37:48,475 test_case_step.py[line: 88] INFO: 执行函数：断言
2018-03-08 10:37:48,475 test_case_step.py[line: 91] INFO: 正在对输入参数:德芳运维 进行参数处理
2018-03-08 10:37:48,475 test_case_step.py[line: 115] INFO: 断言的标题为:德芳运维
2018-03-08 10:37:48,487 seleniumutil.py[line: 151] INFO: 断言信息为：德芳运维
2018-03-08 10:37:48,487 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 10:37:48,487 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 13, 1520476663, 6, '', '断言', '德芳运维', '', 'Pass', '断言成功', 'Chrome', '2018-03-08 10:37:48', '')
2018-03-08 10:37:48,491 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 10:37:48,491 test_case.py[line: 58] INFO: 测试步骤执行完毕，正在记录用例运行结果到测试用例运行报表
2018-03-08 10:37:48,491 database.py[line: 58] INFO: query：INSERT INTO testcase_reporter(runHistoryId, browserType, testcaseId, testplanId, runTime, runResult) VALUES(%s, %s, %s, %s, %s, %s)  data：(1520476663, 'Chrome', 13, 3, '2018-03-08 10:37:43', 'Pass')
2018-03-08 10:37:48,495 test_case.py[line: 70] INFO: 正在获取测试用例所有测试步骤
2018-03-08 10:37:48,495 database.py[line: 106] INFO: query：(SELECT a.StepOrder AS StepOrder,c.PageName AS PageName,b.ElementName AS ElementName,b.ElementSelector AS ElementSelector,b.ElementSelector02 AS ElementSelector02,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,a.compid AS compid,a.compFolderid AS comFolderid,'' AS comName FROM testcases_steps AS a, page_elements AS b,pagesobject AS c WHERE a.TestcaseID = %s AND a.ElementId = b.Id AND b.PageId = c.Id)UNION ALL(SELECT a.steporder AS steporder,'' AS PageName,'' AS ElementSelector,'' AS ElementSelector02,'' AS ElementName,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,a.compid AS compid,a.compFolderid AS comFolderid,tc.test_name AS comName FROM testcases_steps AS a, testcases AS tc WHERE a.TestcaseID = %s AND a.compid = tc.id)UNION ALL(SELECT a.steporder AS steporder,'' AS PageName,'' AS ElementSelector,'' AS ElementSelector02,'' AS ElementName,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,'' AS compid,'' AS comFolderid,'' AS comName FROM testcases_steps AS a WHERE a.TestcaseID = %s AND NOT ISNULL(a.stepOrder)AND NOT ISNULL(a.Command) AND ISNULL(compid) AND ElementId='')ORDER BY steporder  data：(18, 18, 18)
2018-03-08 10:37:48,500 test_case.py[line: 123] INFO: 获取的测试步骤为： [(1, '', '', '', '', '等待', '5', '', '', '', ''), (2, '', '', '', '', '切换入iframe', 'iframe89892232323', '', '', '', ''), (3, '审批流', '审批流的链接', 'xpath=html/body/div[1]/div/div/div[2]/div/div/div/div[2]/div/div[1]/ul/li[1]/div[1]', '', '点击', '', '', None, None, ''), (4, '', '', '', '', '切换到新的窗口', '', '', '', '', ''), (5, '', '', '', '', '等待', '5', '', '', '', ''), (6, '审批流', '审批流的同意按钮', 'xpath=//*[@id=&quot;btnAgree&quot;]', '', '点击', '', '', None, None, ''), (7, '', '', '', '', '等待', '5', '', '', '', ''), (8, '', '', '', '', '切换入iframe', 'ligerwindow1520476412555', '', '', '', ''), (9, '审批流', '填写意见的确定按钮', 'xpath=//*[@id=&quot;dataFormSave&quot;]', '', '点击', '', '', None, None, ''), (10, '', '', '', '', '等待', '5', '', '', '', ''), (11, '', '', '', '', '断言文本提示信息', '执行任务成功!', '', '', '', ''), (12, '', '', '', '', '等待', '5', '', '', '', ''), (13, '审批流', '同意的确定按钮', 'xpath=//*[@class=&quot;l-dialog-btn-inner&quot;]', '', '点击', '', '', None, None, '')]
2018-03-08 10:37:48,500 test_case.py[line: 41] INFO: 开始执行测试步骤
2018-03-08 10:37:48,500 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：1, 操作：等待， 输入参数：5，预期结果：）
2018-03-08 10:37:48,500 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 10:37:48,501 test_case_step.py[line: 88] INFO: 执行函数：等待
2018-03-08 10:37:48,501 test_case_step.py[line: 91] INFO: 正在对输入参数:5 进行参数处理
2018-03-08 10:37:48,501 test_case_step.py[line: 105] INFO: 等待5秒
2018-03-08 10:37:53,501 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 10:37:53,501 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 18, 1520476663, 1, '', '等待', '5', '', 'Pass', 'run success', 'Chrome', '2018-03-08 10:37:48', '')
2018-03-08 10:37:53,505 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 10:37:53,506 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：2, 操作：切换入iframe， 输入参数：iframe89892232323，预期结果：）
2018-03-08 10:37:53,506 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 10:37:53,506 test_case_step.py[line: 88] INFO: 执行函数：切换入iframe
2018-03-08 10:37:53,506 test_case_step.py[line: 91] INFO: 正在对输入参数:iframe89892232323 进行参数处理
2018-03-08 10:37:53,560 seleniumutil.py[line: 67] INFO: 切换至frame（id/name/xpath = iframe89892232323）成功
2018-03-08 10:37:53,561 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 10:37:53,561 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 18, 1520476663, 2, '', '切换入iframe', 'iframe89892232323', '', 'Pass', 'run success', 'Chrome', '2018-03-08 10:37:53', '')
2018-03-08 10:37:53,564 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 10:37:53,565 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：审批流的链接, 步序：3, 操作：点击， 输入参数：，预期结果：）
2018-03-08 10:37:53,565 test_case_step.py[line: 38] INFO: 正在执行最普通的元素操作
2018-03-08 10:37:53,565 test_case_step.py[line: 42] INFO: 正在对选择器：selector1: xpath=html/body/div[1]/div/div/div[2]/div/div/div/div[2]/div/div[1]/ul/li[1]/div[1]，selector2:  做数据转换处理
2018-03-08 10:37:53,565 test_case_step.py[line: 45] INFO: 转换后的选择器：selector1: xpath=html/body/div[1]/div/div/div[2]/div/div/div/div[2]/div/div[1]/ul/li[1]/div[1]，selector2: 
2018-03-08 10:37:53,565 test_case_step.py[line: 47] INFO: 开始对步骤中的元素操作进行操作
2018-03-08 10:37:53,565 test_case_step.py[line: 127] INFO: 操作：点击
2018-03-08 10:37:53,565 test_case_step.py[line: 202] INFO: 开始根据元素定位器：xpath=html/body/div[1]/div/div/div[2]/div/div/div/div[2]/div/div[1]/ul/li[1]/div[1] 自定位元素
2018-03-08 10:37:53,565 test_case_step.py[line: 215] INFO: find_element_by_xpath：html/body/div[1]/div/div/div[2]/div/div/div/div[2]/div/div[1]/ul/li[1]/div[1]
2018-03-08 10:37:53,580 test_case_step.py[line: 188] INFO: 找到元素：<selenium.webdriver.remote.webelement.WebElement (session="00831aaff2107169914dd9212a2eb4cb", element="0.12447183001790085-1")>
2018-03-08 10:37:53,743 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 10:37:53,743 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 18, 1520476663, 3, '审批流的链接', '点击', '', '', 'Pass', '点击成功', 'Chrome', '2018-03-08 10:37:53', '')
2018-03-08 10:37:53,747 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 10:37:53,748 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：4, 操作：切换到新的窗口， 输入参数：，预期结果：）
2018-03-08 10:37:53,748 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 10:37:53,748 test_case_step.py[line: 88] INFO: 执行函数：切换到新的窗口
2018-03-08 10:37:53,848 seleniumutil.py[line: 85] INFO: 切换到新的窗口成功:CDwindow-(18DCD8356BF62ED0CEBB4BD35D32131C)
2018-03-08 10:37:53,848 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 10:37:53,848 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 18, 1520476663, 4, '', '切换到新的窗口', '', '', 'Pass', '切换到新窗口成功', 'Chrome', '2018-03-08 10:37:53', '')
2018-03-08 10:37:53,852 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 10:37:53,852 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：5, 操作：等待， 输入参数：5，预期结果：）
2018-03-08 10:37:53,852 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 10:37:53,852 test_case_step.py[line: 88] INFO: 执行函数：等待
2018-03-08 10:37:53,852 test_case_step.py[line: 91] INFO: 正在对输入参数:5 进行参数处理
2018-03-08 10:37:53,852 test_case_step.py[line: 105] INFO: 等待5秒
2018-03-08 10:37:58,853 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 10:37:58,853 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 18, 1520476663, 5, '', '等待', '5', '', 'Pass', 'run success', 'Chrome', '2018-03-08 10:37:53', '')
2018-03-08 10:37:58,858 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 10:37:58,858 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：审批流的同意按钮, 步序：6, 操作：点击， 输入参数：，预期结果：）
2018-03-08 10:37:58,858 test_case_step.py[line: 38] INFO: 正在执行最普通的元素操作
2018-03-08 10:37:58,858 test_case_step.py[line: 42] INFO: 正在对选择器：selector1: xpath=//*[@id=&quot;btnAgree&quot;]，selector2:  做数据转换处理
2018-03-08 10:37:58,858 test_case_step.py[line: 45] INFO: 转换后的选择器：selector1: xpath=//*[@id="btnAgree"]，selector2: 
2018-03-08 10:37:58,858 test_case_step.py[line: 47] INFO: 开始对步骤中的元素操作进行操作
2018-03-08 10:37:58,858 test_case_step.py[line: 127] INFO: 操作：点击
2018-03-08 10:37:58,858 test_case_step.py[line: 202] INFO: 开始根据元素定位器：xpath=//*[@id="btnAgree"] 自定位元素
2018-03-08 10:37:58,858 test_case_step.py[line: 215] INFO: find_element_by_xpath：//*[@id="btnAgree"]
2018-03-08 10:37:59,924 test_case_step.py[line: 188] INFO: 找到元素：<selenium.webdriver.remote.webelement.WebElement (session="00831aaff2107169914dd9212a2eb4cb", element="0.36782517727773234-1")>
2018-03-08 10:38:00,224 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 10:38:00,225 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 18, 1520476663, 6, '审批流的同意按钮', '点击', '', '', 'Pass', '点击成功', 'Chrome', '2018-03-08 10:37:58', '')
2018-03-08 10:38:00,229 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 10:38:00,229 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：7, 操作：等待， 输入参数：5，预期结果：）
2018-03-08 10:38:00,230 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 10:38:00,230 test_case_step.py[line: 88] INFO: 执行函数：等待
2018-03-08 10:38:00,230 test_case_step.py[line: 91] INFO: 正在对输入参数:5 进行参数处理
2018-03-08 10:38:00,230 test_case_step.py[line: 105] INFO: 等待5秒
2018-03-08 10:38:05,231 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 10:38:05,231 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 18, 1520476663, 7, '', '等待', '5', '', 'Pass', 'run success', 'Chrome', '2018-03-08 10:38:0', '')
2018-03-08 10:38:05,236 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 10:38:05,236 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：8, 操作：切换入iframe， 输入参数：ligerwindow1520476412555，预期结果：）
2018-03-08 10:38:05,236 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 10:38:05,236 test_case_step.py[line: 88] INFO: 执行函数：切换入iframe
2018-03-08 10:38:05,236 test_case_step.py[line: 91] INFO: 正在对输入参数:ligerwindow1520476412555 进行参数处理
2018-03-08 10:38:05,248 seleniumutil.py[line: 70] ERROR: 切换至frame（id/name/xpath = ligerwindow1520476412555）失败
2018-03-08 10:38:05,668 test_case_step.py[line: 272] INFO: 截图文件保存路径为：D:\python\webautotest\screentshot\tp3\tc18\tp3_tc18_step8_1520476663_20180308103805.png
2018-03-08 10:38:05,668 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 10:38:05,668 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 18, 1520476663, 8, '', '切换入iframe', 'ligerwindow1520476412555', '', 'Fail', NoSuchFrameException('no such frame\n  (Session info: chrome=64.0.3282.186)\n  (Driver info: chromedriver=2.33.506120 (e3e53437346286c0bc2d2dc9aa4915ba81d9023f),platform=Windows NT 6.1.7601 SP1 x86_64)', None, None), 'Chrome', '2018-03-08 10:38:5', 'ftp://10.1.2.88/tp3_tc18_step8_1520476663_20180308103805.png')
2018-03-08 10:38:05,670 database.py[line: 66] ERROR: 执行数据库插入操作失败：Failed processing format-parameters; Python 'nosuchframeexception' cannot be converted to a MySQL type
2018-03-08 10:38:05,671 test_case_step.py[line: 81] ERROR: 记录到测试步骤结果报表失败 Failed processing format-parameters; Python 'nosuchframeexception' cannot be converted to a MySQL type
2018-03-08 10:38:05,671 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 10:38:05,671 test_case.py[line: 46] INFO: 用例[id：18]步骤[步序：8] 运行失败，停止运行用例
2018-03-08 10:38:05,671 test_case.py[line: 58] INFO: 测试步骤执行完毕，正在记录用例运行结果到测试用例运行报表
2018-03-08 10:38:05,671 database.py[line: 58] INFO: query：INSERT INTO testcase_reporter(runHistoryId, browserType, testcaseId, testplanId, runTime, runResult) VALUES(%s, %s, %s, %s, %s, %s)  data：(1520476663, 'Chrome', 18, 3, '2018-03-08 10:37:48', 'Fail')
2018-03-08 10:38:05,674 test_plan.py[line: 65] INFO: ####################### 测试计划已运行完毕 #######################
2018-03-08 10:38:05,674 test_plan.py[line: 66] INFO: 正在统计测试计划执行的用例总数
2018-03-08 10:38:05,674 database.py[line: 88] INFO: query：SELECT count(testcaseId)  FROM testcase_reporter  WHERE runHistoryId = %s  data：(1520476663,)
2018-03-08 10:38:05,676 test_plan.py[line: 75] INFO: 正在统计测试计划执行成功的用例总数
2018-03-08 10:38:05,677 database.py[line: 88] INFO: query：SELECT count(testcaseId)  FROM testcase_reporter WHERE runHistoryId = %s AND runResult='Pass'  data：(1520476663,)
2018-03-08 10:38:05,679 test_plan.py[line: 85] INFO: 正在统计测试计划执行失败的用例总数
2018-03-08 10:38:05,679 database.py[line: 88] INFO: query：SELECT count(testcaseId)  FROM testcase_reporter WHERE runHistoryId = %s AND runResult='Fail'  data：(1520476663,)
2018-03-08 10:38:05,681 test_plan.py[line: 95] INFO: 正在统计测试计划执行被阻塞的用例总数
2018-03-08 10:38:05,681 database.py[line: 88] INFO: query：SELECT count(testcaseId)  FROM testcase_reporter WHERE runHistoryId = %s AND runResult='Block'  data：(1520476663,)
2018-03-08 10:38:05,684 test_plan.py[line: 105] INFO: 正在统计测试计划执行成功的用例
2018-03-08 10:38:05,684 database.py[line: 106] INFO: query：SELECT testcaseId  FROM testcase_reporter WHERE runHistoryId = %s AND runResult='Pass'  data：(1520476663,)
2018-03-08 10:38:05,686 test_plan.py[line: 115] INFO: 正在统计测试计划执行失败的用例
2018-03-08 10:38:05,686 database.py[line: 106] INFO: query：SELECT testcaseId  FROM testcase_reporter WHERE runHistoryId = %s AND runResult='Fail'  data：(1520476663,)
2018-03-08 10:38:05,689 test_plan.py[line: 125] INFO: 正在统计测试计划执行被阻塞的用例
2018-03-08 10:38:05,689 database.py[line: 106] INFO: query：SELECT testcaseId  FROM testcase_reporter WHERE runHistoryId = %s AND runResult='Block'  data：(1520476663,)
2018-03-08 10:38:05,692 test_plan.py[line: 130] INFO: 没找到计划执行被阻塞的用例
2018-03-08 10:38:05,692 test_plan.py[line: 151] INFO: 正在记录测试计划运行结果到测试计划报表
2018-03-08 10:38:05,693 database.py[line: 58] INFO: query：INSERT INTO testplan_reporter(testPlanId, testPlanName, runHistoryId, browserType, runTc_total, runPassedTc_total, runFailedTc_total,runBlockedTc_total, runPassedTc, runFailedTc, runBlockedTc, runTime)VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, '购买记录客服审批', 1520476663, 'Chrome', 2, 1, 1, 0, '(13,)', '(18,)', '', '2018-03-08 10:37:43')
2018-03-08 10:38:05,696 main.py[line: 79] INFO: 计划运行完成，正在关闭浏览器
2018-03-08 10:38:08,872 main.py[line: 82] INFO: ####################### 测试结束 #######################
2018-03-08 10:38:08,872 main.py[line: 126] INFO: 运行完成,准备生成测试报告
2018-03-08 10:38:08,872 htmlreporter.py[line: 35] INFO: 正在查询测试计划执行统计信息（执行总数，成功数，失败数，被阻塞数）
2018-03-08 10:38:08,872 database.py[line: 88] INFO: query：SELECT runTc_total, runPassedTc_total, runFailedTc_total, runBlockedTc_total, testPlanName, testPlanId FROM testplan_reporter WHERE runHistoryId = %s  data：(1520476663,)
2018-03-08 10:38:08,876 htmlreporter.py[line: 111] INFO: 正在查询测试计划：购买记录客服审批 运行的的测试用例
2018-03-08 10:38:08,876 database.py[line: 106] INFO: query：SELECT id, runHistoryId, testcaseId, testplanId, browserType, runResult, runTime FROM testcase_reporter WHERE testplanId=%s AND runHistoryId = %s ORDER BY id ASC  data：('3', 1520476663)
2018-03-08 10:38:08,880 htmlreporter.py[line: 121] INFO: 正在记录测试计划[名称：购买记录客服审批]的测试用例运行结果到测试报告
2018-03-08 10:38:08,881 database.py[line: 88] INFO: query：SELECT test_name FROM testcases WHERE id=%s  data：(13,)
2018-03-08 10:38:08,884 database.py[line: 88] INFO: query：SELECT test_name FROM testcases WHERE id=%s  data：(18,)
2018-03-08 10:38:08,887 htmlreporter.py[line: 151] INFO: 正在查询测试计划：购买记录客服审批 运行的的测试用例
2018-03-08 10:38:08,887 database.py[line: 106] INFO: query：SELECT id, runHistoryId, testcaseId, testplanId, browserType, runResult, runTime  FROM testcase_reporter WHERE testplanId=%s AND runHistoryId = %s ORDER BY id ASC  data：('3', 1520476663)
2018-03-08 10:38:08,890 htmlreporter.py[line: 168] INFO: 正在查询测试用例[id=13, name=客服登录]对应的测试步骤执行明细
2018-03-08 10:38:08,890 database.py[line: 106] INFO: query：SELECT id, stepOrder, runHistoryId, elementName, command, inparams, stepRunResult, expectedResult, stepRunResultDesc, browserType, runTime, screenshotUrl FROM case_step_run_detail WHERE testcaseId=%s AND runHistoryId = %s  ORDER BY id ASC  data：('13', 1520476663)
2018-03-08 10:38:08,898 htmlreporter.py[line: 168] INFO: 正在查询测试用例[id=18, name=购买记录客服审批]对应的测试步骤执行明细
2018-03-08 10:38:08,898 database.py[line: 106] INFO: query：SELECT id, stepOrder, runHistoryId, elementName, command, inparams, stepRunResult, expectedResult, stepRunResultDesc, browserType, runTime, screenshotUrl FROM case_step_run_detail WHERE testcaseId=%s AND runHistoryId = %s  ORDER BY id ASC  data：('18', 1520476663)
2018-03-08 10:38:08,904 htmlreporter.py[line: 211] INFO: 正在设置测试报告结果文件名
2018-03-08 10:38:08,904 htmlreporter.py[line: 222] INFO: 测试报告文件名所在路径为：E:\Projects\report\test_report20180308103808.html
2018-03-08 10:38:08,904 htmlreporter.py[line: 214] INFO: 正在生产测试报告
2018-03-08 10:38:08,906 main.py[line: 130] INFO: 生成测试报告成功
2018-03-08 10:38:08,906 main.py[line: 134] INFO: 运行完成,准备上传截图
2018-03-08 10:38:08,906 ftp.py[line: 42] INFO: is connecting to ftp server 10.1.2.88 on 21
2018-03-08 10:38:08,913 ftp.py[line: 47] INFO: ready to login ftp server
2018-03-08 10:38:09,011 ftp.py[line: 49] INFO: login ftp server successfully
2018-03-08 10:38:09,012 main.py[line: 138] INFO: 正在获取要上传的截图文件
2018-03-08 10:38:09,012 main.py[line: 146] INFO: 正在上传图片到ftp服务器
2018-03-08 10:38:09,013 main.py[line: 150] INFO: 正在上传文件：d:\python\webautotest\screentshot\tp3\tc18\tp3_tc18_step8_1520476663_20180308103805.png 到远程服务器：tp3_tc18_step8_1520476663_20180308103805.png
2018-03-08 10:38:09,036 ftp.py[line: 106] INFO: 文件：d:\python\webautotest\screentshot\tp3\tc18\tp3_tc18_step8_1520476663_20180308103805.png 已经上传到ftp
2018-03-08 10:38:09,037 ftp.py[line: 55] INFO: close ftp connection successfully
2018-03-08 10:38:09,037 main.py[line: 156] INFO: 运行完成，准备发送邮件
2018-03-08 10:38:10,688 main.py[line: 162] INFO: 邮件标题为：Hi，附件为web自动化测试报告，烦请查阅邮件内容为：{'E:\\Projects\\report\\test_report20180308103808.html'}，待发送邮件附件有 【测试报告】web自动化测试报告20180308103808
2018-03-08 10:38:10,688 main.py[line: 163] INFO: 正在发送测试报告邮件...
2018-03-08 10:38:11,768 main.py[line: 166] INFO: 发送邮件成功
2018-03-08 10:38:11,768 main.py[line: 172] INFO: 正在关闭数据库
2018-03-08 11:23:42,195 globalvar.py[line: 23] INFO: #####################正在初始化全局配置#####################
2018-03-08 11:23:42,195 globalvar.py[line: 24] INFO: 正在选择数据库运行环境和站点运行环境
2018-03-08 11:23:42,196 globalvar.py[line: 34] INFO: 在测试环境执行测试，正在获取测试环境的web site
2018-03-08 11:23:42,196 globalvar.py[line: 45] INFO: 在测试环境执行测试，正在获取测试环境的数据库
2018-03-08 11:23:42,206 globalvar.py[line: 55] INFO: 正在进行ftp配置
2018-03-08 11:23:42,214 globalvar.py[line: 62] INFO: 正在获取运行模式
2018-03-08 11:23:42,214 globalvar.py[line: 66] INFO: 运行模式为:<module 'publicpkg.runmode' from 'D:\\python\\webautotest\\publicpkg\\runmode.py'>
2018-03-08 11:23:42,215 globalvar.py[line: 69] INFO: 测试计划配置:[3]
2018-03-08 11:23:42,215 globalvar.py[line: 72] INFO: 全局初始化用例配置:[123]
2018-03-08 11:23:42,215 globalvar.py[line: 75] INFO: 正在获取浏览器配置
2018-03-08 11:23:42,215 globalvar.py[line: 79] INFO: 获取需要进行测试的浏览器有：['Chrome']
2018-03-08 11:23:42,215 globalvar.py[line: 82] INFO: 正在初始化其它工具对象
2018-03-08 11:23:42,215 globalvar.py[line: 86] INFO: 正在进行截图基路径配置
2018-03-08 11:23:42,216 globalvar.py[line: 91] INFO: 截图报存基路径为：D:\python\webautotest\screentshot\
2018-03-08 11:23:42,216 globalvar.py[line: 95] INFO: 正在进行测试报告配置
2018-03-08 11:23:42,216 globalvar.py[line: 96] INFO: --1、读取测试报告路径及文件名
2018-03-08 11:23:42,216 globalvar.py[line: 101] INFO: --2、构造测试报告
2018-03-08 11:23:42,216 globalvar.py[line: 104] INFO: --3、设置报告生成路径
2018-03-08 11:23:42,216 globalvar.py[line: 107] INFO: #####################初始化全局配置完毕#####################
2018-03-08 11:23:42,218 main.py[line: 61] INFO: ####################### 开始测试 #######################
2018-03-08 11:23:49,106 test_plan.py[line: 28] INFO: 正在获取本次测试需要执行的测试用列ID列表，测试计划名称
2018-03-08 11:23:49,106 database.py[line: 88] INFO: query：SELECT testcase_list, test_round_name FROM testcase_runround WHERE id = %s   data：(3,)
2018-03-08 11:23:49,109 test_plan.py[line: 44] INFO: 获取到的的测试用例id列表为: [13, 18]
2018-03-08 11:23:49,109 test_plan.py[line: 48] INFO: ####################### 开始运行测试计划 #######################
2018-03-08 11:23:49,109 test_case.py[line: 17] INFO: 正在构造并初始化测试用例对象[id=13]
2018-03-08 11:23:49,109 test_case.py[line: 26] INFO: 初始测试用例完毕
2018-03-08 11:23:49,109 test_case.py[line: 17] INFO: 正在构造并初始化测试用例对象[id=18]
2018-03-08 11:23:49,109 test_case.py[line: 26] INFO: 初始测试用例完毕
2018-03-08 11:23:49,110 test_case.py[line: 70] INFO: 正在获取测试用例所有测试步骤
2018-03-08 11:23:49,110 database.py[line: 106] INFO: query：(SELECT a.StepOrder AS StepOrder,c.PageName AS PageName,b.ElementName AS ElementName,b.ElementSelector AS ElementSelector,b.ElementSelector02 AS ElementSelector02,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,a.compid AS compid,a.compFolderid AS comFolderid,'' AS comName FROM testcases_steps AS a, page_elements AS b,pagesobject AS c WHERE a.TestcaseID = %s AND a.ElementId = b.Id AND b.PageId = c.Id)UNION ALL(SELECT a.steporder AS steporder,'' AS PageName,'' AS ElementSelector,'' AS ElementSelector02,'' AS ElementName,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,a.compid AS compid,a.compFolderid AS comFolderid,tc.test_name AS comName FROM testcases_steps AS a, testcases AS tc WHERE a.TestcaseID = %s AND a.compid = tc.id)UNION ALL(SELECT a.steporder AS steporder,'' AS PageName,'' AS ElementSelector,'' AS ElementSelector02,'' AS ElementName,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,'' AS compid,'' AS comFolderid,'' AS comName FROM testcases_steps AS a WHERE a.TestcaseID = %s AND NOT ISNULL(a.stepOrder)AND NOT ISNULL(a.Command) AND ISNULL(compid) AND ElementId='')ORDER BY steporder  data：(13, 13, 13)
2018-03-08 11:23:49,114 test_case.py[line: 123] INFO: 获取的测试步骤为： [(1, '', '', '', '', '断言', '深圳市金斧子网络科技有限公司-ERP', '', '', '', ''), (2, '用户登录', '用户名', 'xpath=//*[@name=&quot;username&quot;]', '', '输入', 'defang3', '', None, None, ''), (3, '用户登录', '密码', 'xpath=//*[@name=&quot;password&quot;]', '', '输入', '123', '', None, None, ''), (4, '用户登录', '登录', 'xpath=//*[@class=&quot;submit_wrap&quot;]', '', '点击', '', '', None, None, ''), (5, '', '', '', '', '等待', '3', '', '', '', ''), (6, '', '', '', '', '断言', '德芳运维', '', '', '', '')]
2018-03-08 11:23:49,115 test_case.py[line: 41] INFO: 开始执行测试步骤
2018-03-08 11:23:49,115 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：1, 操作：断言， 输入参数：深圳市金斧子网络科技有限公司-ERP，预期结果：）
2018-03-08 11:23:49,115 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 11:23:49,115 test_case_step.py[line: 88] INFO: 执行函数：断言
2018-03-08 11:23:49,115 test_case_step.py[line: 91] INFO: 正在对输入参数:深圳市金斧子网络科技有限公司-ERP 进行参数处理
2018-03-08 11:23:49,115 test_case_step.py[line: 115] INFO: 断言的标题为:深圳市金斧子网络科技有限公司-ERP
2018-03-08 11:23:49,121 seleniumutil.py[line: 151] INFO: 断言信息为：深圳市金斧子网络科技有限公司-ERP
2018-03-08 11:23:49,122 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 11:23:49,122 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 13, 1520479429, 1, '', '断言', '深圳市金斧子网络科技有限公司-ERP', '', 'Pass', '断言成功', 'Chrome', '2018-03-08 11:23:49', '')
2018-03-08 11:23:49,126 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 11:23:49,127 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：用户名, 步序：2, 操作：输入， 输入参数：defang3，预期结果：）
2018-03-08 11:23:49,127 test_case_step.py[line: 38] INFO: 正在执行最普通的元素操作
2018-03-08 11:23:49,127 test_case_step.py[line: 42] INFO: 正在对选择器：selector1: xpath=//*[@name=&quot;username&quot;]，selector2:  做数据转换处理
2018-03-08 11:23:49,127 test_case_step.py[line: 45] INFO: 转换后的选择器：selector1: xpath=//*[@name="username"]，selector2: 
2018-03-08 11:23:49,127 test_case_step.py[line: 47] INFO: 开始对步骤中的元素操作进行操作
2018-03-08 11:23:49,127 test_case_step.py[line: 127] INFO: 操作：输入
2018-03-08 11:23:49,127 test_case_step.py[line: 129] INFO: 正在对输入参数:defang3 进行参数处理
2018-03-08 11:23:49,127 test_case_step.py[line: 133] INFO: 处理后的输入参数为:['defang3'] 
2018-03-08 11:23:49,127 test_case_step.py[line: 202] INFO: 开始根据元素定位器：xpath=//*[@name="username"] 自定位元素
2018-03-08 11:23:49,127 test_case_step.py[line: 215] INFO: find_element_by_xpath：//*[@name="username"]
2018-03-08 11:23:49,143 test_case_step.py[line: 188] INFO: 找到元素：<selenium.webdriver.remote.webelement.WebElement (session="ad2031cb040896e3163f0668fc032ec3", element="0.7619571815129011-1")>
2018-03-08 11:23:49,233 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 11:23:49,233 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 13, 1520479429, 2, '用户名', '输入', 'defang3', '', 'Pass', '输入数据成功', 'Chrome', '2018-03-08 11:23:49', '')
2018-03-08 11:23:49,237 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 11:23:49,237 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：密码, 步序：3, 操作：输入， 输入参数：123，预期结果：）
2018-03-08 11:23:49,237 test_case_step.py[line: 38] INFO: 正在执行最普通的元素操作
2018-03-08 11:23:49,237 test_case_step.py[line: 42] INFO: 正在对选择器：selector1: xpath=//*[@name=&quot;password&quot;]，selector2:  做数据转换处理
2018-03-08 11:23:49,237 test_case_step.py[line: 45] INFO: 转换后的选择器：selector1: xpath=//*[@name="password"]，selector2: 
2018-03-08 11:23:49,237 test_case_step.py[line: 47] INFO: 开始对步骤中的元素操作进行操作
2018-03-08 11:23:49,237 test_case_step.py[line: 127] INFO: 操作：输入
2018-03-08 11:23:49,237 test_case_step.py[line: 129] INFO: 正在对输入参数:123 进行参数处理
2018-03-08 11:23:49,238 test_case_step.py[line: 133] INFO: 处理后的输入参数为:['123'] 
2018-03-08 11:23:49,238 test_case_step.py[line: 202] INFO: 开始根据元素定位器：xpath=//*[@name="password"] 自定位元素
2018-03-08 11:23:49,238 test_case_step.py[line: 215] INFO: find_element_by_xpath：//*[@name="password"]
2018-03-08 11:23:49,254 test_case_step.py[line: 188] INFO: 找到元素：<selenium.webdriver.remote.webelement.WebElement (session="ad2031cb040896e3163f0668fc032ec3", element="0.7619571815129011-2")>
2018-03-08 11:23:49,302 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 11:23:49,302 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 13, 1520479429, 3, '密码', '输入', '123', '', 'Pass', '输入数据成功', 'Chrome', '2018-03-08 11:23:49', '')
2018-03-08 11:23:49,306 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 11:23:49,306 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：登录, 步序：4, 操作：点击， 输入参数：，预期结果：）
2018-03-08 11:23:49,306 test_case_step.py[line: 38] INFO: 正在执行最普通的元素操作
2018-03-08 11:23:49,306 test_case_step.py[line: 42] INFO: 正在对选择器：selector1: xpath=//*[@class=&quot;submit_wrap&quot;]，selector2:  做数据转换处理
2018-03-08 11:23:49,307 test_case_step.py[line: 45] INFO: 转换后的选择器：selector1: xpath=//*[@class="submit_wrap"]，selector2: 
2018-03-08 11:23:49,307 test_case_step.py[line: 47] INFO: 开始对步骤中的元素操作进行操作
2018-03-08 11:23:49,307 test_case_step.py[line: 127] INFO: 操作：点击
2018-03-08 11:23:49,307 test_case_step.py[line: 202] INFO: 开始根据元素定位器：xpath=//*[@class="submit_wrap"] 自定位元素
2018-03-08 11:23:49,307 test_case_step.py[line: 215] INFO: find_element_by_xpath：//*[@class="submit_wrap"]
2018-03-08 11:23:49,330 test_case_step.py[line: 188] INFO: 找到元素：<selenium.webdriver.remote.webelement.WebElement (session="ad2031cb040896e3163f0668fc032ec3", element="0.7619571815129011-3")>
2018-03-08 11:23:50,738 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 11:23:50,739 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 13, 1520479429, 4, '登录', '点击', '', '', 'Pass', '点击成功', 'Chrome', '2018-03-08 11:23:49', '')
2018-03-08 11:23:50,744 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 11:23:50,744 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：5, 操作：等待， 输入参数：3，预期结果：）
2018-03-08 11:23:50,744 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 11:23:50,744 test_case_step.py[line: 88] INFO: 执行函数：等待
2018-03-08 11:23:50,744 test_case_step.py[line: 91] INFO: 正在对输入参数:3 进行参数处理
2018-03-08 11:23:50,745 test_case_step.py[line: 105] INFO: 等待3秒
2018-03-08 11:23:53,745 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 11:23:53,745 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 13, 1520479429, 5, '', '等待', '3', '', 'Pass', 'run success', 'Chrome', '2018-03-08 11:23:50', '')
2018-03-08 11:23:53,749 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 11:23:53,749 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：6, 操作：断言， 输入参数：德芳运维，预期结果：）
2018-03-08 11:23:53,749 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 11:23:53,749 test_case_step.py[line: 88] INFO: 执行函数：断言
2018-03-08 11:23:53,749 test_case_step.py[line: 91] INFO: 正在对输入参数:德芳运维 进行参数处理
2018-03-08 11:23:53,749 test_case_step.py[line: 115] INFO: 断言的标题为:德芳运维
2018-03-08 11:23:53,763 seleniumutil.py[line: 151] INFO: 断言信息为：德芳运维
2018-03-08 11:23:53,763 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 11:23:53,763 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 13, 1520479429, 6, '', '断言', '德芳运维', '', 'Pass', '断言成功', 'Chrome', '2018-03-08 11:23:53', '')
2018-03-08 11:23:53,767 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 11:23:53,768 test_case.py[line: 58] INFO: 测试步骤执行完毕，正在记录用例运行结果到测试用例运行报表
2018-03-08 11:23:53,768 database.py[line: 58] INFO: query：INSERT INTO testcase_reporter(runHistoryId, browserType, testcaseId, testplanId, runTime, runResult) VALUES(%s, %s, %s, %s, %s, %s)  data：(1520479429, 'Chrome', 13, 3, '2018-03-08 11:23:49', 'Pass')
2018-03-08 11:23:53,771 test_case.py[line: 70] INFO: 正在获取测试用例所有测试步骤
2018-03-08 11:23:53,772 database.py[line: 106] INFO: query：(SELECT a.StepOrder AS StepOrder,c.PageName AS PageName,b.ElementName AS ElementName,b.ElementSelector AS ElementSelector,b.ElementSelector02 AS ElementSelector02,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,a.compid AS compid,a.compFolderid AS comFolderid,'' AS comName FROM testcases_steps AS a, page_elements AS b,pagesobject AS c WHERE a.TestcaseID = %s AND a.ElementId = b.Id AND b.PageId = c.Id)UNION ALL(SELECT a.steporder AS steporder,'' AS PageName,'' AS ElementSelector,'' AS ElementSelector02,'' AS ElementName,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,a.compid AS compid,a.compFolderid AS comFolderid,tc.test_name AS comName FROM testcases_steps AS a, testcases AS tc WHERE a.TestcaseID = %s AND a.compid = tc.id)UNION ALL(SELECT a.steporder AS steporder,'' AS PageName,'' AS ElementSelector,'' AS ElementSelector02,'' AS ElementName,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,'' AS compid,'' AS comFolderid,'' AS comName FROM testcases_steps AS a WHERE a.TestcaseID = %s AND NOT ISNULL(a.stepOrder)AND NOT ISNULL(a.Command) AND ISNULL(compid) AND ElementId='')ORDER BY steporder  data：(18, 18, 18)
2018-03-08 11:23:53,779 test_case.py[line: 123] INFO: 获取的测试步骤为： [(1, '', '', '', '', '等待', '5', '', '', '', ''), (2, '', '', '', '', '切换入iframe', 'iframe89892232323', '', '', '', ''), (3, '审批流', '审批流的链接', 'xpath=html/body/div[1]/div/div/div[2]/div/div/div/div[2]/div/div[1]/ul/li[1]/div[1]', '', '点击', '', '', None, None, ''), (4, '', '', '', '', '切换到新的窗口', '', '', '', '', ''), (5, '', '', '', '', '等待', '5', '', '', '', ''), (6, '审批流', '审批流的同意按钮', 'xpath=//*[@id=&quot;btnAgree&quot;]', '', '点击', '', '', None, None, ''), (7, '', '', '', '', '等待', '5', '', '', '', ''), (8, '审批流', '切入到弹框的ifram', 'xpath=//iframe[contains(@id,&quot;ligerwindow&quot;)]', '', '切换入iframe', '//iframe[contains(@id,&#039;ligerwindow&#039;)]', '', None, None, ''), (9, '审批流', '填写意见的确定按钮', 'xpath=//*[@id=&quot;dataFormSave&quot;]', '', '点击', '', '', None, None, ''), (10, '', '', '', '', '等待', '5', '', '', '', ''), (11, '', '', '', '', '断言文本提示信息', '执行任务成功!', '', '', '', ''), (12, '', '', '', '', '等待', '5', '', '', '', ''), (13, '审批流', '同意的确定按钮', 'xpath=//*[@class=&quot;l-dialog-btn-inner&quot;]', '', '点击', '', '', None, None, '')]
2018-03-08 11:23:53,779 test_case.py[line: 41] INFO: 开始执行测试步骤
2018-03-08 11:23:53,779 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：1, 操作：等待， 输入参数：5，预期结果：）
2018-03-08 11:23:53,779 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 11:23:53,779 test_case_step.py[line: 88] INFO: 执行函数：等待
2018-03-08 11:23:53,779 test_case_step.py[line: 91] INFO: 正在对输入参数:5 进行参数处理
2018-03-08 11:23:53,779 test_case_step.py[line: 105] INFO: 等待5秒
2018-03-08 11:23:58,780 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 11:23:58,780 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 18, 1520479429, 1, '', '等待', '5', '', 'Pass', 'run success', 'Chrome', '2018-03-08 11:23:53', '')
2018-03-08 11:23:58,785 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 11:23:58,785 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：2, 操作：切换入iframe， 输入参数：iframe89892232323，预期结果：）
2018-03-08 11:23:58,785 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 11:23:58,785 test_case_step.py[line: 88] INFO: 执行函数：切换入iframe
2018-03-08 11:23:58,785 test_case_step.py[line: 91] INFO: 正在对输入参数:iframe89892232323 进行参数处理
2018-03-08 11:23:58,839 seleniumutil.py[line: 67] INFO: 切换至frame（id/name/xpath = iframe89892232323）成功
2018-03-08 11:23:58,839 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 11:23:58,839 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 18, 1520479429, 2, '', '切换入iframe', 'iframe89892232323', '', 'Pass', 'run success', 'Chrome', '2018-03-08 11:23:58', '')
2018-03-08 11:23:58,843 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 11:23:58,843 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：审批流的链接, 步序：3, 操作：点击， 输入参数：，预期结果：）
2018-03-08 11:23:58,843 test_case_step.py[line: 38] INFO: 正在执行最普通的元素操作
2018-03-08 11:23:58,843 test_case_step.py[line: 42] INFO: 正在对选择器：selector1: xpath=html/body/div[1]/div/div/div[2]/div/div/div/div[2]/div/div[1]/ul/li[1]/div[1]，selector2:  做数据转换处理
2018-03-08 11:23:58,843 test_case_step.py[line: 45] INFO: 转换后的选择器：selector1: xpath=html/body/div[1]/div/div/div[2]/div/div/div/div[2]/div/div[1]/ul/li[1]/div[1]，selector2: 
2018-03-08 11:23:58,844 test_case_step.py[line: 47] INFO: 开始对步骤中的元素操作进行操作
2018-03-08 11:23:58,844 test_case_step.py[line: 127] INFO: 操作：点击
2018-03-08 11:23:58,844 test_case_step.py[line: 202] INFO: 开始根据元素定位器：xpath=html/body/div[1]/div/div/div[2]/div/div/div/div[2]/div/div[1]/ul/li[1]/div[1] 自定位元素
2018-03-08 11:23:58,844 test_case_step.py[line: 215] INFO: find_element_by_xpath：html/body/div[1]/div/div/div[2]/div/div/div/div[2]/div/div[1]/ul/li[1]/div[1]
2018-03-08 11:23:58,860 test_case_step.py[line: 188] INFO: 找到元素：<selenium.webdriver.remote.webelement.WebElement (session="ad2031cb040896e3163f0668fc032ec3", element="0.7496162511866329-1")>
2018-03-08 11:23:59,075 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 11:23:59,075 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 18, 1520479429, 3, '审批流的链接', '点击', '', '', 'Pass', '点击成功', 'Chrome', '2018-03-08 11:23:58', '')
2018-03-08 11:23:59,083 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 11:23:59,084 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：4, 操作：切换到新的窗口， 输入参数：，预期结果：）
2018-03-08 11:23:59,084 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 11:23:59,084 test_case_step.py[line: 88] INFO: 执行函数：切换到新的窗口
2018-03-08 11:23:59,164 seleniumutil.py[line: 85] INFO: 切换到新的窗口成功:CDwindow-(955CCF74796E0E6410C62D32BCA1B041)
2018-03-08 11:23:59,164 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 11:23:59,164 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 18, 1520479429, 4, '', '切换到新的窗口', '', '', 'Pass', '切换到新窗口成功', 'Chrome', '2018-03-08 11:23:59', '')
2018-03-08 11:23:59,169 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 11:23:59,169 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：5, 操作：等待， 输入参数：5，预期结果：）
2018-03-08 11:23:59,170 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 11:23:59,170 test_case_step.py[line: 88] INFO: 执行函数：等待
2018-03-08 11:23:59,170 test_case_step.py[line: 91] INFO: 正在对输入参数:5 进行参数处理
2018-03-08 11:23:59,170 test_case_step.py[line: 105] INFO: 等待5秒
2018-03-08 11:24:04,170 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 11:24:04,170 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 18, 1520479429, 5, '', '等待', '5', '', 'Pass', 'run success', 'Chrome', '2018-03-08 11:23:59', '')
2018-03-08 11:24:04,174 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 11:24:04,174 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：审批流的同意按钮, 步序：6, 操作：点击， 输入参数：，预期结果：）
2018-03-08 11:24:04,174 test_case_step.py[line: 38] INFO: 正在执行最普通的元素操作
2018-03-08 11:24:04,174 test_case_step.py[line: 42] INFO: 正在对选择器：selector1: xpath=//*[@id=&quot;btnAgree&quot;]，selector2:  做数据转换处理
2018-03-08 11:24:04,174 test_case_step.py[line: 45] INFO: 转换后的选择器：selector1: xpath=//*[@id="btnAgree"]，selector2: 
2018-03-08 11:24:04,174 test_case_step.py[line: 47] INFO: 开始对步骤中的元素操作进行操作
2018-03-08 11:24:04,174 test_case_step.py[line: 127] INFO: 操作：点击
2018-03-08 11:24:04,174 test_case_step.py[line: 202] INFO: 开始根据元素定位器：xpath=//*[@id="btnAgree"] 自定位元素
2018-03-08 11:24:04,175 test_case_step.py[line: 215] INFO: find_element_by_xpath：//*[@id="btnAgree"]
2018-03-08 11:24:05,242 test_case_step.py[line: 188] INFO: 找到元素：<selenium.webdriver.remote.webelement.WebElement (session="ad2031cb040896e3163f0668fc032ec3", element="0.7136241871966265-1")>
2018-03-08 11:24:05,500 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 11:24:05,501 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 18, 1520479429, 6, '审批流的同意按钮', '点击', '', '', 'Pass', '点击成功', 'Chrome', '2018-03-08 11:24:4', '')
2018-03-08 11:24:05,507 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 11:24:05,507 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：7, 操作：等待， 输入参数：5，预期结果：）
2018-03-08 11:24:05,507 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 11:24:05,507 test_case_step.py[line: 88] INFO: 执行函数：等待
2018-03-08 11:24:05,507 test_case_step.py[line: 91] INFO: 正在对输入参数:5 进行参数处理
2018-03-08 11:24:05,507 test_case_step.py[line: 105] INFO: 等待5秒
2018-03-08 11:24:10,507 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 11:24:10,507 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 18, 1520479429, 7, '', '等待', '5', '', 'Pass', 'run success', 'Chrome', '2018-03-08 11:24:5', '')
2018-03-08 11:24:10,512 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 11:24:10,512 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：切入到弹框的ifram, 步序：8, 操作：切换入iframe， 输入参数：//iframe[contains(@id,&#039;ligerwindow&#039;)]，预期结果：）
2018-03-08 11:24:10,512 test_case_step.py[line: 38] INFO: 正在执行最普通的元素操作
2018-03-08 11:24:10,512 test_case_step.py[line: 42] INFO: 正在对选择器：selector1: xpath=//iframe[contains(@id,&quot;ligerwindow&quot;)]，selector2:  做数据转换处理
2018-03-08 11:24:10,512 test_case_step.py[line: 45] INFO: 转换后的选择器：selector1: xpath=//iframe[contains(@id,"ligerwindow")]，selector2: 
2018-03-08 11:24:10,512 test_case_step.py[line: 47] INFO: 开始对步骤中的元素操作进行操作
2018-03-08 11:24:10,513 test_case_step.py[line: 127] INFO: 操作：切换入iframe
2018-03-08 11:24:10,513 test_case_step.py[line: 129] INFO: 正在对输入参数://iframe[contains(@id,&#039;ligerwindow&#039;)] 进行参数处理
2018-03-08 11:24:10,513 test_case_step.py[line: 133] INFO: 处理后的输入参数为:['//iframe[contains(@id,&#039;ligerwindow&#039;)]'] 
2018-03-08 11:24:10,513 test_case_step.py[line: 180] ERROR: command为空,或者填写错误
2018-03-08 11:24:10,951 test_case_step.py[line: 272] INFO: 截图文件保存路径为：D:\python\webautotest\screentshot\tp3\tc18\tp3_tc18_step8_1520479429_20180308112410.png
2018-03-08 11:24:10,951 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 11:24:10,951 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 18, 1520479429, 8, '切入到弹框的ifram', '切换入iframe', '//iframe[contains(@id,&#039;ligerwindow&#039;)]', '', 'Fail', 'comman为空或者填写错误', 'Chrome', '2018-03-08 11:24:10', 'ftp://10.1.2.88/tp3_tc18_step8_1520479429_20180308112410.png')
2018-03-08 11:24:10,955 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 11:24:10,955 test_case.py[line: 46] INFO: 用例[id：18]步骤[步序：8] 运行失败，停止运行用例
2018-03-08 11:24:10,955 test_case.py[line: 58] INFO: 测试步骤执行完毕，正在记录用例运行结果到测试用例运行报表
2018-03-08 11:24:10,955 database.py[line: 58] INFO: query：INSERT INTO testcase_reporter(runHistoryId, browserType, testcaseId, testplanId, runTime, runResult) VALUES(%s, %s, %s, %s, %s, %s)  data：(1520479429, 'Chrome', 18, 3, '2018-03-08 11:23:53', 'Fail')
2018-03-08 11:24:10,958 test_plan.py[line: 65] INFO: ####################### 测试计划已运行完毕 #######################
2018-03-08 11:24:10,958 test_plan.py[line: 66] INFO: 正在统计测试计划执行的用例总数
2018-03-08 11:24:10,958 database.py[line: 88] INFO: query：SELECT count(testcaseId)  FROM testcase_reporter  WHERE runHistoryId = %s  data：(1520479429,)
2018-03-08 11:24:10,961 test_plan.py[line: 75] INFO: 正在统计测试计划执行成功的用例总数
2018-03-08 11:24:10,961 database.py[line: 88] INFO: query：SELECT count(testcaseId)  FROM testcase_reporter WHERE runHistoryId = %s AND runResult='Pass'  data：(1520479429,)
2018-03-08 11:24:10,963 test_plan.py[line: 85] INFO: 正在统计测试计划执行失败的用例总数
2018-03-08 11:24:10,964 database.py[line: 88] INFO: query：SELECT count(testcaseId)  FROM testcase_reporter WHERE runHistoryId = %s AND runResult='Fail'  data：(1520479429,)
2018-03-08 11:24:10,967 test_plan.py[line: 95] INFO: 正在统计测试计划执行被阻塞的用例总数
2018-03-08 11:24:10,967 database.py[line: 88] INFO: query：SELECT count(testcaseId)  FROM testcase_reporter WHERE runHistoryId = %s AND runResult='Block'  data：(1520479429,)
2018-03-08 11:24:10,969 test_plan.py[line: 105] INFO: 正在统计测试计划执行成功的用例
2018-03-08 11:24:10,969 database.py[line: 106] INFO: query：SELECT testcaseId  FROM testcase_reporter WHERE runHistoryId = %s AND runResult='Pass'  data：(1520479429,)
2018-03-08 11:24:10,972 test_plan.py[line: 115] INFO: 正在统计测试计划执行失败的用例
2018-03-08 11:24:10,972 database.py[line: 106] INFO: query：SELECT testcaseId  FROM testcase_reporter WHERE runHistoryId = %s AND runResult='Fail'  data：(1520479429,)
2018-03-08 11:24:10,974 test_plan.py[line: 125] INFO: 正在统计测试计划执行被阻塞的用例
2018-03-08 11:24:10,974 database.py[line: 106] INFO: query：SELECT testcaseId  FROM testcase_reporter WHERE runHistoryId = %s AND runResult='Block'  data：(1520479429,)
2018-03-08 11:24:10,977 test_plan.py[line: 130] INFO: 没找到计划执行被阻塞的用例
2018-03-08 11:24:10,977 test_plan.py[line: 151] INFO: 正在记录测试计划运行结果到测试计划报表
2018-03-08 11:24:10,977 database.py[line: 58] INFO: query：INSERT INTO testplan_reporter(testPlanId, testPlanName, runHistoryId, browserType, runTc_total, runPassedTc_total, runFailedTc_total,runBlockedTc_total, runPassedTc, runFailedTc, runBlockedTc, runTime)VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, '购买记录客服审批', 1520479429, 'Chrome', 2, 1, 1, 0, '(13,)', '(18,)', '', '2018-03-08 11:23:49')
2018-03-08 11:24:10,981 main.py[line: 79] INFO: 计划运行完成，正在关闭浏览器
2018-03-08 11:24:14,090 main.py[line: 82] INFO: ####################### 测试结束 #######################
2018-03-08 11:24:14,090 main.py[line: 126] INFO: 运行完成,准备生成测试报告
2018-03-08 11:24:14,090 htmlreporter.py[line: 35] INFO: 正在查询测试计划执行统计信息（执行总数，成功数，失败数，被阻塞数）
2018-03-08 11:24:14,090 database.py[line: 88] INFO: query：SELECT runTc_total, runPassedTc_total, runFailedTc_total, runBlockedTc_total, testPlanName, testPlanId FROM testplan_reporter WHERE runHistoryId = %s  data：(1520479429,)
2018-03-08 11:24:14,095 htmlreporter.py[line: 111] INFO: 正在查询测试计划：购买记录客服审批 运行的的测试用例
2018-03-08 11:24:14,095 database.py[line: 106] INFO: query：SELECT id, runHistoryId, testcaseId, testplanId, browserType, runResult, runTime FROM testcase_reporter WHERE testplanId=%s AND runHistoryId = %s ORDER BY id ASC  data：('3', 1520479429)
2018-03-08 11:24:14,101 htmlreporter.py[line: 121] INFO: 正在记录测试计划[名称：购买记录客服审批]的测试用例运行结果到测试报告
2018-03-08 11:24:14,101 database.py[line: 88] INFO: query：SELECT test_name FROM testcases WHERE id=%s  data：(13,)
2018-03-08 11:24:14,105 database.py[line: 88] INFO: query：SELECT test_name FROM testcases WHERE id=%s  data：(18,)
2018-03-08 11:24:14,108 htmlreporter.py[line: 151] INFO: 正在查询测试计划：购买记录客服审批 运行的的测试用例
2018-03-08 11:24:14,108 database.py[line: 106] INFO: query：SELECT id, runHistoryId, testcaseId, testplanId, browserType, runResult, runTime  FROM testcase_reporter WHERE testplanId=%s AND runHistoryId = %s ORDER BY id ASC  data：('3', 1520479429)
2018-03-08 11:24:14,111 htmlreporter.py[line: 168] INFO: 正在查询测试用例[id=13, name=客服登录]对应的测试步骤执行明细
2018-03-08 11:24:14,111 database.py[line: 106] INFO: query：SELECT id, stepOrder, runHistoryId, elementName, command, inparams, stepRunResult, expectedResult, stepRunResultDesc, browserType, runTime, screenshotUrl FROM case_step_run_detail WHERE testcaseId=%s AND runHistoryId = %s  ORDER BY id ASC  data：('13', 1520479429)
2018-03-08 11:24:14,116 htmlreporter.py[line: 168] INFO: 正在查询测试用例[id=18, name=购买记录客服审批]对应的测试步骤执行明细
2018-03-08 11:24:14,116 database.py[line: 106] INFO: query：SELECT id, stepOrder, runHistoryId, elementName, command, inparams, stepRunResult, expectedResult, stepRunResultDesc, browserType, runTime, screenshotUrl FROM case_step_run_detail WHERE testcaseId=%s AND runHistoryId = %s  ORDER BY id ASC  data：('18', 1520479429)
2018-03-08 11:24:14,123 htmlreporter.py[line: 211] INFO: 正在设置测试报告结果文件名
2018-03-08 11:24:14,123 htmlreporter.py[line: 222] INFO: 测试报告文件名所在路径为：E:\Projects\report\test_report20180308112414.html
2018-03-08 11:24:14,123 htmlreporter.py[line: 214] INFO: 正在生产测试报告
2018-03-08 11:24:14,124 main.py[line: 130] INFO: 生成测试报告成功
2018-03-08 11:24:14,124 main.py[line: 134] INFO: 运行完成,准备上传截图
2018-03-08 11:24:14,125 ftp.py[line: 42] INFO: is connecting to ftp server 10.1.2.88 on 21
2018-03-08 11:24:14,133 ftp.py[line: 47] INFO: ready to login ftp server
2018-03-08 11:24:14,281 ftp.py[line: 49] INFO: login ftp server successfully
2018-03-08 11:24:14,281 main.py[line: 138] INFO: 正在获取要上传的截图文件
2018-03-08 11:24:14,282 main.py[line: 146] INFO: 正在上传图片到ftp服务器
2018-03-08 11:24:14,283 main.py[line: 150] INFO: 正在上传文件：d:\python\webautotest\screentshot\tp3\tc18\tp3_tc18_step8_1520479429_20180308112410.png 到远程服务器：tp3_tc18_step8_1520479429_20180308112410.png
2018-03-08 11:24:14,309 ftp.py[line: 106] INFO: 文件：d:\python\webautotest\screentshot\tp3\tc18\tp3_tc18_step8_1520479429_20180308112410.png 已经上传到ftp
2018-03-08 11:24:14,310 ftp.py[line: 55] INFO: close ftp connection successfully
2018-03-08 11:24:14,310 main.py[line: 156] INFO: 运行完成，准备发送邮件
2018-03-08 11:24:14,576 main.py[line: 162] INFO: 邮件标题为：Hi，附件为web自动化测试报告，烦请查阅邮件内容为：{'E:\\Projects\\report\\test_report20180308112414.html'}，待发送邮件附件有 【测试报告】web自动化测试报告20180308112414
2018-03-08 11:24:14,576 main.py[line: 163] INFO: 正在发送测试报告邮件...
2018-03-08 11:24:16,270 main.py[line: 166] INFO: 发送邮件成功
2018-03-08 11:24:16,270 main.py[line: 172] INFO: 正在关闭数据库
2018-03-08 11:25:13,422 globalvar.py[line: 23] INFO: #####################正在初始化全局配置#####################
2018-03-08 11:25:13,423 globalvar.py[line: 24] INFO: 正在选择数据库运行环境和站点运行环境
2018-03-08 11:25:13,423 globalvar.py[line: 34] INFO: 在测试环境执行测试，正在获取测试环境的web site
2018-03-08 11:25:13,423 globalvar.py[line: 45] INFO: 在测试环境执行测试，正在获取测试环境的数据库
2018-03-08 11:25:13,433 globalvar.py[line: 55] INFO: 正在进行ftp配置
2018-03-08 11:25:13,439 globalvar.py[line: 62] INFO: 正在获取运行模式
2018-03-08 11:25:13,440 globalvar.py[line: 66] INFO: 运行模式为:<module 'publicpkg.runmode' from 'D:\\python\\webautotest\\publicpkg\\runmode.py'>
2018-03-08 11:25:13,440 globalvar.py[line: 69] INFO: 测试计划配置:[3]
2018-03-08 11:25:13,440 globalvar.py[line: 72] INFO: 全局初始化用例配置:[123]
2018-03-08 11:25:13,440 globalvar.py[line: 75] INFO: 正在获取浏览器配置
2018-03-08 11:25:13,441 globalvar.py[line: 79] INFO: 获取需要进行测试的浏览器有：['Chrome']
2018-03-08 11:25:13,441 globalvar.py[line: 82] INFO: 正在初始化其它工具对象
2018-03-08 11:25:13,441 globalvar.py[line: 86] INFO: 正在进行截图基路径配置
2018-03-08 11:25:13,442 globalvar.py[line: 91] INFO: 截图报存基路径为：D:\python\webautotest\screentshot\
2018-03-08 11:25:13,442 globalvar.py[line: 95] INFO: 正在进行测试报告配置
2018-03-08 11:25:13,442 globalvar.py[line: 96] INFO: --1、读取测试报告路径及文件名
2018-03-08 11:25:13,442 globalvar.py[line: 101] INFO: --2、构造测试报告
2018-03-08 11:25:13,443 globalvar.py[line: 104] INFO: --3、设置报告生成路径
2018-03-08 11:25:13,443 globalvar.py[line: 107] INFO: #####################初始化全局配置完毕#####################
2018-03-08 11:25:13,444 main.py[line: 61] INFO: ####################### 开始测试 #######################
2018-03-08 11:25:20,077 test_plan.py[line: 28] INFO: 正在获取本次测试需要执行的测试用列ID列表，测试计划名称
2018-03-08 11:25:20,077 database.py[line: 88] INFO: query：SELECT testcase_list, test_round_name FROM testcase_runround WHERE id = %s   data：(3,)
2018-03-08 11:25:20,080 test_plan.py[line: 44] INFO: 获取到的的测试用例id列表为: [13, 18]
2018-03-08 11:25:20,080 test_plan.py[line: 48] INFO: ####################### 开始运行测试计划 #######################
2018-03-08 11:25:20,080 test_case.py[line: 17] INFO: 正在构造并初始化测试用例对象[id=13]
2018-03-08 11:25:20,080 test_case.py[line: 26] INFO: 初始测试用例完毕
2018-03-08 11:25:20,080 test_case.py[line: 17] INFO: 正在构造并初始化测试用例对象[id=18]
2018-03-08 11:25:20,080 test_case.py[line: 26] INFO: 初始测试用例完毕
2018-03-08 11:25:20,081 test_case.py[line: 70] INFO: 正在获取测试用例所有测试步骤
2018-03-08 11:25:20,081 database.py[line: 106] INFO: query：(SELECT a.StepOrder AS StepOrder,c.PageName AS PageName,b.ElementName AS ElementName,b.ElementSelector AS ElementSelector,b.ElementSelector02 AS ElementSelector02,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,a.compid AS compid,a.compFolderid AS comFolderid,'' AS comName FROM testcases_steps AS a, page_elements AS b,pagesobject AS c WHERE a.TestcaseID = %s AND a.ElementId = b.Id AND b.PageId = c.Id)UNION ALL(SELECT a.steporder AS steporder,'' AS PageName,'' AS ElementSelector,'' AS ElementSelector02,'' AS ElementName,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,a.compid AS compid,a.compFolderid AS comFolderid,tc.test_name AS comName FROM testcases_steps AS a, testcases AS tc WHERE a.TestcaseID = %s AND a.compid = tc.id)UNION ALL(SELECT a.steporder AS steporder,'' AS PageName,'' AS ElementSelector,'' AS ElementSelector02,'' AS ElementName,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,'' AS compid,'' AS comFolderid,'' AS comName FROM testcases_steps AS a WHERE a.TestcaseID = %s AND NOT ISNULL(a.stepOrder)AND NOT ISNULL(a.Command) AND ISNULL(compid) AND ElementId='')ORDER BY steporder  data：(13, 13, 13)
2018-03-08 11:25:20,085 test_case.py[line: 123] INFO: 获取的测试步骤为： [(1, '', '', '', '', '断言', '深圳市金斧子网络科技有限公司-ERP', '', '', '', ''), (2, '用户登录', '用户名', 'xpath=//*[@name=&quot;username&quot;]', '', '输入', 'defang3', '', None, None, ''), (3, '用户登录', '密码', 'xpath=//*[@name=&quot;password&quot;]', '', '输入', '123', '', None, None, ''), (4, '用户登录', '登录', 'xpath=//*[@class=&quot;submit_wrap&quot;]', '', '点击', '', '', None, None, ''), (5, '', '', '', '', '等待', '3', '', '', '', ''), (6, '', '', '', '', '断言', '德芳运维', '', '', '', '')]
2018-03-08 11:25:20,085 test_case.py[line: 41] INFO: 开始执行测试步骤
2018-03-08 11:25:20,085 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：1, 操作：断言， 输入参数：深圳市金斧子网络科技有限公司-ERP，预期结果：）
2018-03-08 11:25:20,085 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 11:25:20,085 test_case_step.py[line: 88] INFO: 执行函数：断言
2018-03-08 11:25:20,085 test_case_step.py[line: 91] INFO: 正在对输入参数:深圳市金斧子网络科技有限公司-ERP 进行参数处理
2018-03-08 11:25:20,085 test_case_step.py[line: 115] INFO: 断言的标题为:深圳市金斧子网络科技有限公司-ERP
2018-03-08 11:25:20,094 seleniumutil.py[line: 151] INFO: 断言信息为：深圳市金斧子网络科技有限公司-ERP
2018-03-08 11:25:20,094 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 11:25:20,094 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 13, 1520479520, 1, '', '断言', '深圳市金斧子网络科技有限公司-ERP', '', 'Pass', '断言成功', 'Chrome', '2018-03-08 11:25:20', '')
2018-03-08 11:25:20,098 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 11:25:20,098 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：用户名, 步序：2, 操作：输入， 输入参数：defang3，预期结果：）
2018-03-08 11:25:20,098 test_case_step.py[line: 38] INFO: 正在执行最普通的元素操作
2018-03-08 11:25:20,098 test_case_step.py[line: 42] INFO: 正在对选择器：selector1: xpath=//*[@name=&quot;username&quot;]，selector2:  做数据转换处理
2018-03-08 11:25:20,098 test_case_step.py[line: 45] INFO: 转换后的选择器：selector1: xpath=//*[@name="username"]，selector2: 
2018-03-08 11:25:20,098 test_case_step.py[line: 47] INFO: 开始对步骤中的元素操作进行操作
2018-03-08 11:25:20,098 test_case_step.py[line: 127] INFO: 操作：输入
2018-03-08 11:25:20,098 test_case_step.py[line: 129] INFO: 正在对输入参数:defang3 进行参数处理
2018-03-08 11:25:20,098 test_case_step.py[line: 133] INFO: 处理后的输入参数为:['defang3'] 
2018-03-08 11:25:20,099 test_case_step.py[line: 202] INFO: 开始根据元素定位器：xpath=//*[@name="username"] 自定位元素
2018-03-08 11:25:20,099 test_case_step.py[line: 215] INFO: find_element_by_xpath：//*[@name="username"]
2018-03-08 11:25:20,115 test_case_step.py[line: 188] INFO: 找到元素：<selenium.webdriver.remote.webelement.WebElement (session="1405150b2b37979911f1a321b4f4a1e6", element="0.3022401904470198-1")>
2018-03-08 11:25:20,193 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 11:25:20,194 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 13, 1520479520, 2, '用户名', '输入', 'defang3', '', 'Pass', '输入数据成功', 'Chrome', '2018-03-08 11:25:20', '')
2018-03-08 11:25:20,199 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 11:25:20,199 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：密码, 步序：3, 操作：输入， 输入参数：123，预期结果：）
2018-03-08 11:25:20,199 test_case_step.py[line: 38] INFO: 正在执行最普通的元素操作
2018-03-08 11:25:20,199 test_case_step.py[line: 42] INFO: 正在对选择器：selector1: xpath=//*[@name=&quot;password&quot;]，selector2:  做数据转换处理
2018-03-08 11:25:20,199 test_case_step.py[line: 45] INFO: 转换后的选择器：selector1: xpath=//*[@name="password"]，selector2: 
2018-03-08 11:25:20,199 test_case_step.py[line: 47] INFO: 开始对步骤中的元素操作进行操作
2018-03-08 11:25:20,199 test_case_step.py[line: 127] INFO: 操作：输入
2018-03-08 11:25:20,199 test_case_step.py[line: 129] INFO: 正在对输入参数:123 进行参数处理
2018-03-08 11:25:20,199 test_case_step.py[line: 133] INFO: 处理后的输入参数为:['123'] 
2018-03-08 11:25:20,199 test_case_step.py[line: 202] INFO: 开始根据元素定位器：xpath=//*[@name="password"] 自定位元素
2018-03-08 11:25:20,199 test_case_step.py[line: 215] INFO: find_element_by_xpath：//*[@name="password"]
2018-03-08 11:25:20,217 test_case_step.py[line: 188] INFO: 找到元素：<selenium.webdriver.remote.webelement.WebElement (session="1405150b2b37979911f1a321b4f4a1e6", element="0.3022401904470198-2")>
2018-03-08 11:25:20,268 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 11:25:20,268 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 13, 1520479520, 3, '密码', '输入', '123', '', 'Pass', '输入数据成功', 'Chrome', '2018-03-08 11:25:20', '')
2018-03-08 11:25:20,272 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 11:25:20,272 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：登录, 步序：4, 操作：点击， 输入参数：，预期结果：）
2018-03-08 11:25:20,272 test_case_step.py[line: 38] INFO: 正在执行最普通的元素操作
2018-03-08 11:25:20,272 test_case_step.py[line: 42] INFO: 正在对选择器：selector1: xpath=//*[@class=&quot;submit_wrap&quot;]，selector2:  做数据转换处理
2018-03-08 11:25:20,272 test_case_step.py[line: 45] INFO: 转换后的选择器：selector1: xpath=//*[@class="submit_wrap"]，selector2: 
2018-03-08 11:25:20,272 test_case_step.py[line: 47] INFO: 开始对步骤中的元素操作进行操作
2018-03-08 11:25:20,272 test_case_step.py[line: 127] INFO: 操作：点击
2018-03-08 11:25:20,272 test_case_step.py[line: 202] INFO: 开始根据元素定位器：xpath=//*[@class="submit_wrap"] 自定位元素
2018-03-08 11:25:20,272 test_case_step.py[line: 215] INFO: find_element_by_xpath：//*[@class="submit_wrap"]
2018-03-08 11:25:20,299 test_case_step.py[line: 188] INFO: 找到元素：<selenium.webdriver.remote.webelement.WebElement (session="1405150b2b37979911f1a321b4f4a1e6", element="0.3022401904470198-3")>
2018-03-08 11:25:21,491 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 11:25:21,491 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 13, 1520479520, 4, '登录', '点击', '', '', 'Pass', '点击成功', 'Chrome', '2018-03-08 11:25:20', '')
2018-03-08 11:25:21,497 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 11:25:21,497 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：5, 操作：等待， 输入参数：3，预期结果：）
2018-03-08 11:25:21,497 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 11:25:21,498 test_case_step.py[line: 88] INFO: 执行函数：等待
2018-03-08 11:25:21,498 test_case_step.py[line: 91] INFO: 正在对输入参数:3 进行参数处理
2018-03-08 11:25:21,498 test_case_step.py[line: 105] INFO: 等待3秒
2018-03-08 11:25:24,499 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 11:25:24,499 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 13, 1520479520, 5, '', '等待', '3', '', 'Pass', 'run success', 'Chrome', '2018-03-08 11:25:21', '')
2018-03-08 11:25:24,503 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 11:25:24,503 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：6, 操作：断言， 输入参数：德芳运维，预期结果：）
2018-03-08 11:25:24,503 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 11:25:24,504 test_case_step.py[line: 88] INFO: 执行函数：断言
2018-03-08 11:25:24,504 test_case_step.py[line: 91] INFO: 正在对输入参数:德芳运维 进行参数处理
2018-03-08 11:25:24,504 test_case_step.py[line: 115] INFO: 断言的标题为:德芳运维
2018-03-08 11:25:24,519 seleniumutil.py[line: 151] INFO: 断言信息为：德芳运维
2018-03-08 11:25:24,519 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 11:25:24,519 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 13, 1520479520, 6, '', '断言', '德芳运维', '', 'Pass', '断言成功', 'Chrome', '2018-03-08 11:25:24', '')
2018-03-08 11:25:24,523 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 11:25:24,523 test_case.py[line: 58] INFO: 测试步骤执行完毕，正在记录用例运行结果到测试用例运行报表
2018-03-08 11:25:24,523 database.py[line: 58] INFO: query：INSERT INTO testcase_reporter(runHistoryId, browserType, testcaseId, testplanId, runTime, runResult) VALUES(%s, %s, %s, %s, %s, %s)  data：(1520479520, 'Chrome', 13, 3, '2018-03-08 11:25:20', 'Pass')
2018-03-08 11:25:24,527 test_case.py[line: 70] INFO: 正在获取测试用例所有测试步骤
2018-03-08 11:25:24,527 database.py[line: 106] INFO: query：(SELECT a.StepOrder AS StepOrder,c.PageName AS PageName,b.ElementName AS ElementName,b.ElementSelector AS ElementSelector,b.ElementSelector02 AS ElementSelector02,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,a.compid AS compid,a.compFolderid AS comFolderid,'' AS comName FROM testcases_steps AS a, page_elements AS b,pagesobject AS c WHERE a.TestcaseID = %s AND a.ElementId = b.Id AND b.PageId = c.Id)UNION ALL(SELECT a.steporder AS steporder,'' AS PageName,'' AS ElementSelector,'' AS ElementSelector02,'' AS ElementName,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,a.compid AS compid,a.compFolderid AS comFolderid,tc.test_name AS comName FROM testcases_steps AS a, testcases AS tc WHERE a.TestcaseID = %s AND a.compid = tc.id)UNION ALL(SELECT a.steporder AS steporder,'' AS PageName,'' AS ElementSelector,'' AS ElementSelector02,'' AS ElementName,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,'' AS compid,'' AS comFolderid,'' AS comName FROM testcases_steps AS a WHERE a.TestcaseID = %s AND NOT ISNULL(a.stepOrder)AND NOT ISNULL(a.Command) AND ISNULL(compid) AND ElementId='')ORDER BY steporder  data：(18, 18, 18)
2018-03-08 11:25:24,534 test_case.py[line: 123] INFO: 获取的测试步骤为： [(1, '', '', '', '', '等待', '5', '', '', '', ''), (2, '', '', '', '', '切换入iframe', 'iframe89892232323', '', '', '', ''), (3, '审批流', '审批流的链接', 'xpath=html/body/div[1]/div/div/div[2]/div/div/div/div[2]/div/div[1]/ul/li[1]/div[1]', '', '点击', '', '', None, None, ''), (4, '', '', '', '', '切换到新的窗口', '', '', '', '', ''), (5, '', '', '', '', '等待', '5', '', '', '', ''), (6, '审批流', '审批流的同意按钮', 'xpath=//*[@id=&quot;btnAgree&quot;]', '', '点击', '', '', None, None, ''), (7, '', '', '', '', '等待', '5', '', '', '', ''), (8, '审批流', '切入到弹框的ifram', 'xpath=//iframe[contains(@id,&quot;ligerwindow&quot;)]', '', '切换入iframe', '//iframe[contains(@id,&quot;ligerwindow&quot;)]', '', None, None, ''), (9, '审批流', '填写意见的确定按钮', 'xpath=//*[@id=&quot;dataFormSave&quot;]', '', '点击', '', '', None, None, ''), (10, '', '', '', '', '等待', '5', '', '', '', ''), (11, '', '', '', '', '断言文本提示信息', '执行任务成功!', '', '', '', ''), (12, '', '', '', '', '等待', '5', '', '', '', ''), (13, '审批流', '同意的确定按钮', 'xpath=//*[@class=&quot;l-dialog-btn-inner&quot;]', '', '点击', '', '', None, None, '')]
2018-03-08 11:25:24,534 test_case.py[line: 41] INFO: 开始执行测试步骤
2018-03-08 11:25:24,534 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：1, 操作：等待， 输入参数：5，预期结果：）
2018-03-08 11:25:24,534 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 11:25:24,534 test_case_step.py[line: 88] INFO: 执行函数：等待
2018-03-08 11:25:24,534 test_case_step.py[line: 91] INFO: 正在对输入参数:5 进行参数处理
2018-03-08 11:25:24,534 test_case_step.py[line: 105] INFO: 等待5秒
2018-03-08 11:25:29,534 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 11:25:29,534 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 18, 1520479520, 1, '', '等待', '5', '', 'Pass', 'run success', 'Chrome', '2018-03-08 11:25:24', '')
2018-03-08 11:25:29,538 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 11:25:29,538 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：2, 操作：切换入iframe， 输入参数：iframe89892232323，预期结果：）
2018-03-08 11:25:29,538 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 11:25:29,539 test_case_step.py[line: 88] INFO: 执行函数：切换入iframe
2018-03-08 11:25:29,539 test_case_step.py[line: 91] INFO: 正在对输入参数:iframe89892232323 进行参数处理
2018-03-08 11:25:29,560 seleniumutil.py[line: 67] INFO: 切换至frame（id/name/xpath = iframe89892232323）成功
2018-03-08 11:25:29,560 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 11:25:29,560 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 18, 1520479520, 2, '', '切换入iframe', 'iframe89892232323', '', 'Pass', 'run success', 'Chrome', '2018-03-08 11:25:29', '')
2018-03-08 11:25:29,565 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 11:25:29,565 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：审批流的链接, 步序：3, 操作：点击， 输入参数：，预期结果：）
2018-03-08 11:25:29,565 test_case_step.py[line: 38] INFO: 正在执行最普通的元素操作
2018-03-08 11:25:29,566 test_case_step.py[line: 42] INFO: 正在对选择器：selector1: xpath=html/body/div[1]/div/div/div[2]/div/div/div/div[2]/div/div[1]/ul/li[1]/div[1]，selector2:  做数据转换处理
2018-03-08 11:25:29,566 test_case_step.py[line: 45] INFO: 转换后的选择器：selector1: xpath=html/body/div[1]/div/div/div[2]/div/div/div/div[2]/div/div[1]/ul/li[1]/div[1]，selector2: 
2018-03-08 11:25:29,566 test_case_step.py[line: 47] INFO: 开始对步骤中的元素操作进行操作
2018-03-08 11:25:29,566 test_case_step.py[line: 127] INFO: 操作：点击
2018-03-08 11:25:29,566 test_case_step.py[line: 202] INFO: 开始根据元素定位器：xpath=html/body/div[1]/div/div/div[2]/div/div/div/div[2]/div/div[1]/ul/li[1]/div[1] 自定位元素
2018-03-08 11:25:29,566 test_case_step.py[line: 215] INFO: find_element_by_xpath：html/body/div[1]/div/div/div[2]/div/div/div/div[2]/div/div[1]/ul/li[1]/div[1]
2018-03-08 11:25:29,624 test_case_step.py[line: 188] INFO: 找到元素：<selenium.webdriver.remote.webelement.WebElement (session="1405150b2b37979911f1a321b4f4a1e6", element="0.4057524515008917-1")>
2018-03-08 11:25:29,790 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 11:25:29,791 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 18, 1520479520, 3, '审批流的链接', '点击', '', '', 'Pass', '点击成功', 'Chrome', '2018-03-08 11:25:29', '')
2018-03-08 11:25:29,799 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 11:25:29,799 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：4, 操作：切换到新的窗口， 输入参数：，预期结果：）
2018-03-08 11:25:29,800 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 11:25:29,800 test_case_step.py[line: 88] INFO: 执行函数：切换到新的窗口
2018-03-08 11:25:29,888 seleniumutil.py[line: 85] INFO: 切换到新的窗口成功:CDwindow-(9519EC13B673C11363E285482826F39C)
2018-03-08 11:25:29,888 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 11:25:29,889 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 18, 1520479520, 4, '', '切换到新的窗口', '', '', 'Pass', '切换到新窗口成功', 'Chrome', '2018-03-08 11:25:29', '')
2018-03-08 11:25:29,892 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 11:25:29,892 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：5, 操作：等待， 输入参数：5，预期结果：）
2018-03-08 11:25:29,892 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 11:25:29,893 test_case_step.py[line: 88] INFO: 执行函数：等待
2018-03-08 11:25:29,893 test_case_step.py[line: 91] INFO: 正在对输入参数:5 进行参数处理
2018-03-08 11:25:29,893 test_case_step.py[line: 105] INFO: 等待5秒
2018-03-08 11:25:34,894 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 11:25:34,894 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 18, 1520479520, 5, '', '等待', '5', '', 'Pass', 'run success', 'Chrome', '2018-03-08 11:25:29', '')
2018-03-08 11:25:34,899 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 11:25:34,899 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：审批流的同意按钮, 步序：6, 操作：点击， 输入参数：，预期结果：）
2018-03-08 11:25:34,899 test_case_step.py[line: 38] INFO: 正在执行最普通的元素操作
2018-03-08 11:25:34,899 test_case_step.py[line: 42] INFO: 正在对选择器：selector1: xpath=//*[@id=&quot;btnAgree&quot;]，selector2:  做数据转换处理
2018-03-08 11:25:34,899 test_case_step.py[line: 45] INFO: 转换后的选择器：selector1: xpath=//*[@id="btnAgree"]，selector2: 
2018-03-08 11:25:34,899 test_case_step.py[line: 47] INFO: 开始对步骤中的元素操作进行操作
2018-03-08 11:25:34,899 test_case_step.py[line: 127] INFO: 操作：点击
2018-03-08 11:25:34,900 test_case_step.py[line: 202] INFO: 开始根据元素定位器：xpath=//*[@id="btnAgree"] 自定位元素
2018-03-08 11:25:34,900 test_case_step.py[line: 215] INFO: find_element_by_xpath：//*[@id="btnAgree"]
2018-03-08 11:25:35,993 test_case_step.py[line: 188] INFO: 找到元素：<selenium.webdriver.remote.webelement.WebElement (session="1405150b2b37979911f1a321b4f4a1e6", element="0.8135515075515338-1")>
2018-03-08 11:25:36,260 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 11:25:36,260 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 18, 1520479520, 6, '审批流的同意按钮', '点击', '', '', 'Pass', '点击成功', 'Chrome', '2018-03-08 11:25:34', '')
2018-03-08 11:25:36,264 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 11:25:36,264 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：7, 操作：等待， 输入参数：5，预期结果：）
2018-03-08 11:25:36,265 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 11:25:36,265 test_case_step.py[line: 88] INFO: 执行函数：等待
2018-03-08 11:25:36,265 test_case_step.py[line: 91] INFO: 正在对输入参数:5 进行参数处理
2018-03-08 11:25:36,265 test_case_step.py[line: 105] INFO: 等待5秒
2018-03-08 11:25:41,265 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 11:25:41,265 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 18, 1520479520, 7, '', '等待', '5', '', 'Pass', 'run success', 'Chrome', '2018-03-08 11:25:36', '')
2018-03-08 11:25:41,269 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 11:25:41,269 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：切入到弹框的ifram, 步序：8, 操作：切换入iframe， 输入参数：//iframe[contains(@id,&quot;ligerwindow&quot;)]，预期结果：）
2018-03-08 11:25:41,269 test_case_step.py[line: 38] INFO: 正在执行最普通的元素操作
2018-03-08 11:25:41,269 test_case_step.py[line: 42] INFO: 正在对选择器：selector1: xpath=//iframe[contains(@id,&quot;ligerwindow&quot;)]，selector2:  做数据转换处理
2018-03-08 11:25:41,269 test_case_step.py[line: 45] INFO: 转换后的选择器：selector1: xpath=//iframe[contains(@id,"ligerwindow")]，selector2: 
2018-03-08 11:25:41,269 test_case_step.py[line: 47] INFO: 开始对步骤中的元素操作进行操作
2018-03-08 11:25:41,269 test_case_step.py[line: 127] INFO: 操作：切换入iframe
2018-03-08 11:25:41,270 test_case_step.py[line: 129] INFO: 正在对输入参数://iframe[contains(@id,&quot;ligerwindow&quot;)] 进行参数处理
2018-03-08 11:25:41,270 test_case_step.py[line: 133] INFO: 处理后的输入参数为:['//iframe[contains(@id,"ligerwindow")]'] 
2018-03-08 11:25:41,270 test_case_step.py[line: 180] ERROR: command为空,或者填写错误
2018-03-08 11:25:41,682 test_case_step.py[line: 272] INFO: 截图文件保存路径为：D:\python\webautotest\screentshot\tp3\tc18\tp3_tc18_step8_1520479520_20180308112541.png
2018-03-08 11:25:41,682 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 11:25:41,682 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 18, 1520479520, 8, '切入到弹框的ifram', '切换入iframe', '//iframe[contains(@id,&quot;ligerwindow&quot;)]', '', 'Fail', 'comman为空或者填写错误', 'Chrome', '2018-03-08 11:25:41', 'ftp://10.1.2.88/tp3_tc18_step8_1520479520_20180308112541.png')
2018-03-08 11:25:41,686 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 11:25:41,686 test_case.py[line: 46] INFO: 用例[id：18]步骤[步序：8] 运行失败，停止运行用例
2018-03-08 11:25:41,686 test_case.py[line: 58] INFO: 测试步骤执行完毕，正在记录用例运行结果到测试用例运行报表
2018-03-08 11:25:41,686 database.py[line: 58] INFO: query：INSERT INTO testcase_reporter(runHistoryId, browserType, testcaseId, testplanId, runTime, runResult) VALUES(%s, %s, %s, %s, %s, %s)  data：(1520479520, 'Chrome', 18, 3, '2018-03-08 11:25:24', 'Fail')
2018-03-08 11:25:41,689 test_plan.py[line: 65] INFO: ####################### 测试计划已运行完毕 #######################
2018-03-08 11:25:41,689 test_plan.py[line: 66] INFO: 正在统计测试计划执行的用例总数
2018-03-08 11:25:41,689 database.py[line: 88] INFO: query：SELECT count(testcaseId)  FROM testcase_reporter  WHERE runHistoryId = %s  data：(1520479520,)
2018-03-08 11:25:41,691 test_plan.py[line: 75] INFO: 正在统计测试计划执行成功的用例总数
2018-03-08 11:25:41,692 database.py[line: 88] INFO: query：SELECT count(testcaseId)  FROM testcase_reporter WHERE runHistoryId = %s AND runResult='Pass'  data：(1520479520,)
2018-03-08 11:25:41,694 test_plan.py[line: 85] INFO: 正在统计测试计划执行失败的用例总数
2018-03-08 11:25:41,694 database.py[line: 88] INFO: query：SELECT count(testcaseId)  FROM testcase_reporter WHERE runHistoryId = %s AND runResult='Fail'  data：(1520479520,)
2018-03-08 11:25:41,696 test_plan.py[line: 95] INFO: 正在统计测试计划执行被阻塞的用例总数
2018-03-08 11:25:41,696 database.py[line: 88] INFO: query：SELECT count(testcaseId)  FROM testcase_reporter WHERE runHistoryId = %s AND runResult='Block'  data：(1520479520,)
2018-03-08 11:25:41,699 test_plan.py[line: 105] INFO: 正在统计测试计划执行成功的用例
2018-03-08 11:25:41,699 database.py[line: 106] INFO: query：SELECT testcaseId  FROM testcase_reporter WHERE runHistoryId = %s AND runResult='Pass'  data：(1520479520,)
2018-03-08 11:25:41,702 test_plan.py[line: 115] INFO: 正在统计测试计划执行失败的用例
2018-03-08 11:25:41,702 database.py[line: 106] INFO: query：SELECT testcaseId  FROM testcase_reporter WHERE runHistoryId = %s AND runResult='Fail'  data：(1520479520,)
2018-03-08 11:25:41,704 test_plan.py[line: 125] INFO: 正在统计测试计划执行被阻塞的用例
2018-03-08 11:25:41,704 database.py[line: 106] INFO: query：SELECT testcaseId  FROM testcase_reporter WHERE runHistoryId = %s AND runResult='Block'  data：(1520479520,)
2018-03-08 11:25:41,706 test_plan.py[line: 130] INFO: 没找到计划执行被阻塞的用例
2018-03-08 11:25:41,707 test_plan.py[line: 151] INFO: 正在记录测试计划运行结果到测试计划报表
2018-03-08 11:25:41,707 database.py[line: 58] INFO: query：INSERT INTO testplan_reporter(testPlanId, testPlanName, runHistoryId, browserType, runTc_total, runPassedTc_total, runFailedTc_total,runBlockedTc_total, runPassedTc, runFailedTc, runBlockedTc, runTime)VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, '购买记录客服审批', 1520479520, 'Chrome', 2, 1, 1, 0, '(13,)', '(18,)', '', '2018-03-08 11:25:20')
2018-03-08 11:25:41,710 main.py[line: 79] INFO: 计划运行完成，正在关闭浏览器
2018-03-08 11:25:44,809 main.py[line: 82] INFO: ####################### 测试结束 #######################
2018-03-08 11:25:44,809 main.py[line: 126] INFO: 运行完成,准备生成测试报告
2018-03-08 11:25:44,809 htmlreporter.py[line: 35] INFO: 正在查询测试计划执行统计信息（执行总数，成功数，失败数，被阻塞数）
2018-03-08 11:25:44,809 database.py[line: 88] INFO: query：SELECT runTc_total, runPassedTc_total, runFailedTc_total, runBlockedTc_total, testPlanName, testPlanId FROM testplan_reporter WHERE runHistoryId = %s  data：(1520479520,)
2018-03-08 11:25:44,814 htmlreporter.py[line: 111] INFO: 正在查询测试计划：购买记录客服审批 运行的的测试用例
2018-03-08 11:25:44,814 database.py[line: 106] INFO: query：SELECT id, runHistoryId, testcaseId, testplanId, browserType, runResult, runTime FROM testcase_reporter WHERE testplanId=%s AND runHistoryId = %s ORDER BY id ASC  data：('3', 1520479520)
2018-03-08 11:25:44,819 htmlreporter.py[line: 121] INFO: 正在记录测试计划[名称：购买记录客服审批]的测试用例运行结果到测试报告
2018-03-08 11:25:44,820 database.py[line: 88] INFO: query：SELECT test_name FROM testcases WHERE id=%s  data：(13,)
2018-03-08 11:25:44,823 database.py[line: 88] INFO: query：SELECT test_name FROM testcases WHERE id=%s  data：(18,)
2018-03-08 11:25:44,826 htmlreporter.py[line: 151] INFO: 正在查询测试计划：购买记录客服审批 运行的的测试用例
2018-03-08 11:25:44,826 database.py[line: 106] INFO: query：SELECT id, runHistoryId, testcaseId, testplanId, browserType, runResult, runTime  FROM testcase_reporter WHERE testplanId=%s AND runHistoryId = %s ORDER BY id ASC  data：('3', 1520479520)
2018-03-08 11:25:44,830 htmlreporter.py[line: 168] INFO: 正在查询测试用例[id=13, name=客服登录]对应的测试步骤执行明细
2018-03-08 11:25:44,831 database.py[line: 106] INFO: query：SELECT id, stepOrder, runHistoryId, elementName, command, inparams, stepRunResult, expectedResult, stepRunResultDesc, browserType, runTime, screenshotUrl FROM case_step_run_detail WHERE testcaseId=%s AND runHistoryId = %s  ORDER BY id ASC  data：('13', 1520479520)
2018-03-08 11:25:44,837 htmlreporter.py[line: 168] INFO: 正在查询测试用例[id=18, name=购买记录客服审批]对应的测试步骤执行明细
2018-03-08 11:25:44,837 database.py[line: 106] INFO: query：SELECT id, stepOrder, runHistoryId, elementName, command, inparams, stepRunResult, expectedResult, stepRunResultDesc, browserType, runTime, screenshotUrl FROM case_step_run_detail WHERE testcaseId=%s AND runHistoryId = %s  ORDER BY id ASC  data：('18', 1520479520)
2018-03-08 11:25:44,844 htmlreporter.py[line: 211] INFO: 正在设置测试报告结果文件名
2018-03-08 11:25:44,844 htmlreporter.py[line: 222] INFO: 测试报告文件名所在路径为：E:\Projects\report\test_report20180308112544.html
2018-03-08 11:25:44,844 htmlreporter.py[line: 214] INFO: 正在生产测试报告
2018-03-08 11:25:44,846 main.py[line: 130] INFO: 生成测试报告成功
2018-03-08 11:25:44,846 main.py[line: 134] INFO: 运行完成,准备上传截图
2018-03-08 11:25:44,846 ftp.py[line: 42] INFO: is connecting to ftp server 10.1.2.88 on 21
2018-03-08 11:25:44,853 ftp.py[line: 47] INFO: ready to login ftp server
2018-03-08 11:25:44,985 ftp.py[line: 49] INFO: login ftp server successfully
2018-03-08 11:25:44,985 main.py[line: 138] INFO: 正在获取要上传的截图文件
2018-03-08 11:25:44,987 main.py[line: 146] INFO: 正在上传图片到ftp服务器
2018-03-08 11:25:44,987 main.py[line: 150] INFO: 正在上传文件：d:\python\webautotest\screentshot\tp3\tc18\tp3_tc18_step8_1520479520_20180308112541.png 到远程服务器：tp3_tc18_step8_1520479520_20180308112541.png
2018-03-08 11:25:45,011 ftp.py[line: 106] INFO: 文件：d:\python\webautotest\screentshot\tp3\tc18\tp3_tc18_step8_1520479520_20180308112541.png 已经上传到ftp
2018-03-08 11:25:45,013 ftp.py[line: 55] INFO: close ftp connection successfully
2018-03-08 11:25:45,013 main.py[line: 156] INFO: 运行完成，准备发送邮件
2018-03-08 11:25:45,221 main.py[line: 162] INFO: 邮件标题为：Hi，附件为web自动化测试报告，烦请查阅邮件内容为：{'E:\\Projects\\report\\test_report20180308112544.html'}，待发送邮件附件有 【测试报告】web自动化测试报告20180308112544
2018-03-08 11:25:45,221 main.py[line: 163] INFO: 正在发送测试报告邮件...
2018-03-08 11:25:45,961 main.py[line: 166] INFO: 发送邮件成功
2018-03-08 11:25:45,962 main.py[line: 172] INFO: 正在关闭数据库
2018-03-08 11:37:50,226 globalvar.py[line: 23] INFO: #####################正在初始化全局配置#####################
2018-03-08 11:37:50,226 globalvar.py[line: 24] INFO: 正在选择数据库运行环境和站点运行环境
2018-03-08 11:37:50,226 globalvar.py[line: 34] INFO: 在测试环境执行测试，正在获取测试环境的web site
2018-03-08 11:37:50,227 globalvar.py[line: 45] INFO: 在测试环境执行测试，正在获取测试环境的数据库
2018-03-08 11:37:50,236 globalvar.py[line: 55] INFO: 正在进行ftp配置
2018-03-08 11:37:50,243 globalvar.py[line: 62] INFO: 正在获取运行模式
2018-03-08 11:37:50,243 globalvar.py[line: 66] INFO: 运行模式为:<module 'publicpkg.runmode' from 'D:\\python\\webautotest\\publicpkg\\runmode.py'>
2018-03-08 11:37:50,243 globalvar.py[line: 69] INFO: 测试计划配置:[3]
2018-03-08 11:37:50,243 globalvar.py[line: 72] INFO: 全局初始化用例配置:[123]
2018-03-08 11:37:50,244 globalvar.py[line: 75] INFO: 正在获取浏览器配置
2018-03-08 11:37:50,244 globalvar.py[line: 79] INFO: 获取需要进行测试的浏览器有：['Chrome']
2018-03-08 11:37:50,244 globalvar.py[line: 82] INFO: 正在初始化其它工具对象
2018-03-08 11:37:50,244 globalvar.py[line: 86] INFO: 正在进行截图基路径配置
2018-03-08 11:37:50,244 globalvar.py[line: 91] INFO: 截图报存基路径为：D:\python\webautotest\screentshot\
2018-03-08 11:37:50,245 globalvar.py[line: 95] INFO: 正在进行测试报告配置
2018-03-08 11:37:50,245 globalvar.py[line: 96] INFO: --1、读取测试报告路径及文件名
2018-03-08 11:37:50,245 globalvar.py[line: 101] INFO: --2、构造测试报告
2018-03-08 11:37:50,245 globalvar.py[line: 104] INFO: --3、设置报告生成路径
2018-03-08 11:37:50,245 globalvar.py[line: 107] INFO: #####################初始化全局配置完毕#####################
2018-03-08 11:37:50,249 main.py[line: 61] INFO: ####################### 开始测试 #######################
2018-03-08 11:37:56,406 test_plan.py[line: 28] INFO: 正在获取本次测试需要执行的测试用列ID列表，测试计划名称
2018-03-08 11:37:56,407 database.py[line: 88] INFO: query：SELECT testcase_list, test_round_name FROM testcase_runround WHERE id = %s   data：(3,)
2018-03-08 11:37:56,410 test_plan.py[line: 44] INFO: 获取到的的测试用例id列表为: [13, 18]
2018-03-08 11:37:56,411 test_plan.py[line: 48] INFO: ####################### 开始运行测试计划 #######################
2018-03-08 11:37:56,411 test_case.py[line: 17] INFO: 正在构造并初始化测试用例对象[id=13]
2018-03-08 11:37:56,411 test_case.py[line: 26] INFO: 初始测试用例完毕
2018-03-08 11:37:56,411 test_case.py[line: 17] INFO: 正在构造并初始化测试用例对象[id=18]
2018-03-08 11:37:56,411 test_case.py[line: 26] INFO: 初始测试用例完毕
2018-03-08 11:37:56,412 test_case.py[line: 70] INFO: 正在获取测试用例所有测试步骤
2018-03-08 11:37:56,412 database.py[line: 106] INFO: query：(SELECT a.StepOrder AS StepOrder,c.PageName AS PageName,b.ElementName AS ElementName,b.ElementSelector AS ElementSelector,b.ElementSelector02 AS ElementSelector02,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,a.compid AS compid,a.compFolderid AS comFolderid,'' AS comName FROM testcases_steps AS a, page_elements AS b,pagesobject AS c WHERE a.TestcaseID = %s AND a.ElementId = b.Id AND b.PageId = c.Id)UNION ALL(SELECT a.steporder AS steporder,'' AS PageName,'' AS ElementSelector,'' AS ElementSelector02,'' AS ElementName,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,a.compid AS compid,a.compFolderid AS comFolderid,tc.test_name AS comName FROM testcases_steps AS a, testcases AS tc WHERE a.TestcaseID = %s AND a.compid = tc.id)UNION ALL(SELECT a.steporder AS steporder,'' AS PageName,'' AS ElementSelector,'' AS ElementSelector02,'' AS ElementName,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,'' AS compid,'' AS comFolderid,'' AS comName FROM testcases_steps AS a WHERE a.TestcaseID = %s AND NOT ISNULL(a.stepOrder)AND NOT ISNULL(a.Command) AND ISNULL(compid) AND ElementId='')ORDER BY steporder  data：(13, 13, 13)
2018-03-08 11:37:56,418 test_case.py[line: 123] INFO: 获取的测试步骤为： [(1, '', '', '', '', '断言', '深圳市金斧子网络科技有限公司-ERP', '', '', '', ''), (2, '用户登录', '用户名', 'xpath=//*[@name=&quot;username&quot;]', '', '输入', 'defang3', '', None, None, ''), (3, '用户登录', '密码', 'xpath=//*[@name=&quot;password&quot;]', '', '输入', '123', '', None, None, ''), (4, '用户登录', '登录', 'xpath=//*[@class=&quot;submit_wrap&quot;]', '', '点击', '', '', None, None, ''), (5, '', '', '', '', '等待', '3', '', '', '', ''), (6, '', '', '', '', '断言', '德芳运维', '', '', '', '')]
2018-03-08 11:37:56,418 test_case.py[line: 41] INFO: 开始执行测试步骤
2018-03-08 11:37:56,418 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：1, 操作：断言， 输入参数：深圳市金斧子网络科技有限公司-ERP，预期结果：）
2018-03-08 11:37:56,418 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 11:37:56,418 test_case_step.py[line: 88] INFO: 执行函数：断言
2018-03-08 11:37:56,418 test_case_step.py[line: 91] INFO: 正在对输入参数:深圳市金斧子网络科技有限公司-ERP 进行参数处理
2018-03-08 11:37:56,419 test_case_step.py[line: 118] INFO: 断言的标题为:深圳市金斧子网络科技有限公司-ERP
2018-03-08 11:37:56,425 seleniumutil.py[line: 161] INFO: 断言信息为：深圳市金斧子网络科技有限公司-ERP
2018-03-08 11:37:56,425 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 11:37:56,425 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 13, 1520480276, 1, '', '断言', '深圳市金斧子网络科技有限公司-ERP', '', 'Pass', '断言成功', 'Chrome', '2018-03-08 11:37:56', '')
2018-03-08 11:37:56,430 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 11:37:56,430 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：用户名, 步序：2, 操作：输入， 输入参数：defang3，预期结果：）
2018-03-08 11:37:56,430 test_case_step.py[line: 38] INFO: 正在执行最普通的元素操作
2018-03-08 11:37:56,430 test_case_step.py[line: 42] INFO: 正在对选择器：selector1: xpath=//*[@name=&quot;username&quot;]，selector2:  做数据转换处理
2018-03-08 11:37:56,430 test_case_step.py[line: 45] INFO: 转换后的选择器：selector1: xpath=//*[@name="username"]，selector2: 
2018-03-08 11:37:56,430 test_case_step.py[line: 47] INFO: 开始对步骤中的元素操作进行操作
2018-03-08 11:37:56,430 test_case_step.py[line: 130] INFO: 操作：输入
2018-03-08 11:37:56,430 test_case_step.py[line: 132] INFO: 正在对输入参数:defang3 进行参数处理
2018-03-08 11:37:56,430 test_case_step.py[line: 136] INFO: 处理后的输入参数为:['defang3'] 
2018-03-08 11:37:56,430 test_case_step.py[line: 205] INFO: 开始根据元素定位器：xpath=//*[@name="username"] 自定位元素
2018-03-08 11:37:56,430 test_case_step.py[line: 218] INFO: find_element_by_xpath：//*[@name="username"]
2018-03-08 11:37:56,448 test_case_step.py[line: 191] INFO: 找到元素：<selenium.webdriver.remote.webelement.WebElement (session="998a5874c625619b73b27eaf0ab9a29a", element="0.8057357862624628-1")>
2018-03-08 11:37:56,513 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 11:37:56,514 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 13, 1520480276, 2, '用户名', '输入', 'defang3', '', 'Pass', '输入数据成功', 'Chrome', '2018-03-08 11:37:56', '')
2018-03-08 11:37:56,518 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 11:37:56,518 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：密码, 步序：3, 操作：输入， 输入参数：123，预期结果：）
2018-03-08 11:37:56,518 test_case_step.py[line: 38] INFO: 正在执行最普通的元素操作
2018-03-08 11:37:56,518 test_case_step.py[line: 42] INFO: 正在对选择器：selector1: xpath=//*[@name=&quot;password&quot;]，selector2:  做数据转换处理
2018-03-08 11:37:56,518 test_case_step.py[line: 45] INFO: 转换后的选择器：selector1: xpath=//*[@name="password"]，selector2: 
2018-03-08 11:37:56,518 test_case_step.py[line: 47] INFO: 开始对步骤中的元素操作进行操作
2018-03-08 11:37:56,518 test_case_step.py[line: 130] INFO: 操作：输入
2018-03-08 11:37:56,519 test_case_step.py[line: 132] INFO: 正在对输入参数:123 进行参数处理
2018-03-08 11:37:56,519 test_case_step.py[line: 136] INFO: 处理后的输入参数为:['123'] 
2018-03-08 11:37:56,519 test_case_step.py[line: 205] INFO: 开始根据元素定位器：xpath=//*[@name="password"] 自定位元素
2018-03-08 11:37:56,519 test_case_step.py[line: 218] INFO: find_element_by_xpath：//*[@name="password"]
2018-03-08 11:37:56,534 test_case_step.py[line: 191] INFO: 找到元素：<selenium.webdriver.remote.webelement.WebElement (session="998a5874c625619b73b27eaf0ab9a29a", element="0.8057357862624628-2")>
2018-03-08 11:37:56,575 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 11:37:56,575 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 13, 1520480276, 3, '密码', '输入', '123', '', 'Pass', '输入数据成功', 'Chrome', '2018-03-08 11:37:56', '')
2018-03-08 11:37:56,580 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 11:37:56,580 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：登录, 步序：4, 操作：点击， 输入参数：，预期结果：）
2018-03-08 11:37:56,580 test_case_step.py[line: 38] INFO: 正在执行最普通的元素操作
2018-03-08 11:37:56,580 test_case_step.py[line: 42] INFO: 正在对选择器：selector1: xpath=//*[@class=&quot;submit_wrap&quot;]，selector2:  做数据转换处理
2018-03-08 11:37:56,580 test_case_step.py[line: 45] INFO: 转换后的选择器：selector1: xpath=//*[@class="submit_wrap"]，selector2: 
2018-03-08 11:37:56,580 test_case_step.py[line: 47] INFO: 开始对步骤中的元素操作进行操作
2018-03-08 11:37:56,580 test_case_step.py[line: 130] INFO: 操作：点击
2018-03-08 11:37:56,581 test_case_step.py[line: 205] INFO: 开始根据元素定位器：xpath=//*[@class="submit_wrap"] 自定位元素
2018-03-08 11:37:56,581 test_case_step.py[line: 218] INFO: find_element_by_xpath：//*[@class="submit_wrap"]
2018-03-08 11:37:56,598 test_case_step.py[line: 191] INFO: 找到元素：<selenium.webdriver.remote.webelement.WebElement (session="998a5874c625619b73b27eaf0ab9a29a", element="0.8057357862624628-3")>
2018-03-08 11:37:57,920 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 11:37:57,921 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 13, 1520480276, 4, '登录', '点击', '', '', 'Pass', '点击成功', 'Chrome', '2018-03-08 11:37:56', '')
2018-03-08 11:37:57,924 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 11:37:57,925 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：5, 操作：等待， 输入参数：3，预期结果：）
2018-03-08 11:37:57,925 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 11:37:57,925 test_case_step.py[line: 88] INFO: 执行函数：等待
2018-03-08 11:37:57,925 test_case_step.py[line: 91] INFO: 正在对输入参数:3 进行参数处理
2018-03-08 11:37:57,925 test_case_step.py[line: 108] INFO: 等待3秒
2018-03-08 11:38:00,926 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 11:38:00,926 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 13, 1520480276, 5, '', '等待', '3', '', 'Pass', 'run success', 'Chrome', '2018-03-08 11:37:57', '')
2018-03-08 11:38:00,930 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 11:38:00,930 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：6, 操作：断言， 输入参数：德芳运维，预期结果：）
2018-03-08 11:38:00,930 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 11:38:00,930 test_case_step.py[line: 88] INFO: 执行函数：断言
2018-03-08 11:38:00,930 test_case_step.py[line: 91] INFO: 正在对输入参数:德芳运维 进行参数处理
2018-03-08 11:38:00,930 test_case_step.py[line: 118] INFO: 断言的标题为:德芳运维
2018-03-08 11:38:00,943 seleniumutil.py[line: 161] INFO: 断言信息为：德芳运维
2018-03-08 11:38:00,943 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 11:38:00,943 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 13, 1520480276, 6, '', '断言', '德芳运维', '', 'Pass', '断言成功', 'Chrome', '2018-03-08 11:38:0', '')
2018-03-08 11:38:00,947 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 11:38:00,947 test_case.py[line: 58] INFO: 测试步骤执行完毕，正在记录用例运行结果到测试用例运行报表
2018-03-08 11:38:00,947 database.py[line: 58] INFO: query：INSERT INTO testcase_reporter(runHistoryId, browserType, testcaseId, testplanId, runTime, runResult) VALUES(%s, %s, %s, %s, %s, %s)  data：(1520480276, 'Chrome', 13, 3, '2018-03-08 11:37:56', 'Pass')
2018-03-08 11:38:00,951 test_case.py[line: 70] INFO: 正在获取测试用例所有测试步骤
2018-03-08 11:38:00,951 database.py[line: 106] INFO: query：(SELECT a.StepOrder AS StepOrder,c.PageName AS PageName,b.ElementName AS ElementName,b.ElementSelector AS ElementSelector,b.ElementSelector02 AS ElementSelector02,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,a.compid AS compid,a.compFolderid AS comFolderid,'' AS comName FROM testcases_steps AS a, page_elements AS b,pagesobject AS c WHERE a.TestcaseID = %s AND a.ElementId = b.Id AND b.PageId = c.Id)UNION ALL(SELECT a.steporder AS steporder,'' AS PageName,'' AS ElementSelector,'' AS ElementSelector02,'' AS ElementName,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,a.compid AS compid,a.compFolderid AS comFolderid,tc.test_name AS comName FROM testcases_steps AS a, testcases AS tc WHERE a.TestcaseID = %s AND a.compid = tc.id)UNION ALL(SELECT a.steporder AS steporder,'' AS PageName,'' AS ElementSelector,'' AS ElementSelector02,'' AS ElementName,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,'' AS compid,'' AS comFolderid,'' AS comName FROM testcases_steps AS a WHERE a.TestcaseID = %s AND NOT ISNULL(a.stepOrder)AND NOT ISNULL(a.Command) AND ISNULL(compid) AND ElementId='')ORDER BY steporder  data：(18, 18, 18)
2018-03-08 11:38:00,957 test_case.py[line: 123] INFO: 获取的测试步骤为： [(1, '', '', '', '', '等待', '5', '', '', '', ''), (2, '', '', '', '', '切换入iframe', 'iframe89892232323', '', '', '', ''), (3, '审批流', '审批流的链接', 'xpath=html/body/div[1]/div/div/div[2]/div/div/div/div[2]/div/div[1]/ul/li[1]/div[1]', '', '点击', '', '', None, None, ''), (4, '', '', '', '', '切换到新的窗口', '', '', '', '', ''), (5, '', '', '', '', '等待', '5', '', '', '', ''), (6, '审批流', '审批流的同意按钮', 'xpath=//*[@id=&quot;btnAgree&quot;]', '', '点击', '', '', None, None, ''), (7, '', '', '', '', '等待', '5', '', '', '', ''), (8, '', '', '', '', '切换入xpathifram', '//iframe[contains(@id,&quot;ligerwindow&quot;)]', '', '', '', ''), (9, '审批流', '填写意见的确定按钮', 'xpath=//*[@id=&quot;dataFormSave&quot;]', '', '点击', '', '', None, None, ''), (10, '', '', '', '', '等待', '5', '', '', '', ''), (11, '', '', '', '', '断言文本提示信息', '执行任务成功!', '', '', '', ''), (12, '', '', '', '', '等待', '5', '', '', '', ''), (13, '审批流', '同意的确定按钮', 'xpath=//*[@class=&quot;l-dialog-btn-inner&quot;]', '', '点击', '', '', None, None, '')]
2018-03-08 11:38:00,957 test_case.py[line: 41] INFO: 开始执行测试步骤
2018-03-08 11:38:00,957 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：1, 操作：等待， 输入参数：5，预期结果：）
2018-03-08 11:38:00,957 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 11:38:00,957 test_case_step.py[line: 88] INFO: 执行函数：等待
2018-03-08 11:38:00,957 test_case_step.py[line: 91] INFO: 正在对输入参数:5 进行参数处理
2018-03-08 11:38:00,958 test_case_step.py[line: 108] INFO: 等待5秒
2018-03-08 11:38:05,959 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 11:38:05,959 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 18, 1520480276, 1, '', '等待', '5', '', 'Pass', 'run success', 'Chrome', '2018-03-08 11:38:0', '')
2018-03-08 11:38:05,963 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 11:38:05,963 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：2, 操作：切换入iframe， 输入参数：iframe89892232323，预期结果：）
2018-03-08 11:38:05,963 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 11:38:05,963 test_case_step.py[line: 88] INFO: 执行函数：切换入iframe
2018-03-08 11:38:05,963 test_case_step.py[line: 91] INFO: 正在对输入参数:iframe89892232323 进行参数处理
2018-03-08 11:38:05,980 seleniumutil.py[line: 67] INFO: 切换至frame（id/name/xpath = iframe89892232323）成功
2018-03-08 11:38:05,980 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 11:38:05,981 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 18, 1520480276, 2, '', '切换入iframe', 'iframe89892232323', '', 'Pass', 'run success', 'Chrome', '2018-03-08 11:38:5', '')
2018-03-08 11:38:05,984 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 11:38:05,984 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：审批流的链接, 步序：3, 操作：点击， 输入参数：，预期结果：）
2018-03-08 11:38:05,984 test_case_step.py[line: 38] INFO: 正在执行最普通的元素操作
2018-03-08 11:38:05,984 test_case_step.py[line: 42] INFO: 正在对选择器：selector1: xpath=html/body/div[1]/div/div/div[2]/div/div/div/div[2]/div/div[1]/ul/li[1]/div[1]，selector2:  做数据转换处理
2018-03-08 11:38:05,984 test_case_step.py[line: 45] INFO: 转换后的选择器：selector1: xpath=html/body/div[1]/div/div/div[2]/div/div/div/div[2]/div/div[1]/ul/li[1]/div[1]，selector2: 
2018-03-08 11:38:05,984 test_case_step.py[line: 47] INFO: 开始对步骤中的元素操作进行操作
2018-03-08 11:38:05,985 test_case_step.py[line: 130] INFO: 操作：点击
2018-03-08 11:38:05,985 test_case_step.py[line: 205] INFO: 开始根据元素定位器：xpath=html/body/div[1]/div/div/div[2]/div/div/div/div[2]/div/div[1]/ul/li[1]/div[1] 自定位元素
2018-03-08 11:38:05,985 test_case_step.py[line: 218] INFO: find_element_by_xpath：html/body/div[1]/div/div/div[2]/div/div/div/div[2]/div/div[1]/ul/li[1]/div[1]
2018-03-08 11:38:06,000 test_case_step.py[line: 191] INFO: 找到元素：<selenium.webdriver.remote.webelement.WebElement (session="998a5874c625619b73b27eaf0ab9a29a", element="0.8633473458655951-1")>
2018-03-08 11:38:06,149 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 11:38:06,150 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 18, 1520480276, 3, '审批流的链接', '点击', '', '', 'Pass', '点击成功', 'Chrome', '2018-03-08 11:38:5', '')
2018-03-08 11:38:06,156 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 11:38:06,156 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：4, 操作：切换到新的窗口， 输入参数：，预期结果：）
2018-03-08 11:38:06,156 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 11:38:06,156 test_case_step.py[line: 88] INFO: 执行函数：切换到新的窗口
2018-03-08 11:38:06,190 seleniumutil.py[line: 95] INFO: 切换到新的窗口成功:CDwindow-(65B199AF9D09F5CC4A86800DEEDABD)
2018-03-08 11:38:06,190 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 11:38:06,190 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 18, 1520480276, 4, '', '切换到新的窗口', '', '', 'Pass', '切换到新窗口成功', 'Chrome', '2018-03-08 11:38:6', '')
2018-03-08 11:38:06,195 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 11:38:06,195 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：5, 操作：等待， 输入参数：5，预期结果：）
2018-03-08 11:38:06,195 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 11:38:06,195 test_case_step.py[line: 88] INFO: 执行函数：等待
2018-03-08 11:38:06,195 test_case_step.py[line: 91] INFO: 正在对输入参数:5 进行参数处理
2018-03-08 11:38:06,196 test_case_step.py[line: 108] INFO: 等待5秒
2018-03-08 11:38:11,196 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 11:38:11,196 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 18, 1520480276, 5, '', '等待', '5', '', 'Pass', 'run success', 'Chrome', '2018-03-08 11:38:6', '')
2018-03-08 11:38:11,200 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 11:38:11,200 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：审批流的同意按钮, 步序：6, 操作：点击， 输入参数：，预期结果：）
2018-03-08 11:38:11,201 test_case_step.py[line: 38] INFO: 正在执行最普通的元素操作
2018-03-08 11:38:11,201 test_case_step.py[line: 42] INFO: 正在对选择器：selector1: xpath=//*[@id=&quot;btnAgree&quot;]，selector2:  做数据转换处理
2018-03-08 11:38:11,201 test_case_step.py[line: 45] INFO: 转换后的选择器：selector1: xpath=//*[@id="btnAgree"]，selector2: 
2018-03-08 11:38:11,201 test_case_step.py[line: 47] INFO: 开始对步骤中的元素操作进行操作
2018-03-08 11:38:11,201 test_case_step.py[line: 130] INFO: 操作：点击
2018-03-08 11:38:11,201 test_case_step.py[line: 205] INFO: 开始根据元素定位器：xpath=//*[@id="btnAgree"] 自定位元素
2018-03-08 11:38:11,201 test_case_step.py[line: 218] INFO: find_element_by_xpath：//*[@id="btnAgree"]
2018-03-08 11:38:12,294 test_case_step.py[line: 191] INFO: 找到元素：<selenium.webdriver.remote.webelement.WebElement (session="998a5874c625619b73b27eaf0ab9a29a", element="0.7412163135603491-1")>
2018-03-08 11:38:12,577 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 11:38:12,577 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 18, 1520480276, 6, '审批流的同意按钮', '点击', '', '', 'Pass', '点击成功', 'Chrome', '2018-03-08 11:38:11', '')
2018-03-08 11:38:12,582 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 11:38:12,582 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：7, 操作：等待， 输入参数：5，预期结果：）
2018-03-08 11:38:12,582 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 11:38:12,583 test_case_step.py[line: 88] INFO: 执行函数：等待
2018-03-08 11:38:12,583 test_case_step.py[line: 91] INFO: 正在对输入参数:5 进行参数处理
2018-03-08 11:38:12,583 test_case_step.py[line: 108] INFO: 等待5秒
2018-03-08 11:38:17,584 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 11:38:17,584 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 18, 1520480276, 7, '', '等待', '5', '', 'Pass', 'run success', 'Chrome', '2018-03-08 11:38:12', '')
2018-03-08 11:38:17,588 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 11:38:17,588 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：8, 操作：切换入xpathifram， 输入参数：//iframe[contains(@id,&quot;ligerwindow&quot;)]，预期结果：）
2018-03-08 11:38:17,589 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 11:38:17,589 test_case_step.py[line: 88] INFO: 执行函数：切换入xpathifram
2018-03-08 11:38:17,589 test_case_step.py[line: 91] INFO: 正在对输入参数://iframe[contains(@id,&quot;ligerwindow&quot;)] 进行参数处理
2018-03-08 11:38:17,643 seleniumutil.py[line: 77] INFO: 切换至frame（xpath = //iframe[contains(@id,"ligerwindow")]）成功
2018-03-08 11:38:17,643 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 11:38:17,643 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 18, 1520480276, 8, '', '切换入xpathifram', '//iframe[contains(@id,&quot;ligerwindow&quot;)]', '', 'Pass', 'run success', 'Chrome', '2018-03-08 11:38:17', '')
2018-03-08 11:38:17,647 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 11:38:17,647 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：填写意见的确定按钮, 步序：9, 操作：点击， 输入参数：，预期结果：）
2018-03-08 11:38:17,647 test_case_step.py[line: 38] INFO: 正在执行最普通的元素操作
2018-03-08 11:38:17,647 test_case_step.py[line: 42] INFO: 正在对选择器：selector1: xpath=//*[@id=&quot;dataFormSave&quot;]，selector2:  做数据转换处理
2018-03-08 11:38:17,647 test_case_step.py[line: 45] INFO: 转换后的选择器：selector1: xpath=//*[@id="dataFormSave"]，selector2: 
2018-03-08 11:38:17,647 test_case_step.py[line: 47] INFO: 开始对步骤中的元素操作进行操作
2018-03-08 11:38:17,647 test_case_step.py[line: 130] INFO: 操作：点击
2018-03-08 11:38:17,647 test_case_step.py[line: 205] INFO: 开始根据元素定位器：xpath=//*[@id="dataFormSave"] 自定位元素
2018-03-08 11:38:17,647 test_case_step.py[line: 218] INFO: find_element_by_xpath：//*[@id="dataFormSave"]
2018-03-08 11:38:17,666 test_case_step.py[line: 191] INFO: 找到元素：<selenium.webdriver.remote.webelement.WebElement (session="998a5874c625619b73b27eaf0ab9a29a", element="0.27287170203582-1")>
2018-03-08 11:38:17,846 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 11:38:17,847 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 18, 1520480276, 9, '填写意见的确定按钮', '点击', '', '', 'Pass', '点击成功', 'Chrome', '2018-03-08 11:38:17', '')
2018-03-08 11:38:17,853 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 11:38:17,853 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：10, 操作：等待， 输入参数：5，预期结果：）
2018-03-08 11:38:17,854 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 11:38:17,854 test_case_step.py[line: 88] INFO: 执行函数：等待
2018-03-08 11:38:17,854 test_case_step.py[line: 91] INFO: 正在对输入参数:5 进行参数处理
2018-03-08 11:38:17,854 test_case_step.py[line: 108] INFO: 等待5秒
2018-03-08 11:38:22,854 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 11:38:22,854 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 18, 1520480276, 10, '', '等待', '5', '', 'Pass', 'run success', 'Chrome', '2018-03-08 11:38:17', '')
2018-03-08 11:38:22,858 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 11:38:22,858 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：11, 操作：断言文本提示信息， 输入参数：执行任务成功!，预期结果：）
2018-03-08 11:38:22,858 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 11:38:22,858 test_case_step.py[line: 88] INFO: 执行函数：断言文本提示信息
2018-03-08 11:38:22,858 test_case_step.py[line: 91] INFO: 正在对输入参数:执行任务成功! 进行参数处理
2018-03-08 11:38:22,902 seleniumutil.py[line: 173] INFO: 断言文本提示信息为:执行任务成功!
2018-03-08 11:38:22,902 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 11:38:22,902 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 18, 1520480276, 11, '', '断言文本提示信息', '执行任务成功!', '', 'Pass', '断言文本提示信息成功!', 'Chrome', '2018-03-08 11:38:22', '')
2018-03-08 11:38:22,908 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 11:38:22,908 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：12, 操作：等待， 输入参数：5，预期结果：）
2018-03-08 11:38:22,908 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 11:38:22,908 test_case_step.py[line: 88] INFO: 执行函数：等待
2018-03-08 11:38:22,908 test_case_step.py[line: 91] INFO: 正在对输入参数:5 进行参数处理
2018-03-08 11:38:22,908 test_case_step.py[line: 108] INFO: 等待5秒
2018-03-08 11:38:27,909 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 11:38:27,909 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 18, 1520480276, 12, '', '等待', '5', '', 'Pass', 'run success', 'Chrome', '2018-03-08 11:38:22', '')
2018-03-08 11:38:27,913 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 11:38:27,913 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：同意的确定按钮, 步序：13, 操作：点击， 输入参数：，预期结果：）
2018-03-08 11:38:27,913 test_case_step.py[line: 38] INFO: 正在执行最普通的元素操作
2018-03-08 11:38:27,913 test_case_step.py[line: 42] INFO: 正在对选择器：selector1: xpath=//*[@class=&quot;l-dialog-btn-inner&quot;]，selector2:  做数据转换处理
2018-03-08 11:38:27,913 test_case_step.py[line: 45] INFO: 转换后的选择器：selector1: xpath=//*[@class="l-dialog-btn-inner"]，selector2: 
2018-03-08 11:38:27,913 test_case_step.py[line: 47] INFO: 开始对步骤中的元素操作进行操作
2018-03-08 11:38:27,914 test_case_step.py[line: 130] INFO: 操作：点击
2018-03-08 11:38:27,914 test_case_step.py[line: 205] INFO: 开始根据元素定位器：xpath=//*[@class="l-dialog-btn-inner"] 自定位元素
2018-03-08 11:38:27,914 test_case_step.py[line: 218] INFO: find_element_by_xpath：//*[@class="l-dialog-btn-inner"]
2018-03-08 11:38:27,934 test_case_step.py[line: 191] INFO: 找到元素：<selenium.webdriver.remote.webelement.WebElement (session="998a5874c625619b73b27eaf0ab9a29a", element="0.7412163135603491-4")>
2018-03-08 11:38:28,107 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 11:38:28,107 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 18, 1520480276, 13, '同意的确定按钮', '点击', '', '', 'Pass', '点击成功', 'Chrome', '2018-03-08 11:38:27', '')
2018-03-08 11:38:28,111 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 11:38:28,112 test_case.py[line: 58] INFO: 测试步骤执行完毕，正在记录用例运行结果到测试用例运行报表
2018-03-08 11:38:28,112 database.py[line: 58] INFO: query：INSERT INTO testcase_reporter(runHistoryId, browserType, testcaseId, testplanId, runTime, runResult) VALUES(%s, %s, %s, %s, %s, %s)  data：(1520480276, 'Chrome', 18, 3, '2018-03-08 11:38:0', 'Pass')
2018-03-08 11:38:28,117 test_plan.py[line: 65] INFO: ####################### 测试计划已运行完毕 #######################
2018-03-08 11:38:28,118 test_plan.py[line: 66] INFO: 正在统计测试计划执行的用例总数
2018-03-08 11:38:28,118 database.py[line: 88] INFO: query：SELECT count(testcaseId)  FROM testcase_reporter  WHERE runHistoryId = %s  data：(1520480276,)
2018-03-08 11:38:28,121 test_plan.py[line: 75] INFO: 正在统计测试计划执行成功的用例总数
2018-03-08 11:38:28,122 database.py[line: 88] INFO: query：SELECT count(testcaseId)  FROM testcase_reporter WHERE runHistoryId = %s AND runResult='Pass'  data：(1520480276,)
2018-03-08 11:38:28,124 test_plan.py[line: 85] INFO: 正在统计测试计划执行失败的用例总数
2018-03-08 11:38:28,124 database.py[line: 88] INFO: query：SELECT count(testcaseId)  FROM testcase_reporter WHERE runHistoryId = %s AND runResult='Fail'  data：(1520480276,)
2018-03-08 11:38:28,129 test_plan.py[line: 95] INFO: 正在统计测试计划执行被阻塞的用例总数
2018-03-08 11:38:28,129 database.py[line: 88] INFO: query：SELECT count(testcaseId)  FROM testcase_reporter WHERE runHistoryId = %s AND runResult='Block'  data：(1520480276,)
2018-03-08 11:38:28,132 test_plan.py[line: 105] INFO: 正在统计测试计划执行成功的用例
2018-03-08 11:38:28,132 database.py[line: 106] INFO: query：SELECT testcaseId  FROM testcase_reporter WHERE runHistoryId = %s AND runResult='Pass'  data：(1520480276,)
2018-03-08 11:38:28,137 test_plan.py[line: 115] INFO: 正在统计测试计划执行失败的用例
2018-03-08 11:38:28,137 database.py[line: 106] INFO: query：SELECT testcaseId  FROM testcase_reporter WHERE runHistoryId = %s AND runResult='Fail'  data：(1520480276,)
2018-03-08 11:38:28,140 test_plan.py[line: 120] INFO: 没找到执行失败的用例
2018-03-08 11:38:28,141 test_plan.py[line: 125] INFO: 正在统计测试计划执行被阻塞的用例
2018-03-08 11:38:28,141 database.py[line: 106] INFO: query：SELECT testcaseId  FROM testcase_reporter WHERE runHistoryId = %s AND runResult='Block'  data：(1520480276,)
2018-03-08 11:38:28,144 test_plan.py[line: 130] INFO: 没找到计划执行被阻塞的用例
2018-03-08 11:38:28,144 test_plan.py[line: 151] INFO: 正在记录测试计划运行结果到测试计划报表
2018-03-08 11:38:28,145 database.py[line: 58] INFO: query：INSERT INTO testplan_reporter(testPlanId, testPlanName, runHistoryId, browserType, runTc_total, runPassedTc_total, runFailedTc_total,runBlockedTc_total, runPassedTc, runFailedTc, runBlockedTc, runTime)VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, '购买记录客服审批', 1520480276, 'Chrome', 2, 2, 0, 0, '(13,)', '', '', '2018-03-08 11:37:56')
2018-03-08 11:38:28,150 main.py[line: 79] INFO: 计划运行完成，正在关闭浏览器
2018-03-08 11:38:28,157 main.py[line: 170] INFO: 运行出错: Message: no such window: target window already closed
from unknown error: web view not found
  (Session info: chrome=64.0.3282.186)
  (Driver info: chromedriver=2.33.506120 (e3e53437346286c0bc2d2dc9aa4915ba81d9023f),platform=Windows NT 6.1.7601 SP1 x86_64)

2018-03-08 11:38:28,157 main.py[line: 172] INFO: 正在关闭数据库
2018-03-08 11:42:47,251 globalvar.py[line: 23] INFO: #####################正在初始化全局配置#####################
2018-03-08 11:42:47,251 globalvar.py[line: 24] INFO: 正在选择数据库运行环境和站点运行环境
2018-03-08 11:42:47,252 globalvar.py[line: 34] INFO: 在测试环境执行测试，正在获取测试环境的web site
2018-03-08 11:42:47,253 globalvar.py[line: 45] INFO: 在测试环境执行测试，正在获取测试环境的数据库
2018-03-08 11:42:47,267 globalvar.py[line: 55] INFO: 正在进行ftp配置
2018-03-08 11:42:47,275 globalvar.py[line: 62] INFO: 正在获取运行模式
2018-03-08 11:42:47,276 globalvar.py[line: 66] INFO: 运行模式为:<module 'publicpkg.runmode' from 'D:\\python\\webautotest\\publicpkg\\runmode.py'>
2018-03-08 11:42:47,276 globalvar.py[line: 69] INFO: 测试计划配置:[3]
2018-03-08 11:42:47,276 globalvar.py[line: 72] INFO: 全局初始化用例配置:[123]
2018-03-08 11:42:47,276 globalvar.py[line: 75] INFO: 正在获取浏览器配置
2018-03-08 11:42:47,276 globalvar.py[line: 79] INFO: 获取需要进行测试的浏览器有：['Chrome']
2018-03-08 11:42:47,276 globalvar.py[line: 82] INFO: 正在初始化其它工具对象
2018-03-08 11:42:47,277 globalvar.py[line: 86] INFO: 正在进行截图基路径配置
2018-03-08 11:42:47,277 globalvar.py[line: 91] INFO: 截图报存基路径为：D:\python\webautotest\screentshot\
2018-03-08 11:42:47,277 globalvar.py[line: 95] INFO: 正在进行测试报告配置
2018-03-08 11:42:47,277 globalvar.py[line: 96] INFO: --1、读取测试报告路径及文件名
2018-03-08 11:42:47,277 globalvar.py[line: 101] INFO: --2、构造测试报告
2018-03-08 11:42:47,278 globalvar.py[line: 104] INFO: --3、设置报告生成路径
2018-03-08 11:42:47,278 globalvar.py[line: 107] INFO: #####################初始化全局配置完毕#####################
2018-03-08 11:42:47,279 main.py[line: 61] INFO: ####################### 开始测试 #######################
2018-03-08 11:42:53,465 test_plan.py[line: 28] INFO: 正在获取本次测试需要执行的测试用列ID列表，测试计划名称
2018-03-08 11:42:53,465 database.py[line: 88] INFO: query：SELECT testcase_list, test_round_name FROM testcase_runround WHERE id = %s   data：(3,)
2018-03-08 11:42:53,468 test_plan.py[line: 44] INFO: 获取到的的测试用例id列表为: [13, 18]
2018-03-08 11:42:53,468 test_plan.py[line: 48] INFO: ####################### 开始运行测试计划 #######################
2018-03-08 11:42:53,468 test_case.py[line: 17] INFO: 正在构造并初始化测试用例对象[id=13]
2018-03-08 11:42:53,469 test_case.py[line: 26] INFO: 初始测试用例完毕
2018-03-08 11:42:53,469 test_case.py[line: 17] INFO: 正在构造并初始化测试用例对象[id=18]
2018-03-08 11:42:53,469 test_case.py[line: 26] INFO: 初始测试用例完毕
2018-03-08 11:42:53,469 test_case.py[line: 70] INFO: 正在获取测试用例所有测试步骤
2018-03-08 11:42:53,470 database.py[line: 106] INFO: query：(SELECT a.StepOrder AS StepOrder,c.PageName AS PageName,b.ElementName AS ElementName,b.ElementSelector AS ElementSelector,b.ElementSelector02 AS ElementSelector02,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,a.compid AS compid,a.compFolderid AS comFolderid,'' AS comName FROM testcases_steps AS a, page_elements AS b,pagesobject AS c WHERE a.TestcaseID = %s AND a.ElementId = b.Id AND b.PageId = c.Id)UNION ALL(SELECT a.steporder AS steporder,'' AS PageName,'' AS ElementSelector,'' AS ElementSelector02,'' AS ElementName,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,a.compid AS compid,a.compFolderid AS comFolderid,tc.test_name AS comName FROM testcases_steps AS a, testcases AS tc WHERE a.TestcaseID = %s AND a.compid = tc.id)UNION ALL(SELECT a.steporder AS steporder,'' AS PageName,'' AS ElementSelector,'' AS ElementSelector02,'' AS ElementName,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,'' AS compid,'' AS comFolderid,'' AS comName FROM testcases_steps AS a WHERE a.TestcaseID = %s AND NOT ISNULL(a.stepOrder)AND NOT ISNULL(a.Command) AND ISNULL(compid) AND ElementId='')ORDER BY steporder  data：(13, 13, 13)
2018-03-08 11:42:53,474 test_case.py[line: 123] INFO: 获取的测试步骤为： [(1, '', '', '', '', '断言', '深圳市金斧子网络科技有限公司-ERP', '', '', '', ''), (2, '用户登录', '用户名', 'xpath=//*[@name=&quot;username&quot;]', '', '输入', 'defang3', '', None, None, ''), (3, '用户登录', '密码', 'xpath=//*[@name=&quot;password&quot;]', '', '输入', '123', '', None, None, ''), (4, '用户登录', '登录', 'xpath=//*[@class=&quot;submit_wrap&quot;]', '', '点击', '', '', None, None, ''), (5, '', '', '', '', '等待', '3', '', '', '', ''), (6, '', '', '', '', '断言', '德芳运维', '', '', '', '')]
2018-03-08 11:42:53,474 test_case.py[line: 41] INFO: 开始执行测试步骤
2018-03-08 11:42:53,474 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：1, 操作：断言， 输入参数：深圳市金斧子网络科技有限公司-ERP，预期结果：）
2018-03-08 11:42:53,474 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 11:42:53,474 test_case_step.py[line: 88] INFO: 执行函数：断言
2018-03-08 11:42:53,474 test_case_step.py[line: 91] INFO: 正在对输入参数:深圳市金斧子网络科技有限公司-ERP 进行参数处理
2018-03-08 11:42:53,474 test_case_step.py[line: 118] INFO: 断言的标题为:深圳市金斧子网络科技有限公司-ERP
2018-03-08 11:42:53,483 seleniumutil.py[line: 161] INFO: 断言信息为：深圳市金斧子网络科技有限公司-ERP
2018-03-08 11:42:53,483 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 11:42:53,483 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 13, 1520480573, 1, '', '断言', '深圳市金斧子网络科技有限公司-ERP', '', 'Pass', '断言成功', 'Chrome', '2018-03-08 11:42:53', '')
2018-03-08 11:42:53,486 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 11:42:53,487 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：用户名, 步序：2, 操作：输入， 输入参数：defang3，预期结果：）
2018-03-08 11:42:53,487 test_case_step.py[line: 38] INFO: 正在执行最普通的元素操作
2018-03-08 11:42:53,487 test_case_step.py[line: 42] INFO: 正在对选择器：selector1: xpath=//*[@name=&quot;username&quot;]，selector2:  做数据转换处理
2018-03-08 11:42:53,487 test_case_step.py[line: 45] INFO: 转换后的选择器：selector1: xpath=//*[@name="username"]，selector2: 
2018-03-08 11:42:53,487 test_case_step.py[line: 47] INFO: 开始对步骤中的元素操作进行操作
2018-03-08 11:42:53,487 test_case_step.py[line: 130] INFO: 操作：输入
2018-03-08 11:42:53,487 test_case_step.py[line: 132] INFO: 正在对输入参数:defang3 进行参数处理
2018-03-08 11:42:53,487 test_case_step.py[line: 136] INFO: 处理后的输入参数为:['defang3'] 
2018-03-08 11:42:53,487 test_case_step.py[line: 205] INFO: 开始根据元素定位器：xpath=//*[@name="username"] 自定位元素
2018-03-08 11:42:53,487 test_case_step.py[line: 218] INFO: find_element_by_xpath：//*[@name="username"]
2018-03-08 11:42:53,504 test_case_step.py[line: 191] INFO: 找到元素：<selenium.webdriver.remote.webelement.WebElement (session="f198abcc71a6b461bf44c1c685ea51e0", element="0.2326022095429876-1")>
2018-03-08 11:42:53,576 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 11:42:53,576 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 13, 1520480573, 2, '用户名', '输入', 'defang3', '', 'Pass', '输入数据成功', 'Chrome', '2018-03-08 11:42:53', '')
2018-03-08 11:42:53,580 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 11:42:53,580 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：密码, 步序：3, 操作：输入， 输入参数：123，预期结果：）
2018-03-08 11:42:53,580 test_case_step.py[line: 38] INFO: 正在执行最普通的元素操作
2018-03-08 11:42:53,580 test_case_step.py[line: 42] INFO: 正在对选择器：selector1: xpath=//*[@name=&quot;password&quot;]，selector2:  做数据转换处理
2018-03-08 11:42:53,580 test_case_step.py[line: 45] INFO: 转换后的选择器：selector1: xpath=//*[@name="password"]，selector2: 
2018-03-08 11:42:53,580 test_case_step.py[line: 47] INFO: 开始对步骤中的元素操作进行操作
2018-03-08 11:42:53,581 test_case_step.py[line: 130] INFO: 操作：输入
2018-03-08 11:42:53,581 test_case_step.py[line: 132] INFO: 正在对输入参数:123 进行参数处理
2018-03-08 11:42:53,581 test_case_step.py[line: 136] INFO: 处理后的输入参数为:['123'] 
2018-03-08 11:42:53,581 test_case_step.py[line: 205] INFO: 开始根据元素定位器：xpath=//*[@name="password"] 自定位元素
2018-03-08 11:42:53,581 test_case_step.py[line: 218] INFO: find_element_by_xpath：//*[@name="password"]
2018-03-08 11:42:53,600 test_case_step.py[line: 191] INFO: 找到元素：<selenium.webdriver.remote.webelement.WebElement (session="f198abcc71a6b461bf44c1c685ea51e0", element="0.2326022095429876-2")>
2018-03-08 11:42:53,652 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 11:42:53,653 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 13, 1520480573, 3, '密码', '输入', '123', '', 'Pass', '输入数据成功', 'Chrome', '2018-03-08 11:42:53', '')
2018-03-08 11:42:53,659 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 11:42:53,659 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：登录, 步序：4, 操作：点击， 输入参数：，预期结果：）
2018-03-08 11:42:53,659 test_case_step.py[line: 38] INFO: 正在执行最普通的元素操作
2018-03-08 11:42:53,659 test_case_step.py[line: 42] INFO: 正在对选择器：selector1: xpath=//*[@class=&quot;submit_wrap&quot;]，selector2:  做数据转换处理
2018-03-08 11:42:53,659 test_case_step.py[line: 45] INFO: 转换后的选择器：selector1: xpath=//*[@class="submit_wrap"]，selector2: 
2018-03-08 11:42:53,659 test_case_step.py[line: 47] INFO: 开始对步骤中的元素操作进行操作
2018-03-08 11:42:53,659 test_case_step.py[line: 130] INFO: 操作：点击
2018-03-08 11:42:53,659 test_case_step.py[line: 205] INFO: 开始根据元素定位器：xpath=//*[@class="submit_wrap"] 自定位元素
2018-03-08 11:42:53,659 test_case_step.py[line: 218] INFO: find_element_by_xpath：//*[@class="submit_wrap"]
2018-03-08 11:42:53,679 test_case_step.py[line: 191] INFO: 找到元素：<selenium.webdriver.remote.webelement.WebElement (session="f198abcc71a6b461bf44c1c685ea51e0", element="0.2326022095429876-3")>
2018-03-08 11:42:55,041 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 11:42:55,042 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 13, 1520480573, 4, '登录', '点击', '', '', 'Pass', '点击成功', 'Chrome', '2018-03-08 11:42:53', '')
2018-03-08 11:42:55,049 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 11:42:55,049 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：5, 操作：等待， 输入参数：3，预期结果：）
2018-03-08 11:42:55,049 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 11:42:55,050 test_case_step.py[line: 88] INFO: 执行函数：等待
2018-03-08 11:42:55,050 test_case_step.py[line: 91] INFO: 正在对输入参数:3 进行参数处理
2018-03-08 11:42:55,050 test_case_step.py[line: 108] INFO: 等待3秒
2018-03-08 11:42:58,050 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 11:42:58,050 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 13, 1520480573, 5, '', '等待', '3', '', 'Pass', 'run success', 'Chrome', '2018-03-08 11:42:55', '')
2018-03-08 11:42:58,054 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 11:42:58,054 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：6, 操作：断言， 输入参数：德芳运维，预期结果：）
2018-03-08 11:42:58,054 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 11:42:58,054 test_case_step.py[line: 88] INFO: 执行函数：断言
2018-03-08 11:42:58,054 test_case_step.py[line: 91] INFO: 正在对输入参数:德芳运维 进行参数处理
2018-03-08 11:42:58,054 test_case_step.py[line: 118] INFO: 断言的标题为:德芳运维
2018-03-08 11:42:58,070 seleniumutil.py[line: 161] INFO: 断言信息为：德芳运维
2018-03-08 11:42:58,070 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 11:42:58,070 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 13, 1520480573, 6, '', '断言', '德芳运维', '', 'Pass', '断言成功', 'Chrome', '2018-03-08 11:42:58', '')
2018-03-08 11:42:58,075 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 11:42:58,075 test_case.py[line: 58] INFO: 测试步骤执行完毕，正在记录用例运行结果到测试用例运行报表
2018-03-08 11:42:58,075 database.py[line: 58] INFO: query：INSERT INTO testcase_reporter(runHistoryId, browserType, testcaseId, testplanId, runTime, runResult) VALUES(%s, %s, %s, %s, %s, %s)  data：(1520480573, 'Chrome', 13, 3, '2018-03-08 11:42:53', 'Pass')
2018-03-08 11:42:58,080 test_case.py[line: 70] INFO: 正在获取测试用例所有测试步骤
2018-03-08 11:42:58,080 database.py[line: 106] INFO: query：(SELECT a.StepOrder AS StepOrder,c.PageName AS PageName,b.ElementName AS ElementName,b.ElementSelector AS ElementSelector,b.ElementSelector02 AS ElementSelector02,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,a.compid AS compid,a.compFolderid AS comFolderid,'' AS comName FROM testcases_steps AS a, page_elements AS b,pagesobject AS c WHERE a.TestcaseID = %s AND a.ElementId = b.Id AND b.PageId = c.Id)UNION ALL(SELECT a.steporder AS steporder,'' AS PageName,'' AS ElementSelector,'' AS ElementSelector02,'' AS ElementName,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,a.compid AS compid,a.compFolderid AS comFolderid,tc.test_name AS comName FROM testcases_steps AS a, testcases AS tc WHERE a.TestcaseID = %s AND a.compid = tc.id)UNION ALL(SELECT a.steporder AS steporder,'' AS PageName,'' AS ElementSelector,'' AS ElementSelector02,'' AS ElementName,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,'' AS compid,'' AS comFolderid,'' AS comName FROM testcases_steps AS a WHERE a.TestcaseID = %s AND NOT ISNULL(a.stepOrder)AND NOT ISNULL(a.Command) AND ISNULL(compid) AND ElementId='')ORDER BY steporder  data：(18, 18, 18)
2018-03-08 11:42:58,086 test_case.py[line: 123] INFO: 获取的测试步骤为： [(1, '', '', '', '', '等待', '5', '', '', '', ''), (2, '', '', '', '', '切换入iframe', 'iframe89892232323', '', '', '', ''), (3, '审批流', '审批流的链接', 'xpath=html/body/div[1]/div/div/div[2]/div/div/div/div[2]/div/div[1]/ul/li[1]/div[1]', '', '点击', '', '', None, None, ''), (4, '', '', '', '', '切换到新的窗口', '', '', '', '', ''), (5, '', '', '', '', '等待', '5', '', '', '', ''), (6, '审批流', '审批流的同意按钮', 'xpath=//*[@id=&quot;btnAgree&quot;]', '', '点击', '', '', None, None, ''), (7, '', '', '', '', '等待', '5', '', '', '', ''), (8, '', '', '', '', '切换入xpathifram', '//iframe[contains(@id,&quot;ligerwindow&quot;)]', '', '', '', ''), (9, '审批流', '填写意见的确定按钮', 'xpath=//*[@id=&quot;dataFormSave&quot;]', '', '点击', '', '', None, None, ''), (10, '', '', '', '', '等待', '5', '', '', '', ''), (11, '', '', '', '', '断言文本提示信息', '执行任务成功!', '', '', '', ''), (12, '', '', '', '', '等待', '5', '', '', '', ''), (13, '审批流', '同意的确定按钮', 'xpath=//*[@class=&quot;l-dialog-btn-inner&quot;]', '', '点击', '', '', None, None, '')]
2018-03-08 11:42:58,086 test_case.py[line: 41] INFO: 开始执行测试步骤
2018-03-08 11:42:58,086 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：1, 操作：等待， 输入参数：5，预期结果：）
2018-03-08 11:42:58,086 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 11:42:58,087 test_case_step.py[line: 88] INFO: 执行函数：等待
2018-03-08 11:42:58,087 test_case_step.py[line: 91] INFO: 正在对输入参数:5 进行参数处理
2018-03-08 11:42:58,087 test_case_step.py[line: 108] INFO: 等待5秒
2018-03-08 11:43:03,087 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 11:43:03,087 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 18, 1520480573, 1, '', '等待', '5', '', 'Pass', 'run success', 'Chrome', '2018-03-08 11:42:58', '')
2018-03-08 11:43:03,091 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 11:43:03,091 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：2, 操作：切换入iframe， 输入参数：iframe89892232323，预期结果：）
2018-03-08 11:43:03,091 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 11:43:03,091 test_case_step.py[line: 88] INFO: 执行函数：切换入iframe
2018-03-08 11:43:03,092 test_case_step.py[line: 91] INFO: 正在对输入参数:iframe89892232323 进行参数处理
2018-03-08 11:43:03,117 seleniumutil.py[line: 67] INFO: 切换至frame（id/name/xpath = iframe89892232323）成功
2018-03-08 11:43:03,117 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 11:43:03,117 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 18, 1520480573, 2, '', '切换入iframe', 'iframe89892232323', '', 'Pass', 'run success', 'Chrome', '2018-03-08 11:43:3', '')
2018-03-08 11:43:03,130 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 11:43:03,130 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：审批流的链接, 步序：3, 操作：点击， 输入参数：，预期结果：）
2018-03-08 11:43:03,130 test_case_step.py[line: 38] INFO: 正在执行最普通的元素操作
2018-03-08 11:43:03,130 test_case_step.py[line: 42] INFO: 正在对选择器：selector1: xpath=html/body/div[1]/div/div/div[2]/div/div/div/div[2]/div/div[1]/ul/li[1]/div[1]，selector2:  做数据转换处理
2018-03-08 11:43:03,130 test_case_step.py[line: 45] INFO: 转换后的选择器：selector1: xpath=html/body/div[1]/div/div/div[2]/div/div/div/div[2]/div/div[1]/ul/li[1]/div[1]，selector2: 
2018-03-08 11:43:03,130 test_case_step.py[line: 47] INFO: 开始对步骤中的元素操作进行操作
2018-03-08 11:43:03,130 test_case_step.py[line: 130] INFO: 操作：点击
2018-03-08 11:43:03,130 test_case_step.py[line: 205] INFO: 开始根据元素定位器：xpath=html/body/div[1]/div/div/div[2]/div/div/div/div[2]/div/div[1]/ul/li[1]/div[1] 自定位元素
2018-03-08 11:43:03,130 test_case_step.py[line: 218] INFO: find_element_by_xpath：html/body/div[1]/div/div/div[2]/div/div/div/div[2]/div/div[1]/ul/li[1]/div[1]
2018-03-08 11:43:03,149 test_case_step.py[line: 191] INFO: 找到元素：<selenium.webdriver.remote.webelement.WebElement (session="f198abcc71a6b461bf44c1c685ea51e0", element="0.6192470023214598-1")>
2018-03-08 11:43:03,355 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 11:43:03,355 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 18, 1520480573, 3, '审批流的链接', '点击', '', '', 'Pass', '点击成功', 'Chrome', '2018-03-08 11:43:3', '')
2018-03-08 11:43:03,365 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 11:43:03,366 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：4, 操作：切换到新的窗口， 输入参数：，预期结果：）
2018-03-08 11:43:03,366 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 11:43:03,366 test_case_step.py[line: 88] INFO: 执行函数：切换到新的窗口
2018-03-08 11:43:03,462 seleniumutil.py[line: 95] INFO: 切换到新的窗口成功:CDwindow-(DBBD516F195D34AC8A0AE24B02A5B3B)
2018-03-08 11:43:03,462 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 11:43:03,462 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 18, 1520480573, 4, '', '切换到新的窗口', '', '', 'Pass', '切换到新窗口成功', 'Chrome', '2018-03-08 11:43:3', '')
2018-03-08 11:43:03,468 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 11:43:03,468 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：5, 操作：等待， 输入参数：5，预期结果：）
2018-03-08 11:43:03,468 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 11:43:03,468 test_case_step.py[line: 88] INFO: 执行函数：等待
2018-03-08 11:43:03,468 test_case_step.py[line: 91] INFO: 正在对输入参数:5 进行参数处理
2018-03-08 11:43:03,468 test_case_step.py[line: 108] INFO: 等待5秒
2018-03-08 11:43:08,469 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 11:43:08,469 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 18, 1520480573, 5, '', '等待', '5', '', 'Pass', 'run success', 'Chrome', '2018-03-08 11:43:3', '')
2018-03-08 11:43:08,473 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 11:43:08,473 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：审批流的同意按钮, 步序：6, 操作：点击， 输入参数：，预期结果：）
2018-03-08 11:43:08,474 test_case_step.py[line: 38] INFO: 正在执行最普通的元素操作
2018-03-08 11:43:08,474 test_case_step.py[line: 42] INFO: 正在对选择器：selector1: xpath=//*[@id=&quot;btnAgree&quot;]，selector2:  做数据转换处理
2018-03-08 11:43:08,474 test_case_step.py[line: 45] INFO: 转换后的选择器：selector1: xpath=//*[@id="btnAgree"]，selector2: 
2018-03-08 11:43:08,474 test_case_step.py[line: 47] INFO: 开始对步骤中的元素操作进行操作
2018-03-08 11:43:08,474 test_case_step.py[line: 130] INFO: 操作：点击
2018-03-08 11:43:08,474 test_case_step.py[line: 205] INFO: 开始根据元素定位器：xpath=//*[@id="btnAgree"] 自定位元素
2018-03-08 11:43:08,474 test_case_step.py[line: 218] INFO: find_element_by_xpath：//*[@id="btnAgree"]
2018-03-08 11:43:09,538 test_case_step.py[line: 191] INFO: 找到元素：<selenium.webdriver.remote.webelement.WebElement (session="f198abcc71a6b461bf44c1c685ea51e0", element="0.47316277427782616-1")>
2018-03-08 11:43:09,835 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 11:43:09,835 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 18, 1520480573, 6, '审批流的同意按钮', '点击', '', '', 'Pass', '点击成功', 'Chrome', '2018-03-08 11:43:8', '')
2018-03-08 11:43:09,840 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 11:43:09,840 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：7, 操作：等待， 输入参数：5，预期结果：）
2018-03-08 11:43:09,840 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 11:43:09,840 test_case_step.py[line: 88] INFO: 执行函数：等待
2018-03-08 11:43:09,841 test_case_step.py[line: 91] INFO: 正在对输入参数:5 进行参数处理
2018-03-08 11:43:09,841 test_case_step.py[line: 108] INFO: 等待5秒
2018-03-08 11:43:14,842 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 11:43:14,842 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 18, 1520480573, 7, '', '等待', '5', '', 'Pass', 'run success', 'Chrome', '2018-03-08 11:43:9', '')
2018-03-08 11:43:14,848 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 11:43:14,848 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：8, 操作：切换入xpathifram， 输入参数：//iframe[contains(@id,&quot;ligerwindow&quot;)]，预期结果：）
2018-03-08 11:43:14,848 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 11:43:14,848 test_case_step.py[line: 88] INFO: 执行函数：切换入xpathifram
2018-03-08 11:43:14,848 test_case_step.py[line: 91] INFO: 正在对输入参数://iframe[contains(@id,&quot;ligerwindow&quot;)] 进行参数处理
2018-03-08 11:43:14,894 seleniumutil.py[line: 77] INFO: 切换至frame（xpath = //iframe[contains(@id,"ligerwindow")]）成功
2018-03-08 11:43:14,894 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 11:43:14,895 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 18, 1520480573, 8, '', '切换入xpathifram', '//iframe[contains(@id,&quot;ligerwindow&quot;)]', '', 'Pass', 'run success', 'Chrome', '2018-03-08 11:43:14', '')
2018-03-08 11:43:14,898 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 11:43:14,898 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：填写意见的确定按钮, 步序：9, 操作：点击， 输入参数：，预期结果：）
2018-03-08 11:43:14,899 test_case_step.py[line: 38] INFO: 正在执行最普通的元素操作
2018-03-08 11:43:14,899 test_case_step.py[line: 42] INFO: 正在对选择器：selector1: xpath=//*[@id=&quot;dataFormSave&quot;]，selector2:  做数据转换处理
2018-03-08 11:43:14,899 test_case_step.py[line: 45] INFO: 转换后的选择器：selector1: xpath=//*[@id="dataFormSave"]，selector2: 
2018-03-08 11:43:14,899 test_case_step.py[line: 47] INFO: 开始对步骤中的元素操作进行操作
2018-03-08 11:43:14,899 test_case_step.py[line: 130] INFO: 操作：点击
2018-03-08 11:43:14,899 test_case_step.py[line: 205] INFO: 开始根据元素定位器：xpath=//*[@id="dataFormSave"] 自定位元素
2018-03-08 11:43:14,899 test_case_step.py[line: 218] INFO: find_element_by_xpath：//*[@id="dataFormSave"]
2018-03-08 11:43:14,916 test_case_step.py[line: 191] INFO: 找到元素：<selenium.webdriver.remote.webelement.WebElement (session="f198abcc71a6b461bf44c1c685ea51e0", element="0.6077834142186491-1")>
2018-03-08 11:43:15,052 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 11:43:15,052 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 18, 1520480573, 9, '填写意见的确定按钮', '点击', '', '', 'Pass', '点击成功', 'Chrome', '2018-03-08 11:43:14', '')
2018-03-08 11:43:15,063 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 11:43:15,064 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：10, 操作：等待， 输入参数：5，预期结果：）
2018-03-08 11:43:15,064 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 11:43:15,064 test_case_step.py[line: 88] INFO: 执行函数：等待
2018-03-08 11:43:15,064 test_case_step.py[line: 91] INFO: 正在对输入参数:5 进行参数处理
2018-03-08 11:43:15,064 test_case_step.py[line: 108] INFO: 等待5秒
2018-03-08 11:43:20,064 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 11:43:20,064 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 18, 1520480573, 10, '', '等待', '5', '', 'Pass', 'run success', 'Chrome', '2018-03-08 11:43:15', '')
2018-03-08 11:43:20,070 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 11:43:20,070 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：11, 操作：断言文本提示信息， 输入参数：执行任务成功!，预期结果：）
2018-03-08 11:43:20,070 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 11:43:20,071 test_case_step.py[line: 88] INFO: 执行函数：断言文本提示信息
2018-03-08 11:43:20,071 test_case_step.py[line: 91] INFO: 正在对输入参数:执行任务成功! 进行参数处理
2018-03-08 11:43:20,110 seleniumutil.py[line: 173] INFO: 断言文本提示信息为:执行任务成功!
2018-03-08 11:43:20,110 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 11:43:20,110 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 18, 1520480573, 11, '', '断言文本提示信息', '执行任务成功!', '', 'Pass', '断言文本提示信息成功!', 'Chrome', '2018-03-08 11:43:20', '')
2018-03-08 11:43:20,115 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 11:43:20,116 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：12, 操作：等待， 输入参数：5，预期结果：）
2018-03-08 11:43:20,116 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 11:43:20,116 test_case_step.py[line: 88] INFO: 执行函数：等待
2018-03-08 11:43:20,116 test_case_step.py[line: 91] INFO: 正在对输入参数:5 进行参数处理
2018-03-08 11:43:20,116 test_case_step.py[line: 108] INFO: 等待5秒
2018-03-08 11:43:25,117 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 11:43:25,117 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 18, 1520480573, 12, '', '等待', '5', '', 'Pass', 'run success', 'Chrome', '2018-03-08 11:43:20', '')
2018-03-08 11:43:25,122 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 11:43:25,122 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：同意的确定按钮, 步序：13, 操作：点击， 输入参数：，预期结果：）
2018-03-08 11:43:25,122 test_case_step.py[line: 38] INFO: 正在执行最普通的元素操作
2018-03-08 11:43:25,122 test_case_step.py[line: 42] INFO: 正在对选择器：selector1: xpath=//*[@class=&quot;l-dialog-btn-inner&quot;]，selector2:  做数据转换处理
2018-03-08 11:43:25,122 test_case_step.py[line: 45] INFO: 转换后的选择器：selector1: xpath=//*[@class="l-dialog-btn-inner"]，selector2: 
2018-03-08 11:43:25,122 test_case_step.py[line: 47] INFO: 开始对步骤中的元素操作进行操作
2018-03-08 11:43:25,123 test_case_step.py[line: 130] INFO: 操作：点击
2018-03-08 11:43:25,123 test_case_step.py[line: 205] INFO: 开始根据元素定位器：xpath=//*[@class="l-dialog-btn-inner"] 自定位元素
2018-03-08 11:43:25,123 test_case_step.py[line: 218] INFO: find_element_by_xpath：//*[@class="l-dialog-btn-inner"]
2018-03-08 11:43:25,150 test_case_step.py[line: 191] INFO: 找到元素：<selenium.webdriver.remote.webelement.WebElement (session="f198abcc71a6b461bf44c1c685ea51e0", element="0.47316277427782616-4")>
2018-03-08 11:43:25,307 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 11:43:25,308 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 18, 1520480573, 13, '同意的确定按钮', '点击', '', '', 'Pass', '点击成功', 'Chrome', '2018-03-08 11:43:25', '')
2018-03-08 11:43:25,313 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 11:43:25,313 test_case.py[line: 58] INFO: 测试步骤执行完毕，正在记录用例运行结果到测试用例运行报表
2018-03-08 11:43:25,314 database.py[line: 58] INFO: query：INSERT INTO testcase_reporter(runHistoryId, browserType, testcaseId, testplanId, runTime, runResult) VALUES(%s, %s, %s, %s, %s, %s)  data：(1520480573, 'Chrome', 18, 3, '2018-03-08 11:42:58', 'Pass')
2018-03-08 11:43:25,318 test_plan.py[line: 65] INFO: ####################### 测试计划已运行完毕 #######################
2018-03-08 11:43:25,318 test_plan.py[line: 66] INFO: 正在统计测试计划执行的用例总数
2018-03-08 11:43:25,318 database.py[line: 88] INFO: query：SELECT count(testcaseId)  FROM testcase_reporter  WHERE runHistoryId = %s  data：(1520480573,)
2018-03-08 11:43:25,323 test_plan.py[line: 75] INFO: 正在统计测试计划执行成功的用例总数
2018-03-08 11:43:25,323 database.py[line: 88] INFO: query：SELECT count(testcaseId)  FROM testcase_reporter WHERE runHistoryId = %s AND runResult='Pass'  data：(1520480573,)
2018-03-08 11:43:25,327 test_plan.py[line: 85] INFO: 正在统计测试计划执行失败的用例总数
2018-03-08 11:43:25,327 database.py[line: 88] INFO: query：SELECT count(testcaseId)  FROM testcase_reporter WHERE runHistoryId = %s AND runResult='Fail'  data：(1520480573,)
2018-03-08 11:43:25,331 test_plan.py[line: 95] INFO: 正在统计测试计划执行被阻塞的用例总数
2018-03-08 11:43:25,331 database.py[line: 88] INFO: query：SELECT count(testcaseId)  FROM testcase_reporter WHERE runHistoryId = %s AND runResult='Block'  data：(1520480573,)
2018-03-08 11:43:25,336 test_plan.py[line: 105] INFO: 正在统计测试计划执行成功的用例
2018-03-08 11:43:25,337 database.py[line: 106] INFO: query：SELECT testcaseId  FROM testcase_reporter WHERE runHistoryId = %s AND runResult='Pass'  data：(1520480573,)
2018-03-08 11:43:25,342 test_plan.py[line: 115] INFO: 正在统计测试计划执行失败的用例
2018-03-08 11:43:25,342 database.py[line: 106] INFO: query：SELECT testcaseId  FROM testcase_reporter WHERE runHistoryId = %s AND runResult='Fail'  data：(1520480573,)
2018-03-08 11:43:25,346 test_plan.py[line: 120] INFO: 没找到执行失败的用例
2018-03-08 11:43:25,347 test_plan.py[line: 125] INFO: 正在统计测试计划执行被阻塞的用例
2018-03-08 11:43:25,347 database.py[line: 106] INFO: query：SELECT testcaseId  FROM testcase_reporter WHERE runHistoryId = %s AND runResult='Block'  data：(1520480573,)
2018-03-08 11:43:25,352 test_plan.py[line: 130] INFO: 没找到计划执行被阻塞的用例
2018-03-08 11:43:25,352 test_plan.py[line: 151] INFO: 正在记录测试计划运行结果到测试计划报表
2018-03-08 11:43:25,353 database.py[line: 58] INFO: query：INSERT INTO testplan_reporter(testPlanId, testPlanName, runHistoryId, browserType, runTc_total, runPassedTc_total, runFailedTc_total,runBlockedTc_total, runPassedTc, runFailedTc, runBlockedTc, runTime)VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, '购买记录客服审批', 1520480573, 'Chrome', 2, 2, 0, 0, '(13,)', '', '', '2018-03-08 11:42:53')
2018-03-08 11:43:25,358 main.py[line: 79] INFO: 计划运行完成，正在关闭浏览器
2018-03-08 11:43:25,370 main.py[line: 170] INFO: 运行出错: Message: no such window: target window already closed
from unknown error: web view not found
  (Session info: chrome=64.0.3282.186)
  (Driver info: chromedriver=2.33.506120 (e3e53437346286c0bc2d2dc9aa4915ba81d9023f),platform=Windows NT 6.1.7601 SP1 x86_64)

2018-03-08 11:43:25,370 main.py[line: 172] INFO: 正在关闭数据库
2018-03-08 12:00:37,743 globalvar.py[line: 23] INFO: #####################正在初始化全局配置#####################
2018-03-08 12:00:37,743 globalvar.py[line: 24] INFO: 正在选择数据库运行环境和站点运行环境
2018-03-08 12:00:37,744 globalvar.py[line: 34] INFO: 在测试环境执行测试，正在获取测试环境的web site
2018-03-08 12:00:37,744 globalvar.py[line: 45] INFO: 在测试环境执行测试，正在获取测试环境的数据库
2018-03-08 12:00:37,756 globalvar.py[line: 55] INFO: 正在进行ftp配置
2018-03-08 12:00:37,763 globalvar.py[line: 62] INFO: 正在获取运行模式
2018-03-08 12:00:37,763 globalvar.py[line: 66] INFO: 运行模式为:<module 'publicpkg.runmode' from 'D:\\python\\webautotest\\publicpkg\\runmode.py'>
2018-03-08 12:00:37,763 globalvar.py[line: 69] INFO: 测试计划配置:[3]
2018-03-08 12:00:37,764 globalvar.py[line: 72] INFO: 全局初始化用例配置:[123]
2018-03-08 12:00:37,764 globalvar.py[line: 75] INFO: 正在获取浏览器配置
2018-03-08 12:00:37,764 globalvar.py[line: 79] INFO: 获取需要进行测试的浏览器有：['Chrome']
2018-03-08 12:00:37,764 globalvar.py[line: 82] INFO: 正在初始化其它工具对象
2018-03-08 12:00:37,764 globalvar.py[line: 86] INFO: 正在进行截图基路径配置
2018-03-08 12:00:37,765 globalvar.py[line: 91] INFO: 截图报存基路径为：D:\python\webautotest\screentshot\
2018-03-08 12:00:37,765 globalvar.py[line: 95] INFO: 正在进行测试报告配置
2018-03-08 12:00:37,765 globalvar.py[line: 96] INFO: --1、读取测试报告路径及文件名
2018-03-08 12:00:37,765 globalvar.py[line: 101] INFO: --2、构造测试报告
2018-03-08 12:00:37,766 globalvar.py[line: 104] INFO: --3、设置报告生成路径
2018-03-08 12:00:37,766 globalvar.py[line: 107] INFO: #####################初始化全局配置完毕#####################
2018-03-08 12:00:37,767 main.py[line: 61] INFO: ####################### 开始测试 #######################
2018-03-08 12:00:44,135 test_plan.py[line: 28] INFO: 正在获取本次测试需要执行的测试用列ID列表，测试计划名称
2018-03-08 12:00:44,135 database.py[line: 88] INFO: query：SELECT testcase_list, test_round_name FROM testcase_runround WHERE id = %s   data：(3,)
2018-03-08 12:00:44,140 test_plan.py[line: 44] INFO: 获取到的的测试用例id列表为: [13, 18]
2018-03-08 12:00:44,140 test_plan.py[line: 48] INFO: ####################### 开始运行测试计划 #######################
2018-03-08 12:00:44,140 test_case.py[line: 17] INFO: 正在构造并初始化测试用例对象[id=13]
2018-03-08 12:00:44,140 test_case.py[line: 26] INFO: 初始测试用例完毕
2018-03-08 12:00:44,140 test_case.py[line: 17] INFO: 正在构造并初始化测试用例对象[id=18]
2018-03-08 12:00:44,140 test_case.py[line: 26] INFO: 初始测试用例完毕
2018-03-08 12:00:44,141 test_case.py[line: 70] INFO: 正在获取测试用例所有测试步骤
2018-03-08 12:00:44,141 database.py[line: 106] INFO: query：(SELECT a.StepOrder AS StepOrder,c.PageName AS PageName,b.ElementName AS ElementName,b.ElementSelector AS ElementSelector,b.ElementSelector02 AS ElementSelector02,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,a.compid AS compid,a.compFolderid AS comFolderid,'' AS comName FROM testcases_steps AS a, page_elements AS b,pagesobject AS c WHERE a.TestcaseID = %s AND a.ElementId = b.Id AND b.PageId = c.Id)UNION ALL(SELECT a.steporder AS steporder,'' AS PageName,'' AS ElementSelector,'' AS ElementSelector02,'' AS ElementName,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,a.compid AS compid,a.compFolderid AS comFolderid,tc.test_name AS comName FROM testcases_steps AS a, testcases AS tc WHERE a.TestcaseID = %s AND a.compid = tc.id)UNION ALL(SELECT a.steporder AS steporder,'' AS PageName,'' AS ElementSelector,'' AS ElementSelector02,'' AS ElementName,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,'' AS compid,'' AS comFolderid,'' AS comName FROM testcases_steps AS a WHERE a.TestcaseID = %s AND NOT ISNULL(a.stepOrder)AND NOT ISNULL(a.Command) AND ISNULL(compid) AND ElementId='')ORDER BY steporder  data：(13, 13, 13)
2018-03-08 12:00:44,145 test_case.py[line: 123] INFO: 获取的测试步骤为： [(1, '', '', '', '', '断言', '深圳市金斧子网络科技有限公司-ERP', '', '', '', ''), (2, '用户登录', '用户名', 'xpath=//*[@name=&quot;username&quot;]', '', '输入', 'defang3', '', None, None, ''), (3, '用户登录', '密码', 'xpath=//*[@name=&quot;password&quot;]', '', '输入', '123', '', None, None, ''), (4, '用户登录', '登录', 'xpath=//*[@class=&quot;submit_wrap&quot;]', '', '点击', '', '', None, None, ''), (5, '', '', '', '', '等待', '3', '', '', '', ''), (6, '', '', '', '', '断言', '德芳运维', '', '', '', '')]
2018-03-08 12:00:44,145 test_case.py[line: 41] INFO: 开始执行测试步骤
2018-03-08 12:00:44,145 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：1, 操作：断言， 输入参数：深圳市金斧子网络科技有限公司-ERP，预期结果：）
2018-03-08 12:00:44,145 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 12:00:44,145 test_case_step.py[line: 88] INFO: 执行函数：断言
2018-03-08 12:00:44,145 test_case_step.py[line: 91] INFO: 正在对输入参数:深圳市金斧子网络科技有限公司-ERP 进行参数处理
2018-03-08 12:00:44,145 test_case_step.py[line: 118] INFO: 断言的标题为:深圳市金斧子网络科技有限公司-ERP
2018-03-08 12:00:44,154 seleniumutil.py[line: 161] INFO: 断言信息为：深圳市金斧子网络科技有限公司-ERP
2018-03-08 12:00:44,154 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 12:00:44,154 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 13, 1520481644, 1, '', '断言', '深圳市金斧子网络科技有限公司-ERP', '', 'Pass', '断言成功', 'Chrome', '2018-03-08 12:0:44', '')
2018-03-08 12:00:44,160 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 12:00:44,160 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：用户名, 步序：2, 操作：输入， 输入参数：defang3，预期结果：）
2018-03-08 12:00:44,160 test_case_step.py[line: 38] INFO: 正在执行最普通的元素操作
2018-03-08 12:00:44,161 test_case_step.py[line: 42] INFO: 正在对选择器：selector1: xpath=//*[@name=&quot;username&quot;]，selector2:  做数据转换处理
2018-03-08 12:00:44,161 test_case_step.py[line: 45] INFO: 转换后的选择器：selector1: xpath=//*[@name="username"]，selector2: 
2018-03-08 12:00:44,161 test_case_step.py[line: 47] INFO: 开始对步骤中的元素操作进行操作
2018-03-08 12:00:44,161 test_case_step.py[line: 130] INFO: 操作：输入
2018-03-08 12:00:44,161 test_case_step.py[line: 132] INFO: 正在对输入参数:defang3 进行参数处理
2018-03-08 12:00:44,161 test_case_step.py[line: 136] INFO: 处理后的输入参数为:['defang3'] 
2018-03-08 12:00:44,161 test_case_step.py[line: 205] INFO: 开始根据元素定位器：xpath=//*[@name="username"] 自定位元素
2018-03-08 12:00:44,161 test_case_step.py[line: 218] INFO: find_element_by_xpath：//*[@name="username"]
2018-03-08 12:00:44,179 test_case_step.py[line: 191] INFO: 找到元素：<selenium.webdriver.remote.webelement.WebElement (session="d805b9225af0b445570ae9ecfbf3fc2e", element="0.8940002997832477-1")>
2018-03-08 12:00:44,260 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 12:00:44,260 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 13, 1520481644, 2, '用户名', '输入', 'defang3', '', 'Pass', '输入数据成功', 'Chrome', '2018-03-08 12:0:44', '')
2018-03-08 12:00:44,265 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 12:00:44,265 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：密码, 步序：3, 操作：输入， 输入参数：123，预期结果：）
2018-03-08 12:00:44,265 test_case_step.py[line: 38] INFO: 正在执行最普通的元素操作
2018-03-08 12:00:44,266 test_case_step.py[line: 42] INFO: 正在对选择器：selector1: xpath=//*[@name=&quot;password&quot;]，selector2:  做数据转换处理
2018-03-08 12:00:44,266 test_case_step.py[line: 45] INFO: 转换后的选择器：selector1: xpath=//*[@name="password"]，selector2: 
2018-03-08 12:00:44,266 test_case_step.py[line: 47] INFO: 开始对步骤中的元素操作进行操作
2018-03-08 12:00:44,266 test_case_step.py[line: 130] INFO: 操作：输入
2018-03-08 12:00:44,266 test_case_step.py[line: 132] INFO: 正在对输入参数:123 进行参数处理
2018-03-08 12:00:44,266 test_case_step.py[line: 136] INFO: 处理后的输入参数为:['123'] 
2018-03-08 12:00:44,266 test_case_step.py[line: 205] INFO: 开始根据元素定位器：xpath=//*[@name="password"] 自定位元素
2018-03-08 12:00:44,266 test_case_step.py[line: 218] INFO: find_element_by_xpath：//*[@name="password"]
2018-03-08 12:00:44,282 test_case_step.py[line: 191] INFO: 找到元素：<selenium.webdriver.remote.webelement.WebElement (session="d805b9225af0b445570ae9ecfbf3fc2e", element="0.8940002997832477-2")>
2018-03-08 12:00:44,333 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 12:00:44,334 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 13, 1520481644, 3, '密码', '输入', '123', '', 'Pass', '输入数据成功', 'Chrome', '2018-03-08 12:0:44', '')
2018-03-08 12:00:44,338 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 12:00:44,339 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：登录, 步序：4, 操作：点击， 输入参数：，预期结果：）
2018-03-08 12:00:44,339 test_case_step.py[line: 38] INFO: 正在执行最普通的元素操作
2018-03-08 12:00:44,339 test_case_step.py[line: 42] INFO: 正在对选择器：selector1: xpath=//*[@class=&quot;submit_wrap&quot;]，selector2:  做数据转换处理
2018-03-08 12:00:44,339 test_case_step.py[line: 45] INFO: 转换后的选择器：selector1: xpath=//*[@class="submit_wrap"]，selector2: 
2018-03-08 12:00:44,339 test_case_step.py[line: 47] INFO: 开始对步骤中的元素操作进行操作
2018-03-08 12:00:44,339 test_case_step.py[line: 130] INFO: 操作：点击
2018-03-08 12:00:44,339 test_case_step.py[line: 205] INFO: 开始根据元素定位器：xpath=//*[@class="submit_wrap"] 自定位元素
2018-03-08 12:00:44,339 test_case_step.py[line: 218] INFO: find_element_by_xpath：//*[@class="submit_wrap"]
2018-03-08 12:00:44,363 test_case_step.py[line: 191] INFO: 找到元素：<selenium.webdriver.remote.webelement.WebElement (session="d805b9225af0b445570ae9ecfbf3fc2e", element="0.8940002997832477-3")>
2018-03-08 12:00:45,701 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 12:00:45,701 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 13, 1520481644, 4, '登录', '点击', '', '', 'Pass', '点击成功', 'Chrome', '2018-03-08 12:0:44', '')
2018-03-08 12:00:45,708 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 12:00:45,708 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：5, 操作：等待， 输入参数：3，预期结果：）
2018-03-08 12:00:45,708 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 12:00:45,708 test_case_step.py[line: 88] INFO: 执行函数：等待
2018-03-08 12:00:45,708 test_case_step.py[line: 91] INFO: 正在对输入参数:3 进行参数处理
2018-03-08 12:00:45,709 test_case_step.py[line: 108] INFO: 等待3秒
2018-03-08 12:00:48,709 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 12:00:48,709 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 13, 1520481644, 5, '', '等待', '3', '', 'Pass', 'run success', 'Chrome', '2018-03-08 12:0:45', '')
2018-03-08 12:00:48,715 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 12:00:48,715 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：6, 操作：断言， 输入参数：德芳运维，预期结果：）
2018-03-08 12:00:48,715 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 12:00:48,715 test_case_step.py[line: 88] INFO: 执行函数：断言
2018-03-08 12:00:48,715 test_case_step.py[line: 91] INFO: 正在对输入参数:德芳运维 进行参数处理
2018-03-08 12:00:48,715 test_case_step.py[line: 118] INFO: 断言的标题为:德芳运维
2018-03-08 12:00:48,734 seleniumutil.py[line: 161] INFO: 断言信息为：德芳运维
2018-03-08 12:00:48,734 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 12:00:48,734 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 13, 1520481644, 6, '', '断言', '德芳运维', '', 'Pass', '断言成功', 'Chrome', '2018-03-08 12:0:48', '')
2018-03-08 12:00:48,740 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 12:00:48,740 test_case.py[line: 58] INFO: 测试步骤执行完毕，正在记录用例运行结果到测试用例运行报表
2018-03-08 12:00:48,740 database.py[line: 58] INFO: query：INSERT INTO testcase_reporter(runHistoryId, browserType, testcaseId, testplanId, runTime, runResult) VALUES(%s, %s, %s, %s, %s, %s)  data：(1520481644, 'Chrome', 13, 3, '2018-03-08 12:0:44', 'Pass')
2018-03-08 12:00:48,744 test_case.py[line: 70] INFO: 正在获取测试用例所有测试步骤
2018-03-08 12:00:48,744 database.py[line: 106] INFO: query：(SELECT a.StepOrder AS StepOrder,c.PageName AS PageName,b.ElementName AS ElementName,b.ElementSelector AS ElementSelector,b.ElementSelector02 AS ElementSelector02,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,a.compid AS compid,a.compFolderid AS comFolderid,'' AS comName FROM testcases_steps AS a, page_elements AS b,pagesobject AS c WHERE a.TestcaseID = %s AND a.ElementId = b.Id AND b.PageId = c.Id)UNION ALL(SELECT a.steporder AS steporder,'' AS PageName,'' AS ElementSelector,'' AS ElementSelector02,'' AS ElementName,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,a.compid AS compid,a.compFolderid AS comFolderid,tc.test_name AS comName FROM testcases_steps AS a, testcases AS tc WHERE a.TestcaseID = %s AND a.compid = tc.id)UNION ALL(SELECT a.steporder AS steporder,'' AS PageName,'' AS ElementSelector,'' AS ElementSelector02,'' AS ElementName,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,'' AS compid,'' AS comFolderid,'' AS comName FROM testcases_steps AS a WHERE a.TestcaseID = %s AND NOT ISNULL(a.stepOrder)AND NOT ISNULL(a.Command) AND ISNULL(compid) AND ElementId='')ORDER BY steporder  data：(18, 18, 18)
2018-03-08 12:00:48,749 test_case.py[line: 123] INFO: 获取的测试步骤为： [(1, '', '', '', '', '等待', '5', '', '', '', ''), (2, '', '', '', '', '切换入iframe', 'iframe89892232323', '', '', '', ''), (3, '审批流', '审批流的链接', 'xpath=html/body/div[1]/div/div/div[2]/div/div/div/div[2]/div/div[1]/ul/li[1]/div[1]', '', '点击', '', '', None, None, ''), (4, '', '', '', '', '切换到新的窗口', '', '', '', '', ''), (5, '', '', '', '', '等待', '5', '', '', '', ''), (6, '审批流', '审批流的同意按钮', 'xpath=//*[@id=&quot;btnAgree&quot;]', '', '点击', '', '', None, None, ''), (7, '', '', '', '', '等待', '5', '', '', '', ''), (8, '', '', '', '', '切换入xpathifram', '//iframe[contains(@id,&quot;ligerwindow&quot;)]', '', '', '', ''), (9, '审批流', '填写意见的确定按钮', 'xpath=//*[@id=&quot;dataFormSave&quot;]', '', '点击', '', '', None, None, ''), (10, '', '', '', '', '等待', '5', '', '', '', ''), (11, '', '', '', '', '断言文本提示信息', '执行任务成功!', '', '', '', ''), (12, '', '', '', '', '等待', '5', '', '', '', ''), (13, '审批流', '同意的确定按钮', 'xpath=//*[@class=&quot;l-dialog-btn-inner&quot;]', '', '点击', '', '', None, None, '')]
2018-03-08 12:00:48,749 test_case.py[line: 41] INFO: 开始执行测试步骤
2018-03-08 12:00:48,750 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：1, 操作：等待， 输入参数：5，预期结果：）
2018-03-08 12:00:48,750 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 12:00:48,750 test_case_step.py[line: 88] INFO: 执行函数：等待
2018-03-08 12:00:48,750 test_case_step.py[line: 91] INFO: 正在对输入参数:5 进行参数处理
2018-03-08 12:00:48,750 test_case_step.py[line: 108] INFO: 等待5秒
2018-03-08 12:00:53,750 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 12:00:53,750 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 18, 1520481644, 1, '', '等待', '5', '', 'Pass', 'run success', 'Chrome', '2018-03-08 12:0:48', '')
2018-03-08 12:00:53,755 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 12:00:53,755 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：2, 操作：切换入iframe， 输入参数：iframe89892232323，预期结果：）
2018-03-08 12:00:53,755 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 12:00:53,755 test_case_step.py[line: 88] INFO: 执行函数：切换入iframe
2018-03-08 12:00:53,755 test_case_step.py[line: 91] INFO: 正在对输入参数:iframe89892232323 进行参数处理
2018-03-08 12:00:53,777 seleniumutil.py[line: 67] INFO: 切换至frame（id/name/xpath = iframe89892232323）成功
2018-03-08 12:00:53,777 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 12:00:53,778 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 18, 1520481644, 2, '', '切换入iframe', 'iframe89892232323', '', 'Pass', 'run success', 'Chrome', '2018-03-08 12:0:53', '')
2018-03-08 12:00:53,783 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 12:00:53,783 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：审批流的链接, 步序：3, 操作：点击， 输入参数：，预期结果：）
2018-03-08 12:00:53,783 test_case_step.py[line: 38] INFO: 正在执行最普通的元素操作
2018-03-08 12:00:53,783 test_case_step.py[line: 42] INFO: 正在对选择器：selector1: xpath=html/body/div[1]/div/div/div[2]/div/div/div/div[2]/div/div[1]/ul/li[1]/div[1]，selector2:  做数据转换处理
2018-03-08 12:00:53,783 test_case_step.py[line: 45] INFO: 转换后的选择器：selector1: xpath=html/body/div[1]/div/div/div[2]/div/div/div/div[2]/div/div[1]/ul/li[1]/div[1]，selector2: 
2018-03-08 12:00:53,783 test_case_step.py[line: 47] INFO: 开始对步骤中的元素操作进行操作
2018-03-08 12:00:53,783 test_case_step.py[line: 130] INFO: 操作：点击
2018-03-08 12:00:53,783 test_case_step.py[line: 205] INFO: 开始根据元素定位器：xpath=html/body/div[1]/div/div/div[2]/div/div/div/div[2]/div/div[1]/ul/li[1]/div[1] 自定位元素
2018-03-08 12:00:53,783 test_case_step.py[line: 218] INFO: find_element_by_xpath：html/body/div[1]/div/div/div[2]/div/div/div/div[2]/div/div[1]/ul/li[1]/div[1]
2018-03-08 12:00:53,800 test_case_step.py[line: 191] INFO: 找到元素：<selenium.webdriver.remote.webelement.WebElement (session="d805b9225af0b445570ae9ecfbf3fc2e", element="0.8125534482998684-1")>
2018-03-08 12:00:53,968 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 12:00:53,968 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 18, 1520481644, 3, '审批流的链接', '点击', '', '', 'Pass', '点击成功', 'Chrome', '2018-03-08 12:0:53', '')
2018-03-08 12:00:53,975 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 12:00:53,975 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：4, 操作：切换到新的窗口， 输入参数：，预期结果：）
2018-03-08 12:00:53,975 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 12:00:53,976 test_case_step.py[line: 88] INFO: 执行函数：切换到新的窗口
2018-03-08 12:00:54,114 seleniumutil.py[line: 95] INFO: 切换到新的窗口成功:CDwindow-(94FD8D306AF493506522739061816AC3)
2018-03-08 12:00:54,114 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 12:00:54,114 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 18, 1520481644, 4, '', '切换到新的窗口', '', '', 'Pass', '切换到新窗口成功', 'Chrome', '2018-03-08 12:0:53', '')
2018-03-08 12:00:54,127 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 12:00:54,127 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：5, 操作：等待， 输入参数：5，预期结果：）
2018-03-08 12:00:54,127 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 12:00:54,127 test_case_step.py[line: 88] INFO: 执行函数：等待
2018-03-08 12:00:54,128 test_case_step.py[line: 91] INFO: 正在对输入参数:5 进行参数处理
2018-03-08 12:00:54,128 test_case_step.py[line: 108] INFO: 等待5秒
2018-03-08 12:00:59,129 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 12:00:59,129 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 18, 1520481644, 5, '', '等待', '5', '', 'Pass', 'run success', 'Chrome', '2018-03-08 12:0:54', '')
2018-03-08 12:00:59,134 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 12:00:59,135 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：审批流的同意按钮, 步序：6, 操作：点击， 输入参数：，预期结果：）
2018-03-08 12:00:59,135 test_case_step.py[line: 38] INFO: 正在执行最普通的元素操作
2018-03-08 12:00:59,135 test_case_step.py[line: 42] INFO: 正在对选择器：selector1: xpath=//*[@id=&quot;btnAgree&quot;]，selector2:  做数据转换处理
2018-03-08 12:00:59,135 test_case_step.py[line: 45] INFO: 转换后的选择器：selector1: xpath=//*[@id="btnAgree"]，selector2: 
2018-03-08 12:00:59,135 test_case_step.py[line: 47] INFO: 开始对步骤中的元素操作进行操作
2018-03-08 12:00:59,135 test_case_step.py[line: 130] INFO: 操作：点击
2018-03-08 12:00:59,135 test_case_step.py[line: 205] INFO: 开始根据元素定位器：xpath=//*[@id="btnAgree"] 自定位元素
2018-03-08 12:00:59,135 test_case_step.py[line: 218] INFO: find_element_by_xpath：//*[@id="btnAgree"]
2018-03-08 12:01:00,199 test_case_step.py[line: 191] INFO: 找到元素：<selenium.webdriver.remote.webelement.WebElement (session="d805b9225af0b445570ae9ecfbf3fc2e", element="0.7763942777007935-1")>
2018-03-08 12:01:00,542 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 12:01:00,542 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 18, 1520481644, 6, '审批流的同意按钮', '点击', '', '', 'Pass', '点击成功', 'Chrome', '2018-03-08 12:0:59', '')
2018-03-08 12:01:00,548 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 12:01:00,549 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：7, 操作：等待， 输入参数：5，预期结果：）
2018-03-08 12:01:00,549 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 12:01:00,549 test_case_step.py[line: 88] INFO: 执行函数：等待
2018-03-08 12:01:00,549 test_case_step.py[line: 91] INFO: 正在对输入参数:5 进行参数处理
2018-03-08 12:01:00,549 test_case_step.py[line: 108] INFO: 等待5秒
2018-03-08 12:01:05,550 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 12:01:05,550 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 18, 1520481644, 7, '', '等待', '5', '', 'Pass', 'run success', 'Chrome', '2018-03-08 12:1:0', '')
2018-03-08 12:01:05,556 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 12:01:05,556 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：8, 操作：切换入xpathifram， 输入参数：//iframe[contains(@id,&quot;ligerwindow&quot;)]，预期结果：）
2018-03-08 12:01:05,556 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 12:01:05,556 test_case_step.py[line: 88] INFO: 执行函数：切换入xpathifram
2018-03-08 12:01:05,556 test_case_step.py[line: 91] INFO: 正在对输入参数://iframe[contains(@id,&quot;ligerwindow&quot;)] 进行参数处理
2018-03-08 12:01:05,608 seleniumutil.py[line: 77] INFO: 切换至frame（xpath = //iframe[contains(@id,"ligerwindow")]）成功
2018-03-08 12:01:05,608 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 12:01:05,608 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 18, 1520481644, 8, '', '切换入xpathifram', '//iframe[contains(@id,&quot;ligerwindow&quot;)]', '', 'Pass', 'run success', 'Chrome', '2018-03-08 12:1:5', '')
2018-03-08 12:01:05,612 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 12:01:05,613 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：填写意见的确定按钮, 步序：9, 操作：点击， 输入参数：，预期结果：）
2018-03-08 12:01:05,613 test_case_step.py[line: 38] INFO: 正在执行最普通的元素操作
2018-03-08 12:01:05,613 test_case_step.py[line: 42] INFO: 正在对选择器：selector1: xpath=//*[@id=&quot;dataFormSave&quot;]，selector2:  做数据转换处理
2018-03-08 12:01:05,613 test_case_step.py[line: 45] INFO: 转换后的选择器：selector1: xpath=//*[@id="dataFormSave"]，selector2: 
2018-03-08 12:01:05,613 test_case_step.py[line: 47] INFO: 开始对步骤中的元素操作进行操作
2018-03-08 12:01:05,613 test_case_step.py[line: 130] INFO: 操作：点击
2018-03-08 12:01:05,613 test_case_step.py[line: 205] INFO: 开始根据元素定位器：xpath=//*[@id="dataFormSave"] 自定位元素
2018-03-08 12:01:05,613 test_case_step.py[line: 218] INFO: find_element_by_xpath：//*[@id="dataFormSave"]
2018-03-08 12:01:05,634 test_case_step.py[line: 191] INFO: 找到元素：<selenium.webdriver.remote.webelement.WebElement (session="d805b9225af0b445570ae9ecfbf3fc2e", element="0.8665288113453615-1")>
2018-03-08 12:01:05,801 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 12:01:05,801 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 18, 1520481644, 9, '填写意见的确定按钮', '点击', '', '', 'Pass', '点击成功', 'Chrome', '2018-03-08 12:1:5', '')
2018-03-08 12:01:05,808 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 12:01:05,808 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：10, 操作：等待， 输入参数：5，预期结果：）
2018-03-08 12:01:05,808 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 12:01:05,809 test_case_step.py[line: 88] INFO: 执行函数：等待
2018-03-08 12:01:05,809 test_case_step.py[line: 91] INFO: 正在对输入参数:5 进行参数处理
2018-03-08 12:01:05,809 test_case_step.py[line: 108] INFO: 等待5秒
2018-03-08 12:01:10,809 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 12:01:10,810 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 18, 1520481644, 10, '', '等待', '5', '', 'Pass', 'run success', 'Chrome', '2018-03-08 12:1:5', '')
2018-03-08 12:01:10,815 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 12:01:10,816 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：11, 操作：断言文本提示信息， 输入参数：执行任务成功!，预期结果：）
2018-03-08 12:01:10,816 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 12:01:10,816 test_case_step.py[line: 88] INFO: 执行函数：断言文本提示信息
2018-03-08 12:01:10,816 test_case_step.py[line: 91] INFO: 正在对输入参数:执行任务成功! 进行参数处理
2018-03-08 12:01:34,807 test_case_step.py[line: 275] INFO: 截图文件保存路径为：D:\python\webautotest\screentshot\tp3\tc18\tp3_tc18_step11_1520481644_20180308120134.png
2018-03-08 12:01:34,807 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 12:01:34,807 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 18, 1520481644, 11, '', '断言文本提示信息', '执行任务成功!', '', 'Fail', '断言文本提示信息失败!', 'Chrome', '2018-03-08 12:1:10', 'ftp://10.1.2.88/tp3_tc18_step11_1520481644_20180308120134.png')
2018-03-08 12:01:34,812 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 12:01:34,812 test_case.py[line: 46] INFO: 用例[id：18]步骤[步序：11] 运行失败，停止运行用例
2018-03-08 12:01:34,812 test_case.py[line: 58] INFO: 测试步骤执行完毕，正在记录用例运行结果到测试用例运行报表
2018-03-08 12:01:34,812 database.py[line: 58] INFO: query：INSERT INTO testcase_reporter(runHistoryId, browserType, testcaseId, testplanId, runTime, runResult) VALUES(%s, %s, %s, %s, %s, %s)  data：(1520481644, 'Chrome', 18, 3, '2018-03-08 12:0:48', 'Fail')
2018-03-08 12:01:34,817 test_plan.py[line: 65] INFO: ####################### 测试计划已运行完毕 #######################
2018-03-08 12:01:34,817 test_plan.py[line: 66] INFO: 正在统计测试计划执行的用例总数
2018-03-08 12:01:34,817 database.py[line: 88] INFO: query：SELECT count(testcaseId)  FROM testcase_reporter  WHERE runHistoryId = %s  data：(1520481644,)
2018-03-08 12:01:34,821 test_plan.py[line: 75] INFO: 正在统计测试计划执行成功的用例总数
2018-03-08 12:01:34,822 database.py[line: 88] INFO: query：SELECT count(testcaseId)  FROM testcase_reporter WHERE runHistoryId = %s AND runResult='Pass'  data：(1520481644,)
2018-03-08 12:01:34,826 test_plan.py[line: 85] INFO: 正在统计测试计划执行失败的用例总数
2018-03-08 12:01:34,826 database.py[line: 88] INFO: query：SELECT count(testcaseId)  FROM testcase_reporter WHERE runHistoryId = %s AND runResult='Fail'  data：(1520481644,)
2018-03-08 12:01:34,829 test_plan.py[line: 95] INFO: 正在统计测试计划执行被阻塞的用例总数
2018-03-08 12:01:34,829 database.py[line: 88] INFO: query：SELECT count(testcaseId)  FROM testcase_reporter WHERE runHistoryId = %s AND runResult='Block'  data：(1520481644,)
2018-03-08 12:01:34,833 test_plan.py[line: 105] INFO: 正在统计测试计划执行成功的用例
2018-03-08 12:01:34,833 database.py[line: 106] INFO: query：SELECT testcaseId  FROM testcase_reporter WHERE runHistoryId = %s AND runResult='Pass'  data：(1520481644,)
2018-03-08 12:01:34,836 test_plan.py[line: 115] INFO: 正在统计测试计划执行失败的用例
2018-03-08 12:01:34,836 database.py[line: 106] INFO: query：SELECT testcaseId  FROM testcase_reporter WHERE runHistoryId = %s AND runResult='Fail'  data：(1520481644,)
2018-03-08 12:01:34,839 test_plan.py[line: 125] INFO: 正在统计测试计划执行被阻塞的用例
2018-03-08 12:01:34,839 database.py[line: 106] INFO: query：SELECT testcaseId  FROM testcase_reporter WHERE runHistoryId = %s AND runResult='Block'  data：(1520481644,)
2018-03-08 12:01:34,843 test_plan.py[line: 130] INFO: 没找到计划执行被阻塞的用例
2018-03-08 12:01:34,843 test_plan.py[line: 151] INFO: 正在记录测试计划运行结果到测试计划报表
2018-03-08 12:01:34,844 database.py[line: 58] INFO: query：INSERT INTO testplan_reporter(testPlanId, testPlanName, runHistoryId, browserType, runTc_total, runPassedTc_total, runFailedTc_total,runBlockedTc_total, runPassedTc, runFailedTc, runBlockedTc, runTime)VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, '购买记录客服审批', 1520481644, 'Chrome', 2, 1, 1, 0, '(13,)', '(18,)', '', '2018-03-08 12:0:44')
2018-03-08 12:01:34,848 main.py[line: 79] INFO: 计划运行完成，正在关闭浏览器
2018-03-08 12:01:37,920 main.py[line: 82] INFO: ####################### 测试结束 #######################
2018-03-08 12:01:37,920 main.py[line: 126] INFO: 运行完成,准备生成测试报告
2018-03-08 12:01:37,920 htmlreporter.py[line: 35] INFO: 正在查询测试计划执行统计信息（执行总数，成功数，失败数，被阻塞数）
2018-03-08 12:01:37,920 database.py[line: 88] INFO: query：SELECT runTc_total, runPassedTc_total, runFailedTc_total, runBlockedTc_total, testPlanName, testPlanId FROM testplan_reporter WHERE runHistoryId = %s  data：(1520481644,)
2018-03-08 12:01:37,926 htmlreporter.py[line: 111] INFO: 正在查询测试计划：购买记录客服审批 运行的的测试用例
2018-03-08 12:01:37,926 database.py[line: 106] INFO: query：SELECT id, runHistoryId, testcaseId, testplanId, browserType, runResult, runTime FROM testcase_reporter WHERE testplanId=%s AND runHistoryId = %s ORDER BY id ASC  data：('3', 1520481644)
2018-03-08 12:01:37,930 htmlreporter.py[line: 121] INFO: 正在记录测试计划[名称：购买记录客服审批]的测试用例运行结果到测试报告
2018-03-08 12:01:37,930 database.py[line: 88] INFO: query：SELECT test_name FROM testcases WHERE id=%s  data：(13,)
2018-03-08 12:01:37,934 database.py[line: 88] INFO: query：SELECT test_name FROM testcases WHERE id=%s  data：(18,)
2018-03-08 12:01:37,937 htmlreporter.py[line: 151] INFO: 正在查询测试计划：购买记录客服审批 运行的的测试用例
2018-03-08 12:01:37,938 database.py[line: 106] INFO: query：SELECT id, runHistoryId, testcaseId, testplanId, browserType, runResult, runTime  FROM testcase_reporter WHERE testplanId=%s AND runHistoryId = %s ORDER BY id ASC  data：('3', 1520481644)
2018-03-08 12:01:37,942 htmlreporter.py[line: 168] INFO: 正在查询测试用例[id=13, name=客服登录]对应的测试步骤执行明细
2018-03-08 12:01:37,942 database.py[line: 106] INFO: query：SELECT id, stepOrder, runHistoryId, elementName, command, inparams, stepRunResult, expectedResult, stepRunResultDesc, browserType, runTime, screenshotUrl FROM case_step_run_detail WHERE testcaseId=%s AND runHistoryId = %s  ORDER BY id ASC  data：('13', 1520481644)
2018-03-08 12:01:37,948 htmlreporter.py[line: 168] INFO: 正在查询测试用例[id=18, name=购买记录客服审批]对应的测试步骤执行明细
2018-03-08 12:01:37,948 database.py[line: 106] INFO: query：SELECT id, stepOrder, runHistoryId, elementName, command, inparams, stepRunResult, expectedResult, stepRunResultDesc, browserType, runTime, screenshotUrl FROM case_step_run_detail WHERE testcaseId=%s AND runHistoryId = %s  ORDER BY id ASC  data：('18', 1520481644)
2018-03-08 12:01:37,955 htmlreporter.py[line: 211] INFO: 正在设置测试报告结果文件名
2018-03-08 12:01:37,956 htmlreporter.py[line: 222] INFO: 测试报告文件名所在路径为：E:\Projects\report\test_report20180308120137.html
2018-03-08 12:01:37,956 htmlreporter.py[line: 214] INFO: 正在生产测试报告
2018-03-08 12:01:37,971 main.py[line: 130] INFO: 生成测试报告成功
2018-03-08 12:01:37,971 main.py[line: 134] INFO: 运行完成,准备上传截图
2018-03-08 12:01:37,971 ftp.py[line: 42] INFO: is connecting to ftp server 10.1.2.88 on 21
2018-03-08 12:01:37,979 ftp.py[line: 47] INFO: ready to login ftp server
2018-03-08 12:01:38,077 ftp.py[line: 49] INFO: login ftp server successfully
2018-03-08 12:01:38,077 main.py[line: 138] INFO: 正在获取要上传的截图文件
2018-03-08 12:01:38,079 main.py[line: 146] INFO: 正在上传图片到ftp服务器
2018-03-08 12:01:38,079 main.py[line: 150] INFO: 正在上传文件：d:\python\webautotest\screentshot\tp3\tc18\tp3_tc18_step11_1520481644_20180308120134.png 到远程服务器：tp3_tc18_step11_1520481644_20180308120134.png
2018-03-08 12:01:38,105 ftp.py[line: 106] INFO: 文件：d:\python\webautotest\screentshot\tp3\tc18\tp3_tc18_step11_1520481644_20180308120134.png 已经上传到ftp
2018-03-08 12:01:38,106 ftp.py[line: 55] INFO: close ftp connection successfully
2018-03-08 12:01:38,106 main.py[line: 156] INFO: 运行完成，准备发送邮件
2018-03-08 12:01:39,197 main.py[line: 162] INFO: 邮件标题为：Hi，附件为web自动化测试报告，烦请查阅邮件内容为：{'E:\\Projects\\report\\test_report20180308120137.html'}，待发送邮件附件有 【测试报告】web自动化测试报告20180308120137
2018-03-08 12:01:39,197 main.py[line: 163] INFO: 正在发送测试报告邮件...
2018-03-08 12:01:40,286 main.py[line: 166] INFO: 发送邮件成功
2018-03-08 12:01:40,286 main.py[line: 172] INFO: 正在关闭数据库
2018-03-08 12:03:33,085 globalvar.py[line: 23] INFO: #####################正在初始化全局配置#####################
2018-03-08 12:03:33,085 globalvar.py[line: 24] INFO: 正在选择数据库运行环境和站点运行环境
2018-03-08 12:03:33,085 globalvar.py[line: 34] INFO: 在测试环境执行测试，正在获取测试环境的web site
2018-03-08 12:03:33,086 globalvar.py[line: 45] INFO: 在测试环境执行测试，正在获取测试环境的数据库
2018-03-08 12:03:33,095 globalvar.py[line: 55] INFO: 正在进行ftp配置
2018-03-08 12:03:33,101 globalvar.py[line: 62] INFO: 正在获取运行模式
2018-03-08 12:03:33,103 globalvar.py[line: 66] INFO: 运行模式为:<module 'publicpkg.runmode' from 'D:\\python\\webautotest\\publicpkg\\runmode.py'>
2018-03-08 12:03:33,103 globalvar.py[line: 69] INFO: 测试计划配置:[3]
2018-03-08 12:03:33,103 globalvar.py[line: 72] INFO: 全局初始化用例配置:[123]
2018-03-08 12:03:33,103 globalvar.py[line: 75] INFO: 正在获取浏览器配置
2018-03-08 12:03:33,104 globalvar.py[line: 79] INFO: 获取需要进行测试的浏览器有：['Chrome']
2018-03-08 12:03:33,104 globalvar.py[line: 82] INFO: 正在初始化其它工具对象
2018-03-08 12:03:33,104 globalvar.py[line: 86] INFO: 正在进行截图基路径配置
2018-03-08 12:03:33,105 globalvar.py[line: 91] INFO: 截图报存基路径为：D:\python\webautotest\screentshot\
2018-03-08 12:03:33,105 globalvar.py[line: 95] INFO: 正在进行测试报告配置
2018-03-08 12:03:33,105 globalvar.py[line: 96] INFO: --1、读取测试报告路径及文件名
2018-03-08 12:03:33,105 globalvar.py[line: 101] INFO: --2、构造测试报告
2018-03-08 12:03:33,105 globalvar.py[line: 104] INFO: --3、设置报告生成路径
2018-03-08 12:03:33,106 globalvar.py[line: 107] INFO: #####################初始化全局配置完毕#####################
2018-03-08 12:03:33,107 main.py[line: 61] INFO: ####################### 开始测试 #######################
2018-03-08 12:03:39,150 test_plan.py[line: 28] INFO: 正在获取本次测试需要执行的测试用列ID列表，测试计划名称
2018-03-08 12:03:39,150 database.py[line: 88] INFO: query：SELECT testcase_list, test_round_name FROM testcase_runround WHERE id = %s   data：(3,)
2018-03-08 12:03:39,155 test_plan.py[line: 44] INFO: 获取到的的测试用例id列表为: [13, 18]
2018-03-08 12:03:39,156 test_plan.py[line: 48] INFO: ####################### 开始运行测试计划 #######################
2018-03-08 12:03:39,156 test_case.py[line: 17] INFO: 正在构造并初始化测试用例对象[id=13]
2018-03-08 12:03:39,156 test_case.py[line: 26] INFO: 初始测试用例完毕
2018-03-08 12:03:39,156 test_case.py[line: 17] INFO: 正在构造并初始化测试用例对象[id=18]
2018-03-08 12:03:39,156 test_case.py[line: 26] INFO: 初始测试用例完毕
2018-03-08 12:03:39,156 test_case.py[line: 70] INFO: 正在获取测试用例所有测试步骤
2018-03-08 12:03:39,157 database.py[line: 106] INFO: query：(SELECT a.StepOrder AS StepOrder,c.PageName AS PageName,b.ElementName AS ElementName,b.ElementSelector AS ElementSelector,b.ElementSelector02 AS ElementSelector02,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,a.compid AS compid,a.compFolderid AS comFolderid,'' AS comName FROM testcases_steps AS a, page_elements AS b,pagesobject AS c WHERE a.TestcaseID = %s AND a.ElementId = b.Id AND b.PageId = c.Id)UNION ALL(SELECT a.steporder AS steporder,'' AS PageName,'' AS ElementSelector,'' AS ElementSelector02,'' AS ElementName,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,a.compid AS compid,a.compFolderid AS comFolderid,tc.test_name AS comName FROM testcases_steps AS a, testcases AS tc WHERE a.TestcaseID = %s AND a.compid = tc.id)UNION ALL(SELECT a.steporder AS steporder,'' AS PageName,'' AS ElementSelector,'' AS ElementSelector02,'' AS ElementName,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,'' AS compid,'' AS comFolderid,'' AS comName FROM testcases_steps AS a WHERE a.TestcaseID = %s AND NOT ISNULL(a.stepOrder)AND NOT ISNULL(a.Command) AND ISNULL(compid) AND ElementId='')ORDER BY steporder  data：(13, 13, 13)
2018-03-08 12:03:39,160 test_case.py[line: 123] INFO: 获取的测试步骤为： [(1, '', '', '', '', '断言', '深圳市金斧子网络科技有限公司-ERP', '', '', '', ''), (2, '用户登录', '用户名', 'xpath=//*[@name=&quot;username&quot;]', '', '输入', 'defang3', '', None, None, ''), (3, '用户登录', '密码', 'xpath=//*[@name=&quot;password&quot;]', '', '输入', '123', '', None, None, ''), (4, '用户登录', '登录', 'xpath=//*[@class=&quot;submit_wrap&quot;]', '', '点击', '', '', None, None, ''), (5, '', '', '', '', '等待', '3', '', '', '', ''), (6, '', '', '', '', '断言', '德芳运维', '', '', '', '')]
2018-03-08 12:03:39,160 test_case.py[line: 41] INFO: 开始执行测试步骤
2018-03-08 12:03:39,160 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：1, 操作：断言， 输入参数：深圳市金斧子网络科技有限公司-ERP，预期结果：）
2018-03-08 12:03:39,161 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 12:03:39,161 test_case_step.py[line: 88] INFO: 执行函数：断言
2018-03-08 12:03:39,161 test_case_step.py[line: 91] INFO: 正在对输入参数:深圳市金斧子网络科技有限公司-ERP 进行参数处理
2018-03-08 12:03:39,161 test_case_step.py[line: 118] INFO: 断言的标题为:深圳市金斧子网络科技有限公司-ERP
2018-03-08 12:03:39,167 seleniumutil.py[line: 161] INFO: 断言信息为：深圳市金斧子网络科技有限公司-ERP
2018-03-08 12:03:39,167 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 12:03:39,167 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 13, 1520481819, 1, '', '断言', '深圳市金斧子网络科技有限公司-ERP', '', 'Pass', '断言成功', 'Chrome', '2018-03-08 12:3:39', '')
2018-03-08 12:03:39,172 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 12:03:39,172 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：用户名, 步序：2, 操作：输入， 输入参数：defang3，预期结果：）
2018-03-08 12:03:39,172 test_case_step.py[line: 38] INFO: 正在执行最普通的元素操作
2018-03-08 12:03:39,172 test_case_step.py[line: 42] INFO: 正在对选择器：selector1: xpath=//*[@name=&quot;username&quot;]，selector2:  做数据转换处理
2018-03-08 12:03:39,173 test_case_step.py[line: 45] INFO: 转换后的选择器：selector1: xpath=//*[@name="username"]，selector2: 
2018-03-08 12:03:39,173 test_case_step.py[line: 47] INFO: 开始对步骤中的元素操作进行操作
2018-03-08 12:03:39,173 test_case_step.py[line: 130] INFO: 操作：输入
2018-03-08 12:03:39,173 test_case_step.py[line: 132] INFO: 正在对输入参数:defang3 进行参数处理
2018-03-08 12:03:39,173 test_case_step.py[line: 136] INFO: 处理后的输入参数为:['defang3'] 
2018-03-08 12:03:39,173 test_case_step.py[line: 205] INFO: 开始根据元素定位器：xpath=//*[@name="username"] 自定位元素
2018-03-08 12:03:39,173 test_case_step.py[line: 218] INFO: find_element_by_xpath：//*[@name="username"]
2018-03-08 12:03:39,187 test_case_step.py[line: 191] INFO: 找到元素：<selenium.webdriver.remote.webelement.WebElement (session="bd7f4e5879c34e1d4cdb2e74bc9f51bf", element="0.6640086633611482-1")>
2018-03-08 12:03:39,256 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 12:03:39,257 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 13, 1520481819, 2, '用户名', '输入', 'defang3', '', 'Pass', '输入数据成功', 'Chrome', '2018-03-08 12:3:39', '')
2018-03-08 12:03:39,260 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 12:03:39,261 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：密码, 步序：3, 操作：输入， 输入参数：123，预期结果：）
2018-03-08 12:03:39,261 test_case_step.py[line: 38] INFO: 正在执行最普通的元素操作
2018-03-08 12:03:39,261 test_case_step.py[line: 42] INFO: 正在对选择器：selector1: xpath=//*[@name=&quot;password&quot;]，selector2:  做数据转换处理
2018-03-08 12:03:39,261 test_case_step.py[line: 45] INFO: 转换后的选择器：selector1: xpath=//*[@name="password"]，selector2: 
2018-03-08 12:03:39,261 test_case_step.py[line: 47] INFO: 开始对步骤中的元素操作进行操作
2018-03-08 12:03:39,261 test_case_step.py[line: 130] INFO: 操作：输入
2018-03-08 12:03:39,261 test_case_step.py[line: 132] INFO: 正在对输入参数:123 进行参数处理
2018-03-08 12:03:39,261 test_case_step.py[line: 136] INFO: 处理后的输入参数为:['123'] 
2018-03-08 12:03:39,261 test_case_step.py[line: 205] INFO: 开始根据元素定位器：xpath=//*[@name="password"] 自定位元素
2018-03-08 12:03:39,261 test_case_step.py[line: 218] INFO: find_element_by_xpath：//*[@name="password"]
2018-03-08 12:03:39,277 test_case_step.py[line: 191] INFO: 找到元素：<selenium.webdriver.remote.webelement.WebElement (session="bd7f4e5879c34e1d4cdb2e74bc9f51bf", element="0.6640086633611482-2")>
2018-03-08 12:03:39,321 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 12:03:39,322 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 13, 1520481819, 3, '密码', '输入', '123', '', 'Pass', '输入数据成功', 'Chrome', '2018-03-08 12:3:39', '')
2018-03-08 12:03:39,325 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 12:03:39,326 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：登录, 步序：4, 操作：点击， 输入参数：，预期结果：）
2018-03-08 12:03:39,326 test_case_step.py[line: 38] INFO: 正在执行最普通的元素操作
2018-03-08 12:03:39,326 test_case_step.py[line: 42] INFO: 正在对选择器：selector1: xpath=//*[@class=&quot;submit_wrap&quot;]，selector2:  做数据转换处理
2018-03-08 12:03:39,326 test_case_step.py[line: 45] INFO: 转换后的选择器：selector1: xpath=//*[@class="submit_wrap"]，selector2: 
2018-03-08 12:03:39,326 test_case_step.py[line: 47] INFO: 开始对步骤中的元素操作进行操作
2018-03-08 12:03:39,326 test_case_step.py[line: 130] INFO: 操作：点击
2018-03-08 12:03:39,326 test_case_step.py[line: 205] INFO: 开始根据元素定位器：xpath=//*[@class="submit_wrap"] 自定位元素
2018-03-08 12:03:39,326 test_case_step.py[line: 218] INFO: find_element_by_xpath：//*[@class="submit_wrap"]
2018-03-08 12:03:39,342 test_case_step.py[line: 191] INFO: 找到元素：<selenium.webdriver.remote.webelement.WebElement (session="bd7f4e5879c34e1d4cdb2e74bc9f51bf", element="0.6640086633611482-3")>
2018-03-08 12:03:40,672 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 12:03:40,672 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 13, 1520481819, 4, '登录', '点击', '', '', 'Pass', '点击成功', 'Chrome', '2018-03-08 12:3:39', '')
2018-03-08 12:03:40,680 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 12:03:40,680 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：5, 操作：等待， 输入参数：3，预期结果：）
2018-03-08 12:03:40,680 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 12:03:40,680 test_case_step.py[line: 88] INFO: 执行函数：等待
2018-03-08 12:03:40,680 test_case_step.py[line: 91] INFO: 正在对输入参数:3 进行参数处理
2018-03-08 12:03:40,681 test_case_step.py[line: 108] INFO: 等待3秒
2018-03-08 12:03:43,681 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 12:03:43,681 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 13, 1520481819, 5, '', '等待', '3', '', 'Pass', 'run success', 'Chrome', '2018-03-08 12:3:40', '')
2018-03-08 12:03:43,685 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 12:03:43,685 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：6, 操作：断言， 输入参数：德芳运维，预期结果：）
2018-03-08 12:03:43,686 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 12:03:43,686 test_case_step.py[line: 88] INFO: 执行函数：断言
2018-03-08 12:03:43,686 test_case_step.py[line: 91] INFO: 正在对输入参数:德芳运维 进行参数处理
2018-03-08 12:03:43,686 test_case_step.py[line: 118] INFO: 断言的标题为:德芳运维
2018-03-08 12:03:43,700 seleniumutil.py[line: 161] INFO: 断言信息为：德芳运维
2018-03-08 12:03:43,700 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 12:03:43,700 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 13, 1520481819, 6, '', '断言', '德芳运维', '', 'Pass', '断言成功', 'Chrome', '2018-03-08 12:3:43', '')
2018-03-08 12:03:43,705 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 12:03:43,705 test_case.py[line: 58] INFO: 测试步骤执行完毕，正在记录用例运行结果到测试用例运行报表
2018-03-08 12:03:43,706 database.py[line: 58] INFO: query：INSERT INTO testcase_reporter(runHistoryId, browserType, testcaseId, testplanId, runTime, runResult) VALUES(%s, %s, %s, %s, %s, %s)  data：(1520481819, 'Chrome', 13, 3, '2018-03-08 12:3:39', 'Pass')
2018-03-08 12:03:43,709 test_case.py[line: 70] INFO: 正在获取测试用例所有测试步骤
2018-03-08 12:03:43,709 database.py[line: 106] INFO: query：(SELECT a.StepOrder AS StepOrder,c.PageName AS PageName,b.ElementName AS ElementName,b.ElementSelector AS ElementSelector,b.ElementSelector02 AS ElementSelector02,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,a.compid AS compid,a.compFolderid AS comFolderid,'' AS comName FROM testcases_steps AS a, page_elements AS b,pagesobject AS c WHERE a.TestcaseID = %s AND a.ElementId = b.Id AND b.PageId = c.Id)UNION ALL(SELECT a.steporder AS steporder,'' AS PageName,'' AS ElementSelector,'' AS ElementSelector02,'' AS ElementName,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,a.compid AS compid,a.compFolderid AS comFolderid,tc.test_name AS comName FROM testcases_steps AS a, testcases AS tc WHERE a.TestcaseID = %s AND a.compid = tc.id)UNION ALL(SELECT a.steporder AS steporder,'' AS PageName,'' AS ElementSelector,'' AS ElementSelector02,'' AS ElementName,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,'' AS compid,'' AS comFolderid,'' AS comName FROM testcases_steps AS a WHERE a.TestcaseID = %s AND NOT ISNULL(a.stepOrder)AND NOT ISNULL(a.Command) AND ISNULL(compid) AND ElementId='')ORDER BY steporder  data：(18, 18, 18)
2018-03-08 12:03:43,713 test_case.py[line: 123] INFO: 获取的测试步骤为： [(1, '', '', '', '', '等待', '5', '', '', '', ''), (2, '', '', '', '', '切换入iframe', 'iframe89892232323', '', '', '', ''), (3, '审批流', '审批流的链接', 'xpath=html/body/div[1]/div/div/div[2]/div/div/div/div[2]/div/div[1]/ul/li[1]/div[1]', '', '点击', '', '', None, None, ''), (4, '', '', '', '', '切换到新的窗口', '', '', '', '', ''), (5, '', '', '', '', '等待', '5', '', '', '', ''), (6, '审批流', '审批流的同意按钮', 'xpath=//*[@id=&quot;btnAgree&quot;]', '', '点击', '', '', None, None, ''), (7, '', '', '', '', '等待', '5', '', '', '', ''), (8, '', '', '', '', '切换入xpathifram', '//iframe[contains(@id,&quot;ligerwindow&quot;)]', '', '', '', ''), (9, '审批流', '填写意见的确定按钮', 'xpath=//*[@id=&quot;dataFormSave&quot;]', '', '点击', '', '', None, None, ''), (10, '', '', '', '', '等待', '5', '', '', '', ''), (11, '', '', '', '', '断言文本提示信息', '执行任务成功!', '', '', '', ''), (12, '', '', '', '', '等待', '5', '', '', '', ''), (13, '审批流', '同意的确定按钮', 'xpath=//*[@class=&quot;l-dialog-btn-inner&quot;]', '', '点击', '', '', None, None, '')]
2018-03-08 12:03:43,714 test_case.py[line: 41] INFO: 开始执行测试步骤
2018-03-08 12:03:43,714 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：1, 操作：等待， 输入参数：5，预期结果：）
2018-03-08 12:03:43,714 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 12:03:43,714 test_case_step.py[line: 88] INFO: 执行函数：等待
2018-03-08 12:03:43,714 test_case_step.py[line: 91] INFO: 正在对输入参数:5 进行参数处理
2018-03-08 12:03:43,714 test_case_step.py[line: 108] INFO: 等待5秒
2018-03-08 12:03:48,715 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 12:03:48,715 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 18, 1520481819, 1, '', '等待', '5', '', 'Pass', 'run success', 'Chrome', '2018-03-08 12:3:43', '')
2018-03-08 12:03:48,720 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 12:03:48,721 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：2, 操作：切换入iframe， 输入参数：iframe89892232323，预期结果：）
2018-03-08 12:03:48,721 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 12:03:48,721 test_case_step.py[line: 88] INFO: 执行函数：切换入iframe
2018-03-08 12:03:48,721 test_case_step.py[line: 91] INFO: 正在对输入参数:iframe89892232323 进行参数处理
2018-03-08 12:03:48,739 seleniumutil.py[line: 67] INFO: 切换至frame（id/name/xpath = iframe89892232323）成功
2018-03-08 12:03:48,739 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 12:03:48,739 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 18, 1520481819, 2, '', '切换入iframe', 'iframe89892232323', '', 'Pass', 'run success', 'Chrome', '2018-03-08 12:3:48', '')
2018-03-08 12:03:48,743 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 12:03:48,744 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：审批流的链接, 步序：3, 操作：点击， 输入参数：，预期结果：）
2018-03-08 12:03:48,744 test_case_step.py[line: 38] INFO: 正在执行最普通的元素操作
2018-03-08 12:03:48,744 test_case_step.py[line: 42] INFO: 正在对选择器：selector1: xpath=html/body/div[1]/div/div/div[2]/div/div/div/div[2]/div/div[1]/ul/li[1]/div[1]，selector2:  做数据转换处理
2018-03-08 12:03:48,744 test_case_step.py[line: 45] INFO: 转换后的选择器：selector1: xpath=html/body/div[1]/div/div/div[2]/div/div/div/div[2]/div/div[1]/ul/li[1]/div[1]，selector2: 
2018-03-08 12:03:48,744 test_case_step.py[line: 47] INFO: 开始对步骤中的元素操作进行操作
2018-03-08 12:03:48,744 test_case_step.py[line: 130] INFO: 操作：点击
2018-03-08 12:03:48,744 test_case_step.py[line: 205] INFO: 开始根据元素定位器：xpath=html/body/div[1]/div/div/div[2]/div/div/div/div[2]/div/div[1]/ul/li[1]/div[1] 自定位元素
2018-03-08 12:03:48,744 test_case_step.py[line: 218] INFO: find_element_by_xpath：html/body/div[1]/div/div/div[2]/div/div/div/div[2]/div/div[1]/ul/li[1]/div[1]
2018-03-08 12:03:48,762 test_case_step.py[line: 191] INFO: 找到元素：<selenium.webdriver.remote.webelement.WebElement (session="bd7f4e5879c34e1d4cdb2e74bc9f51bf", element="0.7733072405630019-1")>
2018-03-08 12:03:48,980 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 12:03:48,981 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 18, 1520481819, 3, '审批流的链接', '点击', '', '', 'Pass', '点击成功', 'Chrome', '2018-03-08 12:3:48', '')
2018-03-08 12:03:48,987 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 12:03:48,987 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：4, 操作：切换到新的窗口， 输入参数：，预期结果：）
2018-03-08 12:03:48,987 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 12:03:48,987 test_case_step.py[line: 88] INFO: 执行函数：切换到新的窗口
2018-03-08 12:03:49,072 seleniumutil.py[line: 95] INFO: 切换到新的窗口成功:CDwindow-(E22D0BC90D90DDC5351F1F9226F28F2)
2018-03-08 12:03:49,072 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 12:03:49,072 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 18, 1520481819, 4, '', '切换到新的窗口', '', '', 'Pass', '切换到新窗口成功', 'Chrome', '2018-03-08 12:3:48', '')
2018-03-08 12:03:49,078 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 12:03:49,078 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：5, 操作：等待， 输入参数：5，预期结果：）
2018-03-08 12:03:49,078 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 12:03:49,078 test_case_step.py[line: 88] INFO: 执行函数：等待
2018-03-08 12:03:49,078 test_case_step.py[line: 91] INFO: 正在对输入参数:5 进行参数处理
2018-03-08 12:03:49,078 test_case_step.py[line: 108] INFO: 等待5秒
2018-03-08 12:03:54,079 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 12:03:54,079 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 18, 1520481819, 5, '', '等待', '5', '', 'Pass', 'run success', 'Chrome', '2018-03-08 12:3:49', '')
2018-03-08 12:03:54,084 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 12:03:54,084 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：审批流的同意按钮, 步序：6, 操作：点击， 输入参数：，预期结果：）
2018-03-08 12:03:54,085 test_case_step.py[line: 38] INFO: 正在执行最普通的元素操作
2018-03-08 12:03:54,085 test_case_step.py[line: 42] INFO: 正在对选择器：selector1: xpath=//*[@id=&quot;btnAgree&quot;]，selector2:  做数据转换处理
2018-03-08 12:03:54,085 test_case_step.py[line: 45] INFO: 转换后的选择器：selector1: xpath=//*[@id="btnAgree"]，selector2: 
2018-03-08 12:03:54,085 test_case_step.py[line: 47] INFO: 开始对步骤中的元素操作进行操作
2018-03-08 12:03:54,085 test_case_step.py[line: 130] INFO: 操作：点击
2018-03-08 12:03:54,085 test_case_step.py[line: 205] INFO: 开始根据元素定位器：xpath=//*[@id="btnAgree"] 自定位元素
2018-03-08 12:03:54,085 test_case_step.py[line: 218] INFO: find_element_by_xpath：//*[@id="btnAgree"]
2018-03-08 12:03:55,144 test_case_step.py[line: 191] INFO: 找到元素：<selenium.webdriver.remote.webelement.WebElement (session="bd7f4e5879c34e1d4cdb2e74bc9f51bf", element="0.9027623721051852-1")>
2018-03-08 12:03:55,404 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 12:03:55,404 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 18, 1520481819, 6, '审批流的同意按钮', '点击', '', '', 'Pass', '点击成功', 'Chrome', '2018-03-08 12:3:54', '')
2018-03-08 12:03:55,410 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 12:03:55,410 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：7, 操作：等待， 输入参数：5，预期结果：）
2018-03-08 12:03:55,411 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 12:03:55,411 test_case_step.py[line: 88] INFO: 执行函数：等待
2018-03-08 12:03:55,411 test_case_step.py[line: 91] INFO: 正在对输入参数:5 进行参数处理
2018-03-08 12:03:55,411 test_case_step.py[line: 108] INFO: 等待5秒
2018-03-08 12:04:00,412 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 12:04:00,412 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 18, 1520481819, 7, '', '等待', '5', '', 'Pass', 'run success', 'Chrome', '2018-03-08 12:3:55', '')
2018-03-08 12:04:00,417 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 12:04:00,417 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：8, 操作：切换入xpathifram， 输入参数：//iframe[contains(@id,&quot;ligerwindow&quot;)]，预期结果：）
2018-03-08 12:04:00,418 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 12:04:00,418 test_case_step.py[line: 88] INFO: 执行函数：切换入xpathifram
2018-03-08 12:04:00,418 test_case_step.py[line: 91] INFO: 正在对输入参数://iframe[contains(@id,&quot;ligerwindow&quot;)] 进行参数处理
2018-03-08 12:04:00,462 seleniumutil.py[line: 77] INFO: 切换至frame（xpath = //iframe[contains(@id,"ligerwindow")]）成功
2018-03-08 12:04:00,462 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 12:04:00,462 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 18, 1520481819, 8, '', '切换入xpathifram', '//iframe[contains(@id,&quot;ligerwindow&quot;)]', '', 'Pass', 'run success', 'Chrome', '2018-03-08 12:4:0', '')
2018-03-08 12:04:00,466 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 12:04:00,466 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：填写意见的确定按钮, 步序：9, 操作：点击， 输入参数：，预期结果：）
2018-03-08 12:04:00,466 test_case_step.py[line: 38] INFO: 正在执行最普通的元素操作
2018-03-08 12:04:00,467 test_case_step.py[line: 42] INFO: 正在对选择器：selector1: xpath=//*[@id=&quot;dataFormSave&quot;]，selector2:  做数据转换处理
2018-03-08 12:04:00,467 test_case_step.py[line: 45] INFO: 转换后的选择器：selector1: xpath=//*[@id="dataFormSave"]，selector2: 
2018-03-08 12:04:00,467 test_case_step.py[line: 47] INFO: 开始对步骤中的元素操作进行操作
2018-03-08 12:04:00,467 test_case_step.py[line: 130] INFO: 操作：点击
2018-03-08 12:04:00,467 test_case_step.py[line: 205] INFO: 开始根据元素定位器：xpath=//*[@id="dataFormSave"] 自定位元素
2018-03-08 12:04:00,467 test_case_step.py[line: 218] INFO: find_element_by_xpath：//*[@id="dataFormSave"]
2018-03-08 12:04:00,481 test_case_step.py[line: 191] INFO: 找到元素：<selenium.webdriver.remote.webelement.WebElement (session="bd7f4e5879c34e1d4cdb2e74bc9f51bf", element="0.525298186194086-1")>
2018-03-08 12:04:00,631 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 12:04:00,632 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 18, 1520481819, 9, '填写意见的确定按钮', '点击', '', '', 'Pass', '点击成功', 'Chrome', '2018-03-08 12:4:0', '')
2018-03-08 12:04:00,637 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 12:04:00,638 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：10, 操作：等待， 输入参数：5，预期结果：）
2018-03-08 12:04:00,638 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 12:04:00,638 test_case_step.py[line: 88] INFO: 执行函数：等待
2018-03-08 12:04:00,638 test_case_step.py[line: 91] INFO: 正在对输入参数:5 进行参数处理
2018-03-08 12:04:00,638 test_case_step.py[line: 108] INFO: 等待5秒
2018-03-08 12:04:05,639 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 12:04:05,639 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 18, 1520481819, 10, '', '等待', '5', '', 'Pass', 'run success', 'Chrome', '2018-03-08 12:4:0', '')
2018-03-08 12:04:05,643 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 12:04:05,644 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：11, 操作：断言文本提示信息， 输入参数：执行任务成功!，预期结果：）
2018-03-08 12:04:05,644 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 12:04:05,644 test_case_step.py[line: 88] INFO: 执行函数：断言文本提示信息
2018-03-08 12:04:05,644 test_case_step.py[line: 91] INFO: 正在对输入参数:执行任务成功! 进行参数处理
2018-03-08 12:04:05,685 seleniumutil.py[line: 173] INFO: 断言文本提示信息为:执行任务成功!
2018-03-08 12:04:05,685 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 12:04:05,685 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 18, 1520481819, 11, '', '断言文本提示信息', '执行任务成功!', '', 'Pass', '断言文本提示信息成功!', 'Chrome', '2018-03-08 12:4:5', '')
2018-03-08 12:04:05,689 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 12:04:05,689 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：12, 操作：等待， 输入参数：5，预期结果：）
2018-03-08 12:04:05,690 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 12:04:05,690 test_case_step.py[line: 88] INFO: 执行函数：等待
2018-03-08 12:04:05,690 test_case_step.py[line: 91] INFO: 正在对输入参数:5 进行参数处理
2018-03-08 12:04:05,690 test_case_step.py[line: 108] INFO: 等待5秒
2018-03-08 12:04:10,690 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 12:04:10,690 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 18, 1520481819, 12, '', '等待', '5', '', 'Pass', 'run success', 'Chrome', '2018-03-08 12:4:5', '')
2018-03-08 12:04:10,695 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 12:04:10,695 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：同意的确定按钮, 步序：13, 操作：点击， 输入参数：，预期结果：）
2018-03-08 12:04:10,695 test_case_step.py[line: 38] INFO: 正在执行最普通的元素操作
2018-03-08 12:04:10,695 test_case_step.py[line: 42] INFO: 正在对选择器：selector1: xpath=//*[@class=&quot;l-dialog-btn-inner&quot;]，selector2:  做数据转换处理
2018-03-08 12:04:10,695 test_case_step.py[line: 45] INFO: 转换后的选择器：selector1: xpath=//*[@class="l-dialog-btn-inner"]，selector2: 
2018-03-08 12:04:10,695 test_case_step.py[line: 47] INFO: 开始对步骤中的元素操作进行操作
2018-03-08 12:04:10,695 test_case_step.py[line: 130] INFO: 操作：点击
2018-03-08 12:04:10,695 test_case_step.py[line: 205] INFO: 开始根据元素定位器：xpath=//*[@class="l-dialog-btn-inner"] 自定位元素
2018-03-08 12:04:10,696 test_case_step.py[line: 218] INFO: find_element_by_xpath：//*[@class="l-dialog-btn-inner"]
2018-03-08 12:04:10,714 test_case_step.py[line: 191] INFO: 找到元素：<selenium.webdriver.remote.webelement.WebElement (session="bd7f4e5879c34e1d4cdb2e74bc9f51bf", element="0.9027623721051852-4")>
2018-03-08 12:04:10,956 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 12:04:10,956 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, 18, 1520481819, 13, '同意的确定按钮', '点击', '', '', 'Pass', '点击成功', 'Chrome', '2018-03-08 12:4:10', '')
2018-03-08 12:04:10,962 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 12:04:10,962 test_case.py[line: 58] INFO: 测试步骤执行完毕，正在记录用例运行结果到测试用例运行报表
2018-03-08 12:04:10,963 database.py[line: 58] INFO: query：INSERT INTO testcase_reporter(runHistoryId, browserType, testcaseId, testplanId, runTime, runResult) VALUES(%s, %s, %s, %s, %s, %s)  data：(1520481819, 'Chrome', 18, 3, '2018-03-08 12:3:43', 'Pass')
2018-03-08 12:04:10,972 test_plan.py[line: 65] INFO: ####################### 测试计划已运行完毕 #######################
2018-03-08 12:04:10,973 test_plan.py[line: 66] INFO: 正在统计测试计划执行的用例总数
2018-03-08 12:04:10,973 database.py[line: 88] INFO: query：SELECT count(testcaseId)  FROM testcase_reporter  WHERE runHistoryId = %s  data：(1520481819,)
2018-03-08 12:04:10,978 test_plan.py[line: 75] INFO: 正在统计测试计划执行成功的用例总数
2018-03-08 12:04:10,978 database.py[line: 88] INFO: query：SELECT count(testcaseId)  FROM testcase_reporter WHERE runHistoryId = %s AND runResult='Pass'  data：(1520481819,)
2018-03-08 12:04:10,983 test_plan.py[line: 85] INFO: 正在统计测试计划执行失败的用例总数
2018-03-08 12:04:10,984 database.py[line: 88] INFO: query：SELECT count(testcaseId)  FROM testcase_reporter WHERE runHistoryId = %s AND runResult='Fail'  data：(1520481819,)
2018-03-08 12:04:10,989 test_plan.py[line: 95] INFO: 正在统计测试计划执行被阻塞的用例总数
2018-03-08 12:04:10,989 database.py[line: 88] INFO: query：SELECT count(testcaseId)  FROM testcase_reporter WHERE runHistoryId = %s AND runResult='Block'  data：(1520481819,)
2018-03-08 12:04:10,994 test_plan.py[line: 105] INFO: 正在统计测试计划执行成功的用例
2018-03-08 12:04:10,994 database.py[line: 106] INFO: query：SELECT testcaseId  FROM testcase_reporter WHERE runHistoryId = %s AND runResult='Pass'  data：(1520481819,)
2018-03-08 12:04:10,998 test_plan.py[line: 115] INFO: 正在统计测试计划执行失败的用例
2018-03-08 12:04:10,998 database.py[line: 106] INFO: query：SELECT testcaseId  FROM testcase_reporter WHERE runHistoryId = %s AND runResult='Fail'  data：(1520481819,)
2018-03-08 12:04:11,003 test_plan.py[line: 120] INFO: 没找到执行失败的用例
2018-03-08 12:04:11,003 test_plan.py[line: 125] INFO: 正在统计测试计划执行被阻塞的用例
2018-03-08 12:04:11,004 database.py[line: 106] INFO: query：SELECT testcaseId  FROM testcase_reporter WHERE runHistoryId = %s AND runResult='Block'  data：(1520481819,)
2018-03-08 12:04:11,007 test_plan.py[line: 130] INFO: 没找到计划执行被阻塞的用例
2018-03-08 12:04:11,007 test_plan.py[line: 151] INFO: 正在记录测试计划运行结果到测试计划报表
2018-03-08 12:04:11,007 database.py[line: 58] INFO: query：INSERT INTO testplan_reporter(testPlanId, testPlanName, runHistoryId, browserType, runTc_total, runPassedTc_total, runFailedTc_total,runBlockedTc_total, runPassedTc, runFailedTc, runBlockedTc, runTime)VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(3, '购买记录客服审批', 1520481819, 'Chrome', 2, 2, 0, 0, '(13,)', '', '', '2018-03-08 12:3:39')
2018-03-08 12:04:11,011 main.py[line: 79] INFO: 计划运行完成，正在关闭浏览器
2018-03-08 12:04:14,073 main.py[line: 82] INFO: ####################### 测试结束 #######################
2018-03-08 12:04:14,073 main.py[line: 126] INFO: 运行完成,准备生成测试报告
2018-03-08 12:04:14,073 htmlreporter.py[line: 35] INFO: 正在查询测试计划执行统计信息（执行总数，成功数，失败数，被阻塞数）
2018-03-08 12:04:14,073 database.py[line: 88] INFO: query：SELECT runTc_total, runPassedTc_total, runFailedTc_total, runBlockedTc_total, testPlanName, testPlanId FROM testplan_reporter WHERE runHistoryId = %s  data：(1520481819,)
2018-03-08 12:04:14,078 htmlreporter.py[line: 111] INFO: 正在查询测试计划：购买记录客服审批 运行的的测试用例
2018-03-08 12:04:14,078 database.py[line: 106] INFO: query：SELECT id, runHistoryId, testcaseId, testplanId, browserType, runResult, runTime FROM testcase_reporter WHERE testplanId=%s AND runHistoryId = %s ORDER BY id ASC  data：('3', 1520481819)
2018-03-08 12:04:14,083 htmlreporter.py[line: 121] INFO: 正在记录测试计划[名称：购买记录客服审批]的测试用例运行结果到测试报告
2018-03-08 12:04:14,083 database.py[line: 88] INFO: query：SELECT test_name FROM testcases WHERE id=%s  data：(13,)
2018-03-08 12:04:14,086 database.py[line: 88] INFO: query：SELECT test_name FROM testcases WHERE id=%s  data：(18,)
2018-03-08 12:04:14,089 htmlreporter.py[line: 151] INFO: 正在查询测试计划：购买记录客服审批 运行的的测试用例
2018-03-08 12:04:14,089 database.py[line: 106] INFO: query：SELECT id, runHistoryId, testcaseId, testplanId, browserType, runResult, runTime  FROM testcase_reporter WHERE testplanId=%s AND runHistoryId = %s ORDER BY id ASC  data：('3', 1520481819)
2018-03-08 12:04:14,093 htmlreporter.py[line: 168] INFO: 正在查询测试用例[id=13, name=客服登录]对应的测试步骤执行明细
2018-03-08 12:04:14,093 database.py[line: 106] INFO: query：SELECT id, stepOrder, runHistoryId, elementName, command, inparams, stepRunResult, expectedResult, stepRunResultDesc, browserType, runTime, screenshotUrl FROM case_step_run_detail WHERE testcaseId=%s AND runHistoryId = %s  ORDER BY id ASC  data：('13', 1520481819)
2018-03-08 12:04:14,099 htmlreporter.py[line: 168] INFO: 正在查询测试用例[id=18, name=购买记录客服审批]对应的测试步骤执行明细
2018-03-08 12:04:14,099 database.py[line: 106] INFO: query：SELECT id, stepOrder, runHistoryId, elementName, command, inparams, stepRunResult, expectedResult, stepRunResultDesc, browserType, runTime, screenshotUrl FROM case_step_run_detail WHERE testcaseId=%s AND runHistoryId = %s  ORDER BY id ASC  data：('18', 1520481819)
2018-03-08 12:04:14,105 htmlreporter.py[line: 211] INFO: 正在设置测试报告结果文件名
2018-03-08 12:04:14,105 htmlreporter.py[line: 222] INFO: 测试报告文件名所在路径为：E:\Projects\report\test_report20180308120414.html
2018-03-08 12:04:14,105 htmlreporter.py[line: 214] INFO: 正在生产测试报告
2018-03-08 12:04:14,108 main.py[line: 130] INFO: 生成测试报告成功
2018-03-08 12:04:14,108 main.py[line: 134] INFO: 运行完成,准备上传截图
2018-03-08 12:04:14,108 ftp.py[line: 42] INFO: is connecting to ftp server 10.1.2.88 on 21
2018-03-08 12:04:14,113 ftp.py[line: 47] INFO: ready to login ftp server
2018-03-08 12:04:14,222 ftp.py[line: 49] INFO: login ftp server successfully
2018-03-08 12:04:14,223 main.py[line: 138] INFO: 正在获取要上传的截图文件
2018-03-08 12:04:14,224 main.py[line: 146] INFO: 正在上传图片到ftp服务器
2018-03-08 12:04:14,225 ftp.py[line: 55] INFO: close ftp connection successfully
2018-03-08 12:04:14,225 main.py[line: 156] INFO: 运行完成，准备发送邮件
2018-03-08 12:04:14,456 main.py[line: 162] INFO: 邮件标题为：Hi，附件为web自动化测试报告，烦请查阅邮件内容为：{'E:\\Projects\\report\\test_report20180308120414.html'}，待发送邮件附件有 【测试报告】web自动化测试报告20180308120414
2018-03-08 12:04:14,456 main.py[line: 163] INFO: 正在发送测试报告邮件...
2018-03-08 12:04:15,151 main.py[line: 166] INFO: 发送邮件成功
2018-03-08 12:04:15,151 main.py[line: 172] INFO: 正在关闭数据库
2018-03-08 16:28:36,338 globalvar.py[line: 23] INFO: #####################正在初始化全局配置#####################
2018-03-08 16:28:36,368 globalvar.py[line: 24] INFO: 正在选择数据库运行环境和站点运行环境
2018-03-08 16:28:36,369 globalvar.py[line: 34] INFO: 在测试环境执行测试，正在获取测试环境的web site
2018-03-08 16:28:36,385 globalvar.py[line: 45] INFO: 在测试环境执行测试，正在获取测试环境的数据库
2018-03-08 16:28:36,481 globalvar.py[line: 55] INFO: 正在进行ftp配置
2018-03-08 16:28:36,503 globalvar.py[line: 62] INFO: 正在获取运行模式
2018-03-08 16:28:36,505 globalvar.py[line: 66] INFO: 运行模式为:<module 'publicpkg.runmode' from 'D:\\python\\webautotest\\publicpkg\\runmode.py'>
2018-03-08 16:28:36,505 globalvar.py[line: 69] INFO: 测试计划配置:[4]
2018-03-08 16:28:36,505 globalvar.py[line: 72] INFO: 全局初始化用例配置:[123]
2018-03-08 16:28:36,505 globalvar.py[line: 75] INFO: 正在获取浏览器配置
2018-03-08 16:28:36,505 globalvar.py[line: 79] INFO: 获取需要进行测试的浏览器有：['Chrome']
2018-03-08 16:28:36,506 globalvar.py[line: 82] INFO: 正在初始化其它工具对象
2018-03-08 16:28:36,506 globalvar.py[line: 86] INFO: 正在进行截图基路径配置
2018-03-08 16:28:36,506 globalvar.py[line: 91] INFO: 截图报存基路径为：D:\python\webautotest\screentshot\
2018-03-08 16:28:36,506 globalvar.py[line: 95] INFO: 正在进行测试报告配置
2018-03-08 16:28:36,506 globalvar.py[line: 96] INFO: --1、读取测试报告路径及文件名
2018-03-08 16:28:36,507 globalvar.py[line: 101] INFO: --2、构造测试报告
2018-03-08 16:28:36,507 globalvar.py[line: 104] INFO: --3、设置报告生成路径
2018-03-08 16:28:36,507 globalvar.py[line: 107] INFO: #####################初始化全局配置完毕#####################
2018-03-08 16:28:36,537 main.py[line: 61] INFO: ####################### 开始测试 #######################
2018-03-08 16:28:43,879 test_plan.py[line: 28] INFO: 正在获取本次测试需要执行的测试用列ID列表，测试计划名称
2018-03-08 16:28:43,879 database.py[line: 88] INFO: query：SELECT testcase_list, test_round_name FROM testcase_runround WHERE id = %s   data：(4,)
2018-03-08 16:28:43,882 test_plan.py[line: 44] INFO: 获取到的的测试用例id列表为: [14, 19, 13, 18]
2018-03-08 16:28:43,882 test_plan.py[line: 48] INFO: ####################### 开始运行测试计划 #######################
2018-03-08 16:28:43,882 test_case.py[line: 17] INFO: 正在构造并初始化测试用例对象[id=14]
2018-03-08 16:28:43,882 test_case.py[line: 26] INFO: 初始测试用例完毕
2018-03-08 16:28:43,882 test_case.py[line: 17] INFO: 正在构造并初始化测试用例对象[id=19]
2018-03-08 16:28:43,882 test_case.py[line: 26] INFO: 初始测试用例完毕
2018-03-08 16:28:43,882 test_case.py[line: 17] INFO: 正在构造并初始化测试用例对象[id=13]
2018-03-08 16:28:43,882 test_case.py[line: 26] INFO: 初始测试用例完毕
2018-03-08 16:28:43,882 test_case.py[line: 17] INFO: 正在构造并初始化测试用例对象[id=18]
2018-03-08 16:28:43,882 test_case.py[line: 26] INFO: 初始测试用例完毕
2018-03-08 16:28:43,883 test_case.py[line: 70] INFO: 正在获取测试用例所有测试步骤
2018-03-08 16:28:43,883 database.py[line: 106] INFO: query：(SELECT a.StepOrder AS StepOrder,c.PageName AS PageName,b.ElementName AS ElementName,b.ElementSelector AS ElementSelector,b.ElementSelector02 AS ElementSelector02,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,a.compid AS compid,a.compFolderid AS comFolderid,'' AS comName FROM testcases_steps AS a, page_elements AS b,pagesobject AS c WHERE a.TestcaseID = %s AND a.ElementId = b.Id AND b.PageId = c.Id)UNION ALL(SELECT a.steporder AS steporder,'' AS PageName,'' AS ElementSelector,'' AS ElementSelector02,'' AS ElementName,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,a.compid AS compid,a.compFolderid AS comFolderid,tc.test_name AS comName FROM testcases_steps AS a, testcases AS tc WHERE a.TestcaseID = %s AND a.compid = tc.id)UNION ALL(SELECT a.steporder AS steporder,'' AS PageName,'' AS ElementSelector,'' AS ElementSelector02,'' AS ElementName,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,'' AS compid,'' AS comFolderid,'' AS comName FROM testcases_steps AS a WHERE a.TestcaseID = %s AND NOT ISNULL(a.stepOrder)AND NOT ISNULL(a.Command) AND ISNULL(compid) AND ElementId='')ORDER BY steporder  data：(14, 14, 14)
2018-03-08 16:28:43,888 test_case.py[line: 123] INFO: 获取的测试步骤为： [(1, '', '', '', '', '断言', '深圳市金斧子网络科技有限公司-ERP', '', '', '', ''), (2, '用户登录', '用户名', 'xpath=//*[@name=&quot;username&quot;]', '', '输入', 'defang3', '', None, None, ''), (3, '用户登录', '密码', 'xpath=//*[@name=&quot;password&quot;]', '', '输入', '123', '', None, None, ''), (4, '用户登录', '登录', 'xpath=//*[@class=&quot;submit_wrap&quot;]', '', '点击', '', '', None, None, ''), (5, '', '', '', '', '等待', '3', '', '', '', ''), (6, '', '', '', '', '断言', '德芳运维', '德芳运维', '', '', '')]
2018-03-08 16:28:43,888 test_case.py[line: 41] INFO: 开始执行测试步骤
2018-03-08 16:28:43,888 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：1, 操作：断言， 输入参数：深圳市金斧子网络科技有限公司-ERP，预期结果：）
2018-03-08 16:28:43,889 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 16:28:43,889 test_case_step.py[line: 88] INFO: 执行函数：断言
2018-03-08 16:28:43,889 test_case_step.py[line: 91] INFO: 正在对输入参数:深圳市金斧子网络科技有限公司-ERP 进行参数处理
2018-03-08 16:28:43,889 test_case_step.py[line: 118] INFO: 断言的标题为:深圳市金斧子网络科技有限公司-ERP
2018-03-08 16:28:43,905 seleniumutil.py[line: 161] INFO: 断言信息为：深圳市金斧子网络科技有限公司-ERP
2018-03-08 16:28:43,905 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 16:28:43,905 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(4, 14, 1520497723, 1, '', '断言', '深圳市金斧子网络科技有限公司-ERP', '', 'Pass', '断言成功', 'Chrome', '2018-03-08 16:28:43', '')
2018-03-08 16:28:43,909 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 16:28:43,909 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：用户名, 步序：2, 操作：输入， 输入参数：defang3，预期结果：）
2018-03-08 16:28:43,910 test_case_step.py[line: 38] INFO: 正在执行最普通的元素操作
2018-03-08 16:28:43,910 test_case_step.py[line: 42] INFO: 正在对选择器：selector1: xpath=//*[@name=&quot;username&quot;]，selector2:  做数据转换处理
2018-03-08 16:28:43,910 test_case_step.py[line: 45] INFO: 转换后的选择器：selector1: xpath=//*[@name="username"]，selector2: 
2018-03-08 16:28:43,910 test_case_step.py[line: 47] INFO: 开始对步骤中的元素操作进行操作
2018-03-08 16:28:43,910 test_case_step.py[line: 130] INFO: 操作：输入
2018-03-08 16:28:43,910 test_case_step.py[line: 132] INFO: 正在对输入参数:defang3 进行参数处理
2018-03-08 16:28:43,910 test_case_step.py[line: 136] INFO: 处理后的输入参数为:['defang3'] 
2018-03-08 16:28:43,910 test_case_step.py[line: 205] INFO: 开始根据元素定位器：xpath=//*[@name="username"] 自定位元素
2018-03-08 16:28:43,910 test_case_step.py[line: 218] INFO: find_element_by_xpath：//*[@name="username"]
2018-03-08 16:28:43,962 test_case_step.py[line: 191] INFO: 找到元素：<selenium.webdriver.remote.webelement.WebElement (session="25dcfffbad75fe9efb3a5f71d429f655", element="0.21681426565685347-1")>
2018-03-08 16:28:44,050 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 16:28:44,050 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(4, 14, 1520497723, 2, '用户名', '输入', 'defang3', '', 'Pass', '输入数据成功', 'Chrome', '2018-03-08 16:28:43', '')
2018-03-08 16:28:44,053 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 16:28:44,054 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：密码, 步序：3, 操作：输入， 输入参数：123，预期结果：）
2018-03-08 16:28:44,054 test_case_step.py[line: 38] INFO: 正在执行最普通的元素操作
2018-03-08 16:28:44,054 test_case_step.py[line: 42] INFO: 正在对选择器：selector1: xpath=//*[@name=&quot;password&quot;]，selector2:  做数据转换处理
2018-03-08 16:28:44,054 test_case_step.py[line: 45] INFO: 转换后的选择器：selector1: xpath=//*[@name="password"]，selector2: 
2018-03-08 16:28:44,054 test_case_step.py[line: 47] INFO: 开始对步骤中的元素操作进行操作
2018-03-08 16:28:44,054 test_case_step.py[line: 130] INFO: 操作：输入
2018-03-08 16:28:44,054 test_case_step.py[line: 132] INFO: 正在对输入参数:123 进行参数处理
2018-03-08 16:28:44,054 test_case_step.py[line: 136] INFO: 处理后的输入参数为:['123'] 
2018-03-08 16:28:44,054 test_case_step.py[line: 205] INFO: 开始根据元素定位器：xpath=//*[@name="password"] 自定位元素
2018-03-08 16:28:44,055 test_case_step.py[line: 218] INFO: find_element_by_xpath：//*[@name="password"]
2018-03-08 16:28:44,072 test_case_step.py[line: 191] INFO: 找到元素：<selenium.webdriver.remote.webelement.WebElement (session="25dcfffbad75fe9efb3a5f71d429f655", element="0.21681426565685347-2")>
2018-03-08 16:28:44,165 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 16:28:44,165 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(4, 14, 1520497723, 3, '密码', '输入', '123', '', 'Pass', '输入数据成功', 'Chrome', '2018-03-08 16:28:44', '')
2018-03-08 16:28:44,170 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 16:28:44,171 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：登录, 步序：4, 操作：点击， 输入参数：，预期结果：）
2018-03-08 16:28:44,171 test_case_step.py[line: 38] INFO: 正在执行最普通的元素操作
2018-03-08 16:28:44,171 test_case_step.py[line: 42] INFO: 正在对选择器：selector1: xpath=//*[@class=&quot;submit_wrap&quot;]，selector2:  做数据转换处理
2018-03-08 16:28:44,171 test_case_step.py[line: 45] INFO: 转换后的选择器：selector1: xpath=//*[@class="submit_wrap"]，selector2: 
2018-03-08 16:28:44,171 test_case_step.py[line: 47] INFO: 开始对步骤中的元素操作进行操作
2018-03-08 16:28:44,171 test_case_step.py[line: 130] INFO: 操作：点击
2018-03-08 16:28:44,172 test_case_step.py[line: 205] INFO: 开始根据元素定位器：xpath=//*[@class="submit_wrap"] 自定位元素
2018-03-08 16:28:44,172 test_case_step.py[line: 218] INFO: find_element_by_xpath：//*[@class="submit_wrap"]
2018-03-08 16:28:44,196 test_case_step.py[line: 191] INFO: 找到元素：<selenium.webdriver.remote.webelement.WebElement (session="25dcfffbad75fe9efb3a5f71d429f655", element="0.21681426565685347-3")>
2018-03-08 16:28:45,465 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 16:28:45,465 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(4, 14, 1520497723, 4, '登录', '点击', '', '', 'Pass', '点击成功', 'Chrome', '2018-03-08 16:28:44', '')
2018-03-08 16:28:45,470 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 16:28:45,470 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：5, 操作：等待， 输入参数：3，预期结果：）
2018-03-08 16:28:45,470 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 16:28:45,470 test_case_step.py[line: 88] INFO: 执行函数：等待
2018-03-08 16:28:45,470 test_case_step.py[line: 91] INFO: 正在对输入参数:3 进行参数处理
2018-03-08 16:28:45,470 test_case_step.py[line: 108] INFO: 等待3秒
2018-03-08 16:28:48,493 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 16:28:48,493 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(4, 14, 1520497723, 5, '', '等待', '3', '', 'Pass', 'run success', 'Chrome', '2018-03-08 16:28:45', '')
2018-03-08 16:28:48,497 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 16:28:48,497 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：6, 操作：断言， 输入参数：德芳运维，预期结果：德芳运维）
2018-03-08 16:28:48,497 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 16:28:48,497 test_case_step.py[line: 88] INFO: 执行函数：断言
2018-03-08 16:28:48,498 test_case_step.py[line: 91] INFO: 正在对输入参数:德芳运维 进行参数处理
2018-03-08 16:28:48,498 test_case_step.py[line: 118] INFO: 断言的标题为:德芳运维
2018-03-08 16:28:48,510 seleniumutil.py[line: 161] INFO: 断言信息为：德芳运维
2018-03-08 16:28:48,510 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 16:28:48,511 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(4, 14, 1520497723, 6, '', '断言', '德芳运维', '德芳运维', 'Pass', '断言成功', 'Chrome', '2018-03-08 16:28:48', '')
2018-03-08 16:28:48,514 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 16:28:48,514 test_case.py[line: 58] INFO: 测试步骤执行完毕，正在记录用例运行结果到测试用例运行报表
2018-03-08 16:28:48,514 database.py[line: 58] INFO: query：INSERT INTO testcase_reporter(runHistoryId, browserType, testcaseId, testplanId, runTime, runResult) VALUES(%s, %s, %s, %s, %s, %s)  data：(1520497723, 'Chrome', 14, 4, '2018-03-08 16:28:43', 'Pass')
2018-03-08 16:28:48,519 test_case.py[line: 70] INFO: 正在获取测试用例所有测试步骤
2018-03-08 16:28:48,519 database.py[line: 106] INFO: query：(SELECT a.StepOrder AS StepOrder,c.PageName AS PageName,b.ElementName AS ElementName,b.ElementSelector AS ElementSelector,b.ElementSelector02 AS ElementSelector02,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,a.compid AS compid,a.compFolderid AS comFolderid,'' AS comName FROM testcases_steps AS a, page_elements AS b,pagesobject AS c WHERE a.TestcaseID = %s AND a.ElementId = b.Id AND b.PageId = c.Id)UNION ALL(SELECT a.steporder AS steporder,'' AS PageName,'' AS ElementSelector,'' AS ElementSelector02,'' AS ElementName,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,a.compid AS compid,a.compFolderid AS comFolderid,tc.test_name AS comName FROM testcases_steps AS a, testcases AS tc WHERE a.TestcaseID = %s AND a.compid = tc.id)UNION ALL(SELECT a.steporder AS steporder,'' AS PageName,'' AS ElementSelector,'' AS ElementSelector02,'' AS ElementName,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,'' AS compid,'' AS comFolderid,'' AS comName FROM testcases_steps AS a WHERE a.TestcaseID = %s AND NOT ISNULL(a.stepOrder)AND NOT ISNULL(a.Command) AND ISNULL(compid) AND ElementId='')ORDER BY steporder  data：(19, 19, 19)
2018-03-08 16:28:48,524 test_case.py[line: 123] INFO: 获取的测试步骤为： [(1, '', '', '', '', '等待', '5', '', '', '', ''), (2, '', '', '', '', '切换入iframe', 'iframe89892232323', '', '', '', ''), (3, '审批流', '审批流的链接', 'xpath=html/body/div[1]/div/div/div[2]/div/div/div/div[2]/div/div[1]/ul/li[1]/div[1]', '', '点击', '', '', None, None, ''), (4, '', '', '', '', '切换到新的窗口', '', '', '', '', ''), (5, '', '', '', '', '等待', '5', '', '', '', ''), (6, '审批流', '审批流的同意按钮', 'xpath=//*[@id=&quot;btnAgree&quot;]', '', '点击', '', '', None, None, ''), (7, '', '', '', '', '切换入xpathifram', '//iframe[contains(@id,&#039;ligerwindow&#039;)]', '', '', '', ''), (8, '', '', '', '', '等待', '3', '', '', '', ''), (9, '审批流', '填写意见的确定按钮', 'xpath=//*[@id=&quot;dataFormSave&quot;]', '', '点击', '', '', None, None, ''), (10, '', '', '', '', '等待', '5', '', '', '', ''), (11, '', '', '', '', '断言文本提示信息', '执行任务成功!', '', '', '', ''), (12, '', '', '', '', '等待', '5', '', '', '', ''), (13, '审批流', '同意的确定按钮', 'xpath=//*[@class=&quot;l-dialog-btn-inner&quot;]', '', '点击', '', '', None, None, '')]
2018-03-08 16:28:48,524 test_case.py[line: 41] INFO: 开始执行测试步骤
2018-03-08 16:28:48,524 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：1, 操作：等待， 输入参数：5，预期结果：）
2018-03-08 16:28:48,524 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 16:28:48,525 test_case_step.py[line: 88] INFO: 执行函数：等待
2018-03-08 16:28:48,525 test_case_step.py[line: 91] INFO: 正在对输入参数:5 进行参数处理
2018-03-08 16:28:48,525 test_case_step.py[line: 108] INFO: 等待5秒
2018-03-08 16:28:53,525 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 16:28:53,525 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(4, 19, 1520497723, 1, '', '等待', '5', '', 'Pass', 'run success', 'Chrome', '2018-03-08 16:28:48', '')
2018-03-08 16:28:53,529 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 16:28:53,529 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：2, 操作：切换入iframe， 输入参数：iframe89892232323，预期结果：）
2018-03-08 16:28:53,529 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 16:28:53,529 test_case_step.py[line: 88] INFO: 执行函数：切换入iframe
2018-03-08 16:28:53,529 test_case_step.py[line: 91] INFO: 正在对输入参数:iframe89892232323 进行参数处理
2018-03-08 16:28:53,548 seleniumutil.py[line: 67] INFO: 切换至frame（id/name/xpath = iframe89892232323）成功
2018-03-08 16:28:53,548 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 16:28:53,548 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(4, 19, 1520497723, 2, '', '切换入iframe', 'iframe89892232323', '', 'Pass', 'run success', 'Chrome', '2018-03-08 16:28:53', '')
2018-03-08 16:28:53,552 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 16:28:53,552 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：审批流的链接, 步序：3, 操作：点击， 输入参数：，预期结果：）
2018-03-08 16:28:53,552 test_case_step.py[line: 38] INFO: 正在执行最普通的元素操作
2018-03-08 16:28:53,552 test_case_step.py[line: 42] INFO: 正在对选择器：selector1: xpath=html/body/div[1]/div/div/div[2]/div/div/div/div[2]/div/div[1]/ul/li[1]/div[1]，selector2:  做数据转换处理
2018-03-08 16:28:53,552 test_case_step.py[line: 45] INFO: 转换后的选择器：selector1: xpath=html/body/div[1]/div/div/div[2]/div/div/div/div[2]/div/div[1]/ul/li[1]/div[1]，selector2: 
2018-03-08 16:28:53,552 test_case_step.py[line: 47] INFO: 开始对步骤中的元素操作进行操作
2018-03-08 16:28:53,552 test_case_step.py[line: 130] INFO: 操作：点击
2018-03-08 16:28:53,552 test_case_step.py[line: 205] INFO: 开始根据元素定位器：xpath=html/body/div[1]/div/div/div[2]/div/div/div/div[2]/div/div[1]/ul/li[1]/div[1] 自定位元素
2018-03-08 16:28:53,552 test_case_step.py[line: 218] INFO: find_element_by_xpath：html/body/div[1]/div/div/div[2]/div/div/div/div[2]/div/div[1]/ul/li[1]/div[1]
2018-03-08 16:28:53,571 test_case_step.py[line: 191] INFO: 找到元素：<selenium.webdriver.remote.webelement.WebElement (session="25dcfffbad75fe9efb3a5f71d429f655", element="0.6915244354972725-1")>
2018-03-08 16:28:53,716 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 16:28:53,716 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(4, 19, 1520497723, 3, '审批流的链接', '点击', '', '', 'Pass', '点击成功', 'Chrome', '2018-03-08 16:28:53', '')
2018-03-08 16:28:53,720 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 16:28:53,721 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：4, 操作：切换到新的窗口， 输入参数：，预期结果：）
2018-03-08 16:28:53,721 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 16:28:53,721 test_case_step.py[line: 88] INFO: 执行函数：切换到新的窗口
2018-03-08 16:28:53,757 seleniumutil.py[line: 95] INFO: 切换到新的窗口成功:CDwindow-(C61E93A5C03D4A5FDB94F563C70A1928)
2018-03-08 16:28:53,757 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 16:28:53,757 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(4, 19, 1520497723, 4, '', '切换到新的窗口', '', '', 'Pass', '切换到新窗口成功', 'Chrome', '2018-03-08 16:28:53', '')
2018-03-08 16:28:53,762 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 16:28:53,762 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：5, 操作：等待， 输入参数：5，预期结果：）
2018-03-08 16:28:53,762 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 16:28:53,762 test_case_step.py[line: 88] INFO: 执行函数：等待
2018-03-08 16:28:53,763 test_case_step.py[line: 91] INFO: 正在对输入参数:5 进行参数处理
2018-03-08 16:28:53,763 test_case_step.py[line: 108] INFO: 等待5秒
2018-03-08 16:28:58,764 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 16:28:58,764 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(4, 19, 1520497723, 5, '', '等待', '5', '', 'Pass', 'run success', 'Chrome', '2018-03-08 16:28:53', '')
2018-03-08 16:28:58,768 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 16:28:58,768 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：审批流的同意按钮, 步序：6, 操作：点击， 输入参数：，预期结果：）
2018-03-08 16:28:58,768 test_case_step.py[line: 38] INFO: 正在执行最普通的元素操作
2018-03-08 16:28:58,769 test_case_step.py[line: 42] INFO: 正在对选择器：selector1: xpath=//*[@id=&quot;btnAgree&quot;]，selector2:  做数据转换处理
2018-03-08 16:28:58,769 test_case_step.py[line: 45] INFO: 转换后的选择器：selector1: xpath=//*[@id="btnAgree"]，selector2: 
2018-03-08 16:28:58,769 test_case_step.py[line: 47] INFO: 开始对步骤中的元素操作进行操作
2018-03-08 16:28:58,769 test_case_step.py[line: 130] INFO: 操作：点击
2018-03-08 16:28:58,769 test_case_step.py[line: 205] INFO: 开始根据元素定位器：xpath=//*[@id="btnAgree"] 自定位元素
2018-03-08 16:28:58,769 test_case_step.py[line: 218] INFO: find_element_by_xpath：//*[@id="btnAgree"]
2018-03-08 16:28:59,831 test_case_step.py[line: 191] INFO: 找到元素：<selenium.webdriver.remote.webelement.WebElement (session="25dcfffbad75fe9efb3a5f71d429f655", element="0.6559451220789057-1")>
2018-03-08 16:29:00,095 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 16:29:00,095 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(4, 19, 1520497723, 6, '审批流的同意按钮', '点击', '', '', 'Pass', '点击成功', 'Chrome', '2018-03-08 16:28:58', '')
2018-03-08 16:29:00,099 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 16:29:00,099 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：7, 操作：切换入xpathifram， 输入参数：//iframe[contains(@id,&#039;ligerwindow&#039;)]，预期结果：）
2018-03-08 16:29:00,099 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 16:29:00,099 test_case_step.py[line: 88] INFO: 执行函数：切换入xpathifram
2018-03-08 16:29:00,099 test_case_step.py[line: 91] INFO: 正在对输入参数://iframe[contains(@id,&#039;ligerwindow&#039;)] 进行参数处理
2018-03-08 16:29:00,136 seleniumutil.py[line: 80] ERROR: 切换至frame（xpath = //iframe[contains(@id,&#039;ligerwindow&#039;)]）失败
2018-03-08 16:29:00,536 test_case_step.py[line: 275] INFO: 截图文件保存路径为：D:\python\webautotest\screentshot\tp4\tc19\tp4_tc19_step7_1520497723_20180308162900.png
2018-03-08 16:29:00,536 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 16:29:00,536 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(4, 19, 1520497723, 7, '', '切换入xpathifram', '//iframe[contains(@id,&#039;ligerwindow&#039;)]', '', 'Fail', InvalidSelectorException("invalid selector: Unable to locate an element with the xpath expression //iframe[contains(@id,&#039;ligerwindow&#039;)] because of the following error:\nSyntaxError: Failed to execute 'evaluate' on 'Document': The string '//iframe[contains(@id,&#039;ligerwindow&#039;)]' is not a valid XPath expression.\n  (Session info: chrome=64.0.3282.186)\n  (Driver info: chromedriver=2.33.506120 (e3e53437346286c0bc2d2dc9aa4915ba81d9023f),platform=Windows NT 6.1.7601 SP1 x86_64)", None, None), 'Chrome', '2018-03-08 16:29:0', 'ftp://10.1.2.88/tp4_tc19_step7_1520497723_20180308162900.png')
2018-03-08 16:29:00,538 database.py[line: 66] ERROR: 执行数据库插入操作失败：Failed processing format-parameters; Python 'invalidselectorexception' cannot be converted to a MySQL type
2018-03-08 16:29:00,539 test_case_step.py[line: 81] ERROR: 记录到测试步骤结果报表失败 Failed processing format-parameters; Python 'invalidselectorexception' cannot be converted to a MySQL type
2018-03-08 16:29:00,539 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 16:29:00,539 test_case.py[line: 46] INFO: 用例[id：19]步骤[步序：7] 运行失败，停止运行用例
2018-03-08 16:29:00,539 test_case.py[line: 58] INFO: 测试步骤执行完毕，正在记录用例运行结果到测试用例运行报表
2018-03-08 16:29:00,540 database.py[line: 58] INFO: query：INSERT INTO testcase_reporter(runHistoryId, browserType, testcaseId, testplanId, runTime, runResult) VALUES(%s, %s, %s, %s, %s, %s)  data：(1520497723, 'Chrome', 19, 4, '2018-03-08 16:28:48', 'Fail')
2018-03-08 16:29:00,543 test_case.py[line: 70] INFO: 正在获取测试用例所有测试步骤
2018-03-08 16:29:00,543 database.py[line: 106] INFO: query：(SELECT a.StepOrder AS StepOrder,c.PageName AS PageName,b.ElementName AS ElementName,b.ElementSelector AS ElementSelector,b.ElementSelector02 AS ElementSelector02,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,a.compid AS compid,a.compFolderid AS comFolderid,'' AS comName FROM testcases_steps AS a, page_elements AS b,pagesobject AS c WHERE a.TestcaseID = %s AND a.ElementId = b.Id AND b.PageId = c.Id)UNION ALL(SELECT a.steporder AS steporder,'' AS PageName,'' AS ElementSelector,'' AS ElementSelector02,'' AS ElementName,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,a.compid AS compid,a.compFolderid AS comFolderid,tc.test_name AS comName FROM testcases_steps AS a, testcases AS tc WHERE a.TestcaseID = %s AND a.compid = tc.id)UNION ALL(SELECT a.steporder AS steporder,'' AS PageName,'' AS ElementSelector,'' AS ElementSelector02,'' AS ElementName,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,'' AS compid,'' AS comFolderid,'' AS comName FROM testcases_steps AS a WHERE a.TestcaseID = %s AND NOT ISNULL(a.stepOrder)AND NOT ISNULL(a.Command) AND ISNULL(compid) AND ElementId='')ORDER BY steporder  data：(13, 13, 13)
2018-03-08 16:29:00,547 test_case.py[line: 123] INFO: 获取的测试步骤为： [(1, '', '', '', '', '断言', '深圳市金斧子网络科技有限公司-ERP', '', '', '', ''), (2, '用户登录', '用户名', 'xpath=//*[@name=&quot;username&quot;]', '', '输入', 'defang2', '', None, None, ''), (3, '用户登录', '密码', 'xpath=//*[@name=&quot;password&quot;]', '', '输入', '123', '', None, None, ''), (4, '用户登录', '登录', 'xpath=//*[@class=&quot;submit_wrap&quot;]', '', '点击', '', '', None, None, ''), (5, '', '', '', '', '等待', '3', '', '', '', ''), (6, '', '', '', '', '断言', '德芳客服', '', '', '', '')]
2018-03-08 16:29:00,547 test_case.py[line: 41] INFO: 开始执行测试步骤
2018-03-08 16:29:00,547 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：1, 操作：断言， 输入参数：深圳市金斧子网络科技有限公司-ERP，预期结果：）
2018-03-08 16:29:00,547 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 16:29:00,547 test_case_step.py[line: 88] INFO: 执行函数：断言
2018-03-08 16:29:00,547 test_case_step.py[line: 91] INFO: 正在对输入参数:深圳市金斧子网络科技有限公司-ERP 进行参数处理
2018-03-08 16:29:00,547 test_case_step.py[line: 118] INFO: 断言的标题为:深圳市金斧子网络科技有限公司-ERP
2018-03-08 16:29:00,953 test_case_step.py[line: 275] INFO: 截图文件保存路径为：D:\python\webautotest\screentshot\tp4\tc13\tp4_tc13_step1_1520497723_20180308162900.png
2018-03-08 16:29:00,953 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 16:29:00,953 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(4, 13, 1520497723, 1, '', '断言', '深圳市金斧子网络科技有限公司-ERP', '', 'Fail', '断言失败', 'Chrome', '2018-03-08 16:29:0', 'ftp://10.1.2.88/tp4_tc13_step1_1520497723_20180308162900.png')
2018-03-08 16:29:00,956 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 16:29:00,956 test_case.py[line: 46] INFO: 用例[id：13]步骤[步序：1] 运行失败，停止运行用例
2018-03-08 16:29:00,957 test_case.py[line: 58] INFO: 测试步骤执行完毕，正在记录用例运行结果到测试用例运行报表
2018-03-08 16:29:00,957 database.py[line: 58] INFO: query：INSERT INTO testcase_reporter(runHistoryId, browserType, testcaseId, testplanId, runTime, runResult) VALUES(%s, %s, %s, %s, %s, %s)  data：(1520497723, 'Chrome', 13, 4, '2018-03-08 16:29:0', 'Fail')
2018-03-08 16:29:00,960 test_case.py[line: 70] INFO: 正在获取测试用例所有测试步骤
2018-03-08 16:29:00,960 database.py[line: 106] INFO: query：(SELECT a.StepOrder AS StepOrder,c.PageName AS PageName,b.ElementName AS ElementName,b.ElementSelector AS ElementSelector,b.ElementSelector02 AS ElementSelector02,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,a.compid AS compid,a.compFolderid AS comFolderid,'' AS comName FROM testcases_steps AS a, page_elements AS b,pagesobject AS c WHERE a.TestcaseID = %s AND a.ElementId = b.Id AND b.PageId = c.Id)UNION ALL(SELECT a.steporder AS steporder,'' AS PageName,'' AS ElementSelector,'' AS ElementSelector02,'' AS ElementName,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,a.compid AS compid,a.compFolderid AS comFolderid,tc.test_name AS comName FROM testcases_steps AS a, testcases AS tc WHERE a.TestcaseID = %s AND a.compid = tc.id)UNION ALL(SELECT a.steporder AS steporder,'' AS PageName,'' AS ElementSelector,'' AS ElementSelector02,'' AS ElementName,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,'' AS compid,'' AS comFolderid,'' AS comName FROM testcases_steps AS a WHERE a.TestcaseID = %s AND NOT ISNULL(a.stepOrder)AND NOT ISNULL(a.Command) AND ISNULL(compid) AND ElementId='')ORDER BY steporder  data：(18, 18, 18)
2018-03-08 16:29:00,964 test_case.py[line: 123] INFO: 获取的测试步骤为： [(1, '', '', '', '', '等待', '5', '', '', '', ''), (2, '', '', '', '', '切换入iframe', 'iframe89892232323', '', '', '', ''), (3, '审批流', '审批流的链接', 'xpath=html/body/div[1]/div/div/div[2]/div/div/div/div[2]/div/div[1]/ul/li[1]/div[1]', '', '点击', '', '', None, None, ''), (4, '', '', '', '', '切换到新的窗口', '', '', '', '', ''), (5, '', '', '', '', '等待', '5', '', '', '', ''), (6, '审批流', '审批流的同意按钮', 'xpath=//*[@id=&quot;btnAgree&quot;]', '', '点击', '', '', None, None, ''), (7, '', '', '', '', '等待', '5', '', '', '', ''), (8, '', '', '', '', '切换入xpathifram', '//iframe[contains(@id,&quot;ligerwindow&quot;)]', '', '', '', ''), (9, '审批流', '填写意见的确定按钮', 'xpath=//*[@id=&quot;dataFormSave&quot;]', '', '点击', '', '', None, None, ''), (10, '', '', '', '', '等待', '5', '', '', '', ''), (11, '', '', '', '', '断言文本提示信息', '执行任务成功!', '', '', '', ''), (12, '', '', '', '', '等待', '5', '', '', '', ''), (13, '审批流', '同意的确定按钮', 'xpath=//*[@class=&quot;l-dialog-btn-inner&quot;]', '', '点击', '', '', None, None, '')]
2018-03-08 16:29:00,964 test_case.py[line: 41] INFO: 开始执行测试步骤
2018-03-08 16:29:00,965 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：1, 操作：等待， 输入参数：5，预期结果：）
2018-03-08 16:29:00,965 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 16:29:00,965 test_case_step.py[line: 88] INFO: 执行函数：等待
2018-03-08 16:29:00,965 test_case_step.py[line: 91] INFO: 正在对输入参数:5 进行参数处理
2018-03-08 16:29:00,965 test_case_step.py[line: 108] INFO: 等待5秒
2018-03-08 16:29:05,965 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 16:29:05,965 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(4, 18, 1520497723, 1, '', '等待', '5', '', 'Pass', 'run success', 'Chrome', '2018-03-08 16:29:0', '')
2018-03-08 16:29:05,969 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 16:29:05,969 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：2, 操作：切换入iframe， 输入参数：iframe89892232323，预期结果：）
2018-03-08 16:29:05,969 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 16:29:05,969 test_case_step.py[line: 88] INFO: 执行函数：切换入iframe
2018-03-08 16:29:05,970 test_case_step.py[line: 91] INFO: 正在对输入参数:iframe89892232323 进行参数处理
2018-03-08 16:29:05,984 seleniumutil.py[line: 70] ERROR: 切换至frame（id/name/xpath = iframe89892232323）失败
2018-03-08 16:29:06,386 test_case_step.py[line: 275] INFO: 截图文件保存路径为：D:\python\webautotest\screentshot\tp4\tc18\tp4_tc18_step2_1520497723_20180308162905.png
2018-03-08 16:29:06,386 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 16:29:06,386 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(4, 18, 1520497723, 2, '', '切换入iframe', 'iframe89892232323', '', 'Fail', NoSuchFrameException('no such frame\n  (Session info: chrome=64.0.3282.186)\n  (Driver info: chromedriver=2.33.506120 (e3e53437346286c0bc2d2dc9aa4915ba81d9023f),platform=Windows NT 6.1.7601 SP1 x86_64)', None, None), 'Chrome', '2018-03-08 16:29:5', 'ftp://10.1.2.88/tp4_tc18_step2_1520497723_20180308162905.png')
2018-03-08 16:29:06,388 database.py[line: 66] ERROR: 执行数据库插入操作失败：Failed processing format-parameters; Python 'nosuchframeexception' cannot be converted to a MySQL type
2018-03-08 16:29:06,389 test_case_step.py[line: 81] ERROR: 记录到测试步骤结果报表失败 Failed processing format-parameters; Python 'nosuchframeexception' cannot be converted to a MySQL type
2018-03-08 16:29:06,389 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 16:29:06,389 test_case.py[line: 46] INFO: 用例[id：18]步骤[步序：2] 运行失败，停止运行用例
2018-03-08 16:29:06,389 test_case.py[line: 58] INFO: 测试步骤执行完毕，正在记录用例运行结果到测试用例运行报表
2018-03-08 16:29:06,389 database.py[line: 58] INFO: query：INSERT INTO testcase_reporter(runHistoryId, browserType, testcaseId, testplanId, runTime, runResult) VALUES(%s, %s, %s, %s, %s, %s)  data：(1520497723, 'Chrome', 18, 4, '2018-03-08 16:29:0', 'Fail')
2018-03-08 16:29:06,392 test_plan.py[line: 65] INFO: ####################### 测试计划已运行完毕 #######################
2018-03-08 16:29:06,392 test_plan.py[line: 66] INFO: 正在统计测试计划执行的用例总数
2018-03-08 16:29:06,392 database.py[line: 88] INFO: query：SELECT count(testcaseId)  FROM testcase_reporter  WHERE runHistoryId = %s  data：(1520497723,)
2018-03-08 16:29:06,394 test_plan.py[line: 75] INFO: 正在统计测试计划执行成功的用例总数
2018-03-08 16:29:06,395 database.py[line: 88] INFO: query：SELECT count(testcaseId)  FROM testcase_reporter WHERE runHistoryId = %s AND runResult='Pass'  data：(1520497723,)
2018-03-08 16:29:06,397 test_plan.py[line: 85] INFO: 正在统计测试计划执行失败的用例总数
2018-03-08 16:29:06,397 database.py[line: 88] INFO: query：SELECT count(testcaseId)  FROM testcase_reporter WHERE runHistoryId = %s AND runResult='Fail'  data：(1520497723,)
2018-03-08 16:29:06,399 test_plan.py[line: 95] INFO: 正在统计测试计划执行被阻塞的用例总数
2018-03-08 16:29:06,399 database.py[line: 88] INFO: query：SELECT count(testcaseId)  FROM testcase_reporter WHERE runHistoryId = %s AND runResult='Block'  data：(1520497723,)
2018-03-08 16:29:06,402 test_plan.py[line: 105] INFO: 正在统计测试计划执行成功的用例
2018-03-08 16:29:06,402 database.py[line: 106] INFO: query：SELECT testcaseId  FROM testcase_reporter WHERE runHistoryId = %s AND runResult='Pass'  data：(1520497723,)
2018-03-08 16:29:06,404 test_plan.py[line: 115] INFO: 正在统计测试计划执行失败的用例
2018-03-08 16:29:06,404 database.py[line: 106] INFO: query：SELECT testcaseId  FROM testcase_reporter WHERE runHistoryId = %s AND runResult='Fail'  data：(1520497723,)
2018-03-08 16:29:06,406 test_plan.py[line: 125] INFO: 正在统计测试计划执行被阻塞的用例
2018-03-08 16:29:06,406 database.py[line: 106] INFO: query：SELECT testcaseId  FROM testcase_reporter WHERE runHistoryId = %s AND runResult='Block'  data：(1520497723,)
2018-03-08 16:29:06,409 test_plan.py[line: 130] INFO: 没找到计划执行被阻塞的用例
2018-03-08 16:29:06,409 test_plan.py[line: 151] INFO: 正在记录测试计划运行结果到测试计划报表
2018-03-08 16:29:06,409 database.py[line: 58] INFO: query：INSERT INTO testplan_reporter(testPlanId, testPlanName, runHistoryId, browserType, runTc_total, runPassedTc_total, runFailedTc_total,runBlockedTc_total, runPassedTc, runFailedTc, runBlockedTc, runTime)VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(4, '购买记录审批流程', 1520497723, 'Chrome', 4, 1, 3, 0, '(14,)', '(19,)', '', '2018-03-08 16:28:43')
2018-03-08 16:29:06,412 main.py[line: 79] INFO: 计划运行完成，正在关闭浏览器
2018-03-08 16:29:09,496 main.py[line: 82] INFO: ####################### 测试结束 #######################
2018-03-08 16:29:09,496 main.py[line: 126] INFO: 运行完成,准备生成测试报告
2018-03-08 16:29:09,496 htmlreporter.py[line: 35] INFO: 正在查询测试计划执行统计信息（执行总数，成功数，失败数，被阻塞数）
2018-03-08 16:29:09,496 database.py[line: 88] INFO: query：SELECT runTc_total, runPassedTc_total, runFailedTc_total, runBlockedTc_total, testPlanName, testPlanId FROM testplan_reporter WHERE runHistoryId = %s  data：(1520497723,)
2018-03-08 16:29:09,500 htmlreporter.py[line: 111] INFO: 正在查询测试计划：购买记录审批流程 运行的的测试用例
2018-03-08 16:29:09,500 database.py[line: 106] INFO: query：SELECT id, runHistoryId, testcaseId, testplanId, browserType, runResult, runTime FROM testcase_reporter WHERE testplanId=%s AND runHistoryId = %s ORDER BY id ASC  data：('4', 1520497723)
2018-03-08 16:29:09,504 htmlreporter.py[line: 121] INFO: 正在记录测试计划[名称：购买记录审批流程]的测试用例运行结果到测试报告
2018-03-08 16:29:09,504 database.py[line: 88] INFO: query：SELECT test_name FROM testcases WHERE id=%s  data：(14,)
2018-03-08 16:29:09,508 database.py[line: 88] INFO: query：SELECT test_name FROM testcases WHERE id=%s  data：(19,)
2018-03-08 16:29:09,511 database.py[line: 88] INFO: query：SELECT test_name FROM testcases WHERE id=%s  data：(13,)
2018-03-08 16:29:09,514 database.py[line: 88] INFO: query：SELECT test_name FROM testcases WHERE id=%s  data：(18,)
2018-03-08 16:29:09,517 htmlreporter.py[line: 151] INFO: 正在查询测试计划：购买记录审批流程 运行的的测试用例
2018-03-08 16:29:09,517 database.py[line: 106] INFO: query：SELECT id, runHistoryId, testcaseId, testplanId, browserType, runResult, runTime  FROM testcase_reporter WHERE testplanId=%s AND runHistoryId = %s ORDER BY id ASC  data：('4', 1520497723)
2018-03-08 16:29:09,521 htmlreporter.py[line: 168] INFO: 正在查询测试用例[id=14, name=运维登录]对应的测试步骤执行明细
2018-03-08 16:29:09,521 database.py[line: 106] INFO: query：SELECT id, stepOrder, runHistoryId, elementName, command, inparams, stepRunResult, expectedResult, stepRunResultDesc, browserType, runTime, screenshotUrl FROM case_step_run_detail WHERE testcaseId=%s AND runHistoryId = %s  ORDER BY id ASC  data：('14', 1520497723)
2018-03-08 16:29:09,526 htmlreporter.py[line: 168] INFO: 正在查询测试用例[id=19, name=购买记录运维审批]对应的测试步骤执行明细
2018-03-08 16:29:09,526 database.py[line: 106] INFO: query：SELECT id, stepOrder, runHistoryId, elementName, command, inparams, stepRunResult, expectedResult, stepRunResultDesc, browserType, runTime, screenshotUrl FROM case_step_run_detail WHERE testcaseId=%s AND runHistoryId = %s  ORDER BY id ASC  data：('19', 1520497723)
2018-03-08 16:29:09,532 htmlreporter.py[line: 168] INFO: 正在查询测试用例[id=13, name=客服登录]对应的测试步骤执行明细
2018-03-08 16:29:09,532 database.py[line: 106] INFO: query：SELECT id, stepOrder, runHistoryId, elementName, command, inparams, stepRunResult, expectedResult, stepRunResultDesc, browserType, runTime, screenshotUrl FROM case_step_run_detail WHERE testcaseId=%s AND runHistoryId = %s  ORDER BY id ASC  data：('13', 1520497723)
2018-03-08 16:29:09,537 htmlreporter.py[line: 168] INFO: 正在查询测试用例[id=18, name=购买记录客服审批]对应的测试步骤执行明细
2018-03-08 16:29:09,537 database.py[line: 106] INFO: query：SELECT id, stepOrder, runHistoryId, elementName, command, inparams, stepRunResult, expectedResult, stepRunResultDesc, browserType, runTime, screenshotUrl FROM case_step_run_detail WHERE testcaseId=%s AND runHistoryId = %s  ORDER BY id ASC  data：('18', 1520497723)
2018-03-08 16:29:09,543 htmlreporter.py[line: 211] INFO: 正在设置测试报告结果文件名
2018-03-08 16:29:09,543 htmlreporter.py[line: 222] INFO: 测试报告文件名所在路径为：E:\Projects\report\test_report20180308162909.html
2018-03-08 16:29:09,543 htmlreporter.py[line: 214] INFO: 正在生产测试报告
2018-03-08 16:29:09,560 main.py[line: 130] INFO: 生成测试报告成功
2018-03-08 16:29:09,560 main.py[line: 134] INFO: 运行完成,准备上传截图
2018-03-08 16:29:09,560 ftp.py[line: 42] INFO: is connecting to ftp server 10.1.2.88 on 21
2018-03-08 16:29:09,573 ftp.py[line: 47] INFO: ready to login ftp server
2018-03-08 16:29:09,688 ftp.py[line: 49] INFO: login ftp server successfully
2018-03-08 16:29:09,688 main.py[line: 138] INFO: 正在获取要上传的截图文件
2018-03-08 16:29:09,730 main.py[line: 146] INFO: 正在上传图片到ftp服务器
2018-03-08 16:29:09,730 main.py[line: 150] INFO: 正在上传文件：d:\python\webautotest\screentshot\tp4\tc13\tp4_tc13_step1_1520497723_20180308162900.png 到远程服务器：tp4_tc13_step1_1520497723_20180308162900.png
2018-03-08 16:29:09,745 main.py[line: 153] ERROR: 上传截图到ftp服务器出错：553 Could not create file.
2018-03-08 16:29:09,746 ftp.py[line: 55] INFO: close ftp connection successfully
2018-03-08 16:29:09,746 main.py[line: 156] INFO: 运行完成，准备发送邮件
2018-03-08 16:29:10,009 main.py[line: 162] INFO: 邮件标题为：Hi，附件为web自动化测试报告，烦请查阅邮件内容为：{'E:\\Projects\\report\\test_report20180308162909.html'}，待发送邮件附件有 【测试报告】web自动化测试报告20180308162909
2018-03-08 16:29:10,009 main.py[line: 163] INFO: 正在发送测试报告邮件...
2018-03-08 16:29:11,719 main.py[line: 166] INFO: 发送邮件成功
2018-03-08 16:29:11,719 main.py[line: 172] INFO: 正在关闭数据库
2018-03-08 16:36:50,208 globalvar.py[line: 23] INFO: #####################正在初始化全局配置#####################
2018-03-08 16:36:50,208 globalvar.py[line: 24] INFO: 正在选择数据库运行环境和站点运行环境
2018-03-08 16:36:50,209 globalvar.py[line: 34] INFO: 在测试环境执行测试，正在获取测试环境的web site
2018-03-08 16:36:50,209 globalvar.py[line: 45] INFO: 在测试环境执行测试，正在获取测试环境的数据库
2018-03-08 16:36:50,219 globalvar.py[line: 55] INFO: 正在进行ftp配置
2018-03-08 16:36:50,226 globalvar.py[line: 62] INFO: 正在获取运行模式
2018-03-08 16:36:50,226 globalvar.py[line: 66] INFO: 运行模式为:<module 'publicpkg.runmode' from 'D:\\python\\webautotest\\publicpkg\\runmode.py'>
2018-03-08 16:36:50,226 globalvar.py[line: 69] INFO: 测试计划配置:[4]
2018-03-08 16:36:50,226 globalvar.py[line: 72] INFO: 全局初始化用例配置:[123]
2018-03-08 16:36:50,227 globalvar.py[line: 75] INFO: 正在获取浏览器配置
2018-03-08 16:36:50,227 globalvar.py[line: 79] INFO: 获取需要进行测试的浏览器有：['Chrome']
2018-03-08 16:36:50,227 globalvar.py[line: 82] INFO: 正在初始化其它工具对象
2018-03-08 16:36:50,227 globalvar.py[line: 86] INFO: 正在进行截图基路径配置
2018-03-08 16:36:50,228 globalvar.py[line: 91] INFO: 截图报存基路径为：D:\python\webautotest\screentshot\
2018-03-08 16:36:50,228 globalvar.py[line: 95] INFO: 正在进行测试报告配置
2018-03-08 16:36:50,228 globalvar.py[line: 96] INFO: --1、读取测试报告路径及文件名
2018-03-08 16:36:50,228 globalvar.py[line: 101] INFO: --2、构造测试报告
2018-03-08 16:36:50,229 globalvar.py[line: 104] INFO: --3、设置报告生成路径
2018-03-08 16:36:50,229 globalvar.py[line: 107] INFO: #####################初始化全局配置完毕#####################
2018-03-08 16:36:50,230 main.py[line: 61] INFO: ####################### 开始测试 #######################
2018-03-08 16:36:56,554 test_plan.py[line: 28] INFO: 正在获取本次测试需要执行的测试用列ID列表，测试计划名称
2018-03-08 16:36:56,554 database.py[line: 88] INFO: query：SELECT testcase_list, test_round_name FROM testcase_runround WHERE id = %s   data：(4,)
2018-03-08 16:36:56,557 test_plan.py[line: 44] INFO: 获取到的的测试用例id列表为: [14, 19, 13, 18]
2018-03-08 16:36:56,557 test_plan.py[line: 48] INFO: ####################### 开始运行测试计划 #######################
2018-03-08 16:36:56,557 test_case.py[line: 17] INFO: 正在构造并初始化测试用例对象[id=14]
2018-03-08 16:36:56,557 test_case.py[line: 26] INFO: 初始测试用例完毕
2018-03-08 16:36:56,557 test_case.py[line: 17] INFO: 正在构造并初始化测试用例对象[id=19]
2018-03-08 16:36:56,557 test_case.py[line: 26] INFO: 初始测试用例完毕
2018-03-08 16:36:56,557 test_case.py[line: 17] INFO: 正在构造并初始化测试用例对象[id=13]
2018-03-08 16:36:56,557 test_case.py[line: 26] INFO: 初始测试用例完毕
2018-03-08 16:36:56,557 test_case.py[line: 17] INFO: 正在构造并初始化测试用例对象[id=18]
2018-03-08 16:36:56,557 test_case.py[line: 26] INFO: 初始测试用例完毕
2018-03-08 16:36:56,558 test_case.py[line: 70] INFO: 正在获取测试用例所有测试步骤
2018-03-08 16:36:56,558 database.py[line: 106] INFO: query：(SELECT a.StepOrder AS StepOrder,c.PageName AS PageName,b.ElementName AS ElementName,b.ElementSelector AS ElementSelector,b.ElementSelector02 AS ElementSelector02,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,a.compid AS compid,a.compFolderid AS comFolderid,'' AS comName FROM testcases_steps AS a, page_elements AS b,pagesobject AS c WHERE a.TestcaseID = %s AND a.ElementId = b.Id AND b.PageId = c.Id)UNION ALL(SELECT a.steporder AS steporder,'' AS PageName,'' AS ElementSelector,'' AS ElementSelector02,'' AS ElementName,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,a.compid AS compid,a.compFolderid AS comFolderid,tc.test_name AS comName FROM testcases_steps AS a, testcases AS tc WHERE a.TestcaseID = %s AND a.compid = tc.id)UNION ALL(SELECT a.steporder AS steporder,'' AS PageName,'' AS ElementSelector,'' AS ElementSelector02,'' AS ElementName,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,'' AS compid,'' AS comFolderid,'' AS comName FROM testcases_steps AS a WHERE a.TestcaseID = %s AND NOT ISNULL(a.stepOrder)AND NOT ISNULL(a.Command) AND ISNULL(compid) AND ElementId='')ORDER BY steporder  data：(14, 14, 14)
2018-03-08 16:36:56,563 test_case.py[line: 123] INFO: 获取的测试步骤为： [(1, '', '', '', '', '断言', '深圳市金斧子网络科技有限公司-ERP', '', '', '', ''), (2, '用户登录', '用户名', 'xpath=//*[@name=&quot;username&quot;]', '', '输入', 'defang3', '', None, None, ''), (3, '用户登录', '密码', 'xpath=//*[@name=&quot;password&quot;]', '', '输入', '123', '', None, None, ''), (4, '用户登录', '登录', 'xpath=//*[@class=&quot;submit_wrap&quot;]', '', '点击', '', '', None, None, ''), (5, '', '', '', '', '等待', '3', '', '', '', ''), (6, '', '', '', '', '断言', '德芳运维', '德芳运维', '', '', '')]
2018-03-08 16:36:56,563 test_case.py[line: 41] INFO: 开始执行测试步骤
2018-03-08 16:36:56,563 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：1, 操作：断言， 输入参数：深圳市金斧子网络科技有限公司-ERP，预期结果：）
2018-03-08 16:36:56,563 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 16:36:56,563 test_case_step.py[line: 88] INFO: 执行函数：断言
2018-03-08 16:36:56,563 test_case_step.py[line: 91] INFO: 正在对输入参数:深圳市金斧子网络科技有限公司-ERP 进行参数处理
2018-03-08 16:36:56,563 test_case_step.py[line: 118] INFO: 断言的标题为:深圳市金斧子网络科技有限公司-ERP
2018-03-08 16:36:56,572 seleniumutil.py[line: 161] INFO: 断言信息为：深圳市金斧子网络科技有限公司-ERP
2018-03-08 16:36:56,572 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 16:36:56,572 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(4, 14, 1520498216, 1, '', '断言', '深圳市金斧子网络科技有限公司-ERP', '', 'Pass', '断言成功', 'Chrome', '2018-03-08 16:36:56', '')
2018-03-08 16:36:56,576 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 16:36:56,576 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：用户名, 步序：2, 操作：输入， 输入参数：defang3，预期结果：）
2018-03-08 16:36:56,576 test_case_step.py[line: 38] INFO: 正在执行最普通的元素操作
2018-03-08 16:36:56,576 test_case_step.py[line: 42] INFO: 正在对选择器：selector1: xpath=//*[@name=&quot;username&quot;]，selector2:  做数据转换处理
2018-03-08 16:36:56,576 test_case_step.py[line: 45] INFO: 转换后的选择器：selector1: xpath=//*[@name="username"]，selector2: 
2018-03-08 16:36:56,576 test_case_step.py[line: 47] INFO: 开始对步骤中的元素操作进行操作
2018-03-08 16:36:56,576 test_case_step.py[line: 130] INFO: 操作：输入
2018-03-08 16:36:56,576 test_case_step.py[line: 132] INFO: 正在对输入参数:defang3 进行参数处理
2018-03-08 16:36:56,576 test_case_step.py[line: 136] INFO: 处理后的输入参数为:['defang3'] 
2018-03-08 16:36:56,576 test_case_step.py[line: 205] INFO: 开始根据元素定位器：xpath=//*[@name="username"] 自定位元素
2018-03-08 16:36:56,576 test_case_step.py[line: 218] INFO: find_element_by_xpath：//*[@name="username"]
2018-03-08 16:36:56,597 test_case_step.py[line: 191] INFO: 找到元素：<selenium.webdriver.remote.webelement.WebElement (session="6c68a4acc9751229298a07c2ff714e12", element="0.23134984281512594-1")>
2018-03-08 16:36:56,682 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 16:36:56,682 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(4, 14, 1520498216, 2, '用户名', '输入', 'defang3', '', 'Pass', '输入数据成功', 'Chrome', '2018-03-08 16:36:56', '')
2018-03-08 16:36:56,685 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 16:36:56,685 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：密码, 步序：3, 操作：输入， 输入参数：123，预期结果：）
2018-03-08 16:36:56,685 test_case_step.py[line: 38] INFO: 正在执行最普通的元素操作
2018-03-08 16:36:56,685 test_case_step.py[line: 42] INFO: 正在对选择器：selector1: xpath=//*[@name=&quot;password&quot;]，selector2:  做数据转换处理
2018-03-08 16:36:56,686 test_case_step.py[line: 45] INFO: 转换后的选择器：selector1: xpath=//*[@name="password"]，selector2: 
2018-03-08 16:36:56,686 test_case_step.py[line: 47] INFO: 开始对步骤中的元素操作进行操作
2018-03-08 16:36:56,686 test_case_step.py[line: 130] INFO: 操作：输入
2018-03-08 16:36:56,686 test_case_step.py[line: 132] INFO: 正在对输入参数:123 进行参数处理
2018-03-08 16:36:56,686 test_case_step.py[line: 136] INFO: 处理后的输入参数为:['123'] 
2018-03-08 16:36:56,686 test_case_step.py[line: 205] INFO: 开始根据元素定位器：xpath=//*[@name="password"] 自定位元素
2018-03-08 16:36:56,687 test_case_step.py[line: 218] INFO: find_element_by_xpath：//*[@name="password"]
2018-03-08 16:36:56,704 test_case_step.py[line: 191] INFO: 找到元素：<selenium.webdriver.remote.webelement.WebElement (session="6c68a4acc9751229298a07c2ff714e12", element="0.23134984281512594-2")>
2018-03-08 16:36:56,765 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 16:36:56,766 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(4, 14, 1520498216, 3, '密码', '输入', '123', '', 'Pass', '输入数据成功', 'Chrome', '2018-03-08 16:36:56', '')
2018-03-08 16:36:56,771 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 16:36:56,771 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：登录, 步序：4, 操作：点击， 输入参数：，预期结果：）
2018-03-08 16:36:56,771 test_case_step.py[line: 38] INFO: 正在执行最普通的元素操作
2018-03-08 16:36:56,771 test_case_step.py[line: 42] INFO: 正在对选择器：selector1: xpath=//*[@class=&quot;submit_wrap&quot;]，selector2:  做数据转换处理
2018-03-08 16:36:56,772 test_case_step.py[line: 45] INFO: 转换后的选择器：selector1: xpath=//*[@class="submit_wrap"]，selector2: 
2018-03-08 16:36:56,772 test_case_step.py[line: 47] INFO: 开始对步骤中的元素操作进行操作
2018-03-08 16:36:56,772 test_case_step.py[line: 130] INFO: 操作：点击
2018-03-08 16:36:56,772 test_case_step.py[line: 205] INFO: 开始根据元素定位器：xpath=//*[@class="submit_wrap"] 自定位元素
2018-03-08 16:36:56,772 test_case_step.py[line: 218] INFO: find_element_by_xpath：//*[@class="submit_wrap"]
2018-03-08 16:36:56,796 test_case_step.py[line: 191] INFO: 找到元素：<selenium.webdriver.remote.webelement.WebElement (session="6c68a4acc9751229298a07c2ff714e12", element="0.23134984281512594-3")>
2018-03-08 16:36:58,355 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 16:36:58,355 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(4, 14, 1520498216, 4, '登录', '点击', '', '', 'Pass', '点击成功', 'Chrome', '2018-03-08 16:36:56', '')
2018-03-08 16:36:58,360 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 16:36:58,360 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：5, 操作：等待， 输入参数：3，预期结果：）
2018-03-08 16:36:58,360 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 16:36:58,360 test_case_step.py[line: 88] INFO: 执行函数：等待
2018-03-08 16:36:58,360 test_case_step.py[line: 91] INFO: 正在对输入参数:3 进行参数处理
2018-03-08 16:36:58,361 test_case_step.py[line: 108] INFO: 等待3秒
2018-03-08 16:37:01,361 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 16:37:01,361 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(4, 14, 1520498216, 5, '', '等待', '3', '', 'Pass', 'run success', 'Chrome', '2018-03-08 16:36:58', '')
2018-03-08 16:37:01,365 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 16:37:01,365 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：6, 操作：断言， 输入参数：德芳运维，预期结果：德芳运维）
2018-03-08 16:37:01,365 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 16:37:01,365 test_case_step.py[line: 88] INFO: 执行函数：断言
2018-03-08 16:37:01,365 test_case_step.py[line: 91] INFO: 正在对输入参数:德芳运维 进行参数处理
2018-03-08 16:37:01,365 test_case_step.py[line: 118] INFO: 断言的标题为:德芳运维
2018-03-08 16:37:01,384 seleniumutil.py[line: 161] INFO: 断言信息为：德芳运维
2018-03-08 16:37:01,384 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 16:37:01,384 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(4, 14, 1520498216, 6, '', '断言', '德芳运维', '德芳运维', 'Pass', '断言成功', 'Chrome', '2018-03-08 16:37:1', '')
2018-03-08 16:37:01,388 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 16:37:01,388 test_case.py[line: 58] INFO: 测试步骤执行完毕，正在记录用例运行结果到测试用例运行报表
2018-03-08 16:37:01,388 database.py[line: 58] INFO: query：INSERT INTO testcase_reporter(runHistoryId, browserType, testcaseId, testplanId, runTime, runResult) VALUES(%s, %s, %s, %s, %s, %s)  data：(1520498216, 'Chrome', 14, 4, '2018-03-08 16:36:56', 'Pass')
2018-03-08 16:37:01,392 test_case.py[line: 70] INFO: 正在获取测试用例所有测试步骤
2018-03-08 16:37:01,392 database.py[line: 106] INFO: query：(SELECT a.StepOrder AS StepOrder,c.PageName AS PageName,b.ElementName AS ElementName,b.ElementSelector AS ElementSelector,b.ElementSelector02 AS ElementSelector02,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,a.compid AS compid,a.compFolderid AS comFolderid,'' AS comName FROM testcases_steps AS a, page_elements AS b,pagesobject AS c WHERE a.TestcaseID = %s AND a.ElementId = b.Id AND b.PageId = c.Id)UNION ALL(SELECT a.steporder AS steporder,'' AS PageName,'' AS ElementSelector,'' AS ElementSelector02,'' AS ElementName,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,a.compid AS compid,a.compFolderid AS comFolderid,tc.test_name AS comName FROM testcases_steps AS a, testcases AS tc WHERE a.TestcaseID = %s AND a.compid = tc.id)UNION ALL(SELECT a.steporder AS steporder,'' AS PageName,'' AS ElementSelector,'' AS ElementSelector02,'' AS ElementName,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,'' AS compid,'' AS comFolderid,'' AS comName FROM testcases_steps AS a WHERE a.TestcaseID = %s AND NOT ISNULL(a.stepOrder)AND NOT ISNULL(a.Command) AND ISNULL(compid) AND ElementId='')ORDER BY steporder  data：(19, 19, 19)
2018-03-08 16:37:01,396 test_case.py[line: 123] INFO: 获取的测试步骤为： [(1, '', '', '', '', '等待', '5', '', '', '', ''), (2, '', '', '', '', '切换入iframe', 'iframe89892232323', '', '', '', ''), (3, '审批流', '审批流的链接', 'xpath=html/body/div[1]/div/div/div[2]/div/div/div/div[2]/div/div[1]/ul/li[1]/div[1]', '', '点击', '', '', None, None, ''), (4, '', '', '', '', '切换到新的窗口', '', '', '', '', ''), (5, '', '', '', '', '等待', '5', '', '', '', ''), (6, '审批流', '审批流的同意按钮', 'xpath=//*[@id=&quot;btnAgree&quot;]', '', '点击', '', '', None, None, ''), (7, '', '', '', '', '切换入xpathifram', '//iframe[contains(@id,&quot;ligerwindow&quot;)]', '', '', '', ''), (8, '', '', '', '', '等待', '3', '', '', '', ''), (9, '审批流', '填写意见的确定按钮', 'xpath=//*[@id=&quot;dataFormSave&quot;]', '', '点击', '', '', None, None, ''), (10, '', '', '', '', '等待', '5', '', '', '', ''), (11, '', '', '', '', '断言文本提示信息', '执行任务成功!', '', '', '', ''), (12, '', '', '', '', '等待', '5', '', '', '', ''), (13, '审批流', '同意的确定按钮', 'xpath=//*[@class=&quot;l-dialog-btn-inner&quot;]', '', '点击', '', '', None, None, '')]
2018-03-08 16:37:01,397 test_case.py[line: 41] INFO: 开始执行测试步骤
2018-03-08 16:37:01,397 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：1, 操作：等待， 输入参数：5，预期结果：）
2018-03-08 16:37:01,397 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 16:37:01,397 test_case_step.py[line: 88] INFO: 执行函数：等待
2018-03-08 16:37:01,397 test_case_step.py[line: 91] INFO: 正在对输入参数:5 进行参数处理
2018-03-08 16:37:01,397 test_case_step.py[line: 108] INFO: 等待5秒
2018-03-08 16:37:06,398 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 16:37:06,398 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(4, 19, 1520498216, 1, '', '等待', '5', '', 'Pass', 'run success', 'Chrome', '2018-03-08 16:37:1', '')
2018-03-08 16:37:06,402 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 16:37:06,402 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：2, 操作：切换入iframe， 输入参数：iframe89892232323，预期结果：）
2018-03-08 16:37:06,402 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 16:37:06,402 test_case_step.py[line: 88] INFO: 执行函数：切换入iframe
2018-03-08 16:37:06,403 test_case_step.py[line: 91] INFO: 正在对输入参数:iframe89892232323 进行参数处理
2018-03-08 16:37:06,426 seleniumutil.py[line: 67] INFO: 切换至frame（id/name/xpath = iframe89892232323）成功
2018-03-08 16:37:06,426 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 16:37:06,426 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(4, 19, 1520498216, 2, '', '切换入iframe', 'iframe89892232323', '', 'Pass', 'run success', 'Chrome', '2018-03-08 16:37:6', '')
2018-03-08 16:37:06,430 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 16:37:06,431 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：审批流的链接, 步序：3, 操作：点击， 输入参数：，预期结果：）
2018-03-08 16:37:06,431 test_case_step.py[line: 38] INFO: 正在执行最普通的元素操作
2018-03-08 16:37:06,431 test_case_step.py[line: 42] INFO: 正在对选择器：selector1: xpath=html/body/div[1]/div/div/div[2]/div/div/div/div[2]/div/div[1]/ul/li[1]/div[1]，selector2:  做数据转换处理
2018-03-08 16:37:06,431 test_case_step.py[line: 45] INFO: 转换后的选择器：selector1: xpath=html/body/div[1]/div/div/div[2]/div/div/div/div[2]/div/div[1]/ul/li[1]/div[1]，selector2: 
2018-03-08 16:37:06,431 test_case_step.py[line: 47] INFO: 开始对步骤中的元素操作进行操作
2018-03-08 16:37:06,431 test_case_step.py[line: 130] INFO: 操作：点击
2018-03-08 16:37:06,431 test_case_step.py[line: 205] INFO: 开始根据元素定位器：xpath=html/body/div[1]/div/div/div[2]/div/div/div/div[2]/div/div[1]/ul/li[1]/div[1] 自定位元素
2018-03-08 16:37:06,431 test_case_step.py[line: 218] INFO: find_element_by_xpath：html/body/div[1]/div/div/div[2]/div/div/div/div[2]/div/div[1]/ul/li[1]/div[1]
2018-03-08 16:37:06,449 test_case_step.py[line: 191] INFO: 找到元素：<selenium.webdriver.remote.webelement.WebElement (session="6c68a4acc9751229298a07c2ff714e12", element="0.6559332453855831-1")>
2018-03-08 16:37:06,636 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 16:37:06,637 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(4, 19, 1520498216, 3, '审批流的链接', '点击', '', '', 'Pass', '点击成功', 'Chrome', '2018-03-08 16:37:6', '')
2018-03-08 16:37:06,642 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 16:37:06,642 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：4, 操作：切换到新的窗口， 输入参数：，预期结果：）
2018-03-08 16:37:06,642 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 16:37:06,642 test_case_step.py[line: 88] INFO: 执行函数：切换到新的窗口
2018-03-08 16:37:06,731 seleniumutil.py[line: 95] INFO: 切换到新的窗口成功:CDwindow-(4C5E439F82089C813A7582AD3A637B7A)
2018-03-08 16:37:06,731 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 16:37:06,731 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(4, 19, 1520498216, 4, '', '切换到新的窗口', '', '', 'Pass', '切换到新窗口成功', 'Chrome', '2018-03-08 16:37:6', '')
2018-03-08 16:37:06,735 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 16:37:06,735 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：5, 操作：等待， 输入参数：5，预期结果：）
2018-03-08 16:37:06,736 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 16:37:06,736 test_case_step.py[line: 88] INFO: 执行函数：等待
2018-03-08 16:37:06,736 test_case_step.py[line: 91] INFO: 正在对输入参数:5 进行参数处理
2018-03-08 16:37:06,736 test_case_step.py[line: 108] INFO: 等待5秒
2018-03-08 16:37:11,736 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 16:37:11,736 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(4, 19, 1520498216, 5, '', '等待', '5', '', 'Pass', 'run success', 'Chrome', '2018-03-08 16:37:6', '')
2018-03-08 16:37:11,740 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 16:37:11,741 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：审批流的同意按钮, 步序：6, 操作：点击， 输入参数：，预期结果：）
2018-03-08 16:37:11,741 test_case_step.py[line: 38] INFO: 正在执行最普通的元素操作
2018-03-08 16:37:11,741 test_case_step.py[line: 42] INFO: 正在对选择器：selector1: xpath=//*[@id=&quot;btnAgree&quot;]，selector2:  做数据转换处理
2018-03-08 16:37:11,741 test_case_step.py[line: 45] INFO: 转换后的选择器：selector1: xpath=//*[@id="btnAgree"]，selector2: 
2018-03-08 16:37:11,741 test_case_step.py[line: 47] INFO: 开始对步骤中的元素操作进行操作
2018-03-08 16:37:11,741 test_case_step.py[line: 130] INFO: 操作：点击
2018-03-08 16:37:11,741 test_case_step.py[line: 205] INFO: 开始根据元素定位器：xpath=//*[@id="btnAgree"] 自定位元素
2018-03-08 16:37:11,741 test_case_step.py[line: 218] INFO: find_element_by_xpath：//*[@id="btnAgree"]
2018-03-08 16:37:12,803 test_case_step.py[line: 191] INFO: 找到元素：<selenium.webdriver.remote.webelement.WebElement (session="6c68a4acc9751229298a07c2ff714e12", element="0.7254114260731415-1")>
2018-03-08 16:37:13,117 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 16:37:13,117 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(4, 19, 1520498216, 6, '审批流的同意按钮', '点击', '', '', 'Pass', '点击成功', 'Chrome', '2018-03-08 16:37:11', '')
2018-03-08 16:37:13,122 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 16:37:13,123 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：7, 操作：切换入xpathifram， 输入参数：//iframe[contains(@id,&quot;ligerwindow&quot;)]，预期结果：）
2018-03-08 16:37:13,123 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 16:37:13,123 test_case_step.py[line: 88] INFO: 执行函数：切换入xpathifram
2018-03-08 16:37:13,123 test_case_step.py[line: 91] INFO: 正在对输入参数://iframe[contains(@id,&quot;ligerwindow&quot;)] 进行参数处理
2018-03-08 16:37:13,194 seleniumutil.py[line: 77] INFO: 切换至frame（xpath = //iframe[contains(@id,"ligerwindow")]）成功
2018-03-08 16:37:13,194 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 16:37:13,194 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(4, 19, 1520498216, 7, '', '切换入xpathifram', '//iframe[contains(@id,&quot;ligerwindow&quot;)]', '', 'Pass', 'run success', 'Chrome', '2018-03-08 16:37:13', '')
2018-03-08 16:37:13,198 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 16:37:13,198 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：8, 操作：等待， 输入参数：3，预期结果：）
2018-03-08 16:37:13,198 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 16:37:13,198 test_case_step.py[line: 88] INFO: 执行函数：等待
2018-03-08 16:37:13,198 test_case_step.py[line: 91] INFO: 正在对输入参数:3 进行参数处理
2018-03-08 16:37:13,198 test_case_step.py[line: 108] INFO: 等待3秒
2018-03-08 16:37:16,198 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 16:37:16,198 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(4, 19, 1520498216, 8, '', '等待', '3', '', 'Pass', 'run success', 'Chrome', '2018-03-08 16:37:13', '')
2018-03-08 16:37:16,202 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 16:37:16,203 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：填写意见的确定按钮, 步序：9, 操作：点击， 输入参数：，预期结果：）
2018-03-08 16:37:16,203 test_case_step.py[line: 38] INFO: 正在执行最普通的元素操作
2018-03-08 16:37:16,203 test_case_step.py[line: 42] INFO: 正在对选择器：selector1: xpath=//*[@id=&quot;dataFormSave&quot;]，selector2:  做数据转换处理
2018-03-08 16:37:16,203 test_case_step.py[line: 45] INFO: 转换后的选择器：selector1: xpath=//*[@id="dataFormSave"]，selector2: 
2018-03-08 16:37:16,203 test_case_step.py[line: 47] INFO: 开始对步骤中的元素操作进行操作
2018-03-08 16:37:16,203 test_case_step.py[line: 130] INFO: 操作：点击
2018-03-08 16:37:16,204 test_case_step.py[line: 205] INFO: 开始根据元素定位器：xpath=//*[@id="dataFormSave"] 自定位元素
2018-03-08 16:37:16,204 test_case_step.py[line: 218] INFO: find_element_by_xpath：//*[@id="dataFormSave"]
2018-03-08 16:37:16,223 test_case_step.py[line: 191] INFO: 找到元素：<selenium.webdriver.remote.webelement.WebElement (session="6c68a4acc9751229298a07c2ff714e12", element="0.12389246077575189-1")>
2018-03-08 16:37:16,368 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 16:37:16,368 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(4, 19, 1520498216, 9, '填写意见的确定按钮', '点击', '', '', 'Pass', '点击成功', 'Chrome', '2018-03-08 16:37:16', '')
2018-03-08 16:37:16,372 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 16:37:16,372 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：10, 操作：等待， 输入参数：5，预期结果：）
2018-03-08 16:37:16,372 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 16:37:16,372 test_case_step.py[line: 88] INFO: 执行函数：等待
2018-03-08 16:37:16,372 test_case_step.py[line: 91] INFO: 正在对输入参数:5 进行参数处理
2018-03-08 16:37:16,372 test_case_step.py[line: 108] INFO: 等待5秒
2018-03-08 16:37:21,372 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 16:37:21,372 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(4, 19, 1520498216, 10, '', '等待', '5', '', 'Pass', 'run success', 'Chrome', '2018-03-08 16:37:16', '')
2018-03-08 16:37:21,375 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 16:37:21,375 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：11, 操作：断言文本提示信息， 输入参数：执行任务成功!，预期结果：）
2018-03-08 16:37:21,375 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 16:37:21,376 test_case_step.py[line: 88] INFO: 执行函数：断言文本提示信息
2018-03-08 16:37:21,376 test_case_step.py[line: 91] INFO: 正在对输入参数:执行任务成功! 进行参数处理
2018-03-08 16:37:21,416 seleniumutil.py[line: 173] INFO: 断言文本提示信息为:执行任务成功!
2018-03-08 16:37:21,417 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 16:37:21,417 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(4, 19, 1520498216, 11, '', '断言文本提示信息', '执行任务成功!', '', 'Pass', '断言文本提示信息成功!', 'Chrome', '2018-03-08 16:37:21', '')
2018-03-08 16:37:21,420 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 16:37:21,420 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：12, 操作：等待， 输入参数：5，预期结果：）
2018-03-08 16:37:21,421 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 16:37:21,421 test_case_step.py[line: 88] INFO: 执行函数：等待
2018-03-08 16:37:21,421 test_case_step.py[line: 91] INFO: 正在对输入参数:5 进行参数处理
2018-03-08 16:37:21,421 test_case_step.py[line: 108] INFO: 等待5秒
2018-03-08 16:37:26,422 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 16:37:26,423 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(4, 19, 1520498216, 12, '', '等待', '5', '', 'Pass', 'run success', 'Chrome', '2018-03-08 16:37:21', '')
2018-03-08 16:37:26,428 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 16:37:26,428 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：同意的确定按钮, 步序：13, 操作：点击， 输入参数：，预期结果：）
2018-03-08 16:37:26,428 test_case_step.py[line: 38] INFO: 正在执行最普通的元素操作
2018-03-08 16:37:26,428 test_case_step.py[line: 42] INFO: 正在对选择器：selector1: xpath=//*[@class=&quot;l-dialog-btn-inner&quot;]，selector2:  做数据转换处理
2018-03-08 16:37:26,428 test_case_step.py[line: 45] INFO: 转换后的选择器：selector1: xpath=//*[@class="l-dialog-btn-inner"]，selector2: 
2018-03-08 16:37:26,428 test_case_step.py[line: 47] INFO: 开始对步骤中的元素操作进行操作
2018-03-08 16:37:26,428 test_case_step.py[line: 130] INFO: 操作：点击
2018-03-08 16:37:26,428 test_case_step.py[line: 205] INFO: 开始根据元素定位器：xpath=//*[@class="l-dialog-btn-inner"] 自定位元素
2018-03-08 16:37:26,428 test_case_step.py[line: 218] INFO: find_element_by_xpath：//*[@class="l-dialog-btn-inner"]
2018-03-08 16:37:26,452 test_case_step.py[line: 191] INFO: 找到元素：<selenium.webdriver.remote.webelement.WebElement (session="6c68a4acc9751229298a07c2ff714e12", element="0.7254114260731415-4")>
2018-03-08 16:37:26,827 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 16:37:26,827 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(4, 19, 1520498216, 13, '同意的确定按钮', '点击', '', '', 'Pass', '点击成功', 'Chrome', '2018-03-08 16:37:26', '')
2018-03-08 16:37:26,832 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 16:37:26,832 test_case.py[line: 58] INFO: 测试步骤执行完毕，正在记录用例运行结果到测试用例运行报表
2018-03-08 16:37:26,832 database.py[line: 58] INFO: query：INSERT INTO testcase_reporter(runHistoryId, browserType, testcaseId, testplanId, runTime, runResult) VALUES(%s, %s, %s, %s, %s, %s)  data：(1520498216, 'Chrome', 19, 4, '2018-03-08 16:37:1', 'Pass')
2018-03-08 16:37:26,838 test_case.py[line: 70] INFO: 正在获取测试用例所有测试步骤
2018-03-08 16:37:26,838 database.py[line: 106] INFO: query：(SELECT a.StepOrder AS StepOrder,c.PageName AS PageName,b.ElementName AS ElementName,b.ElementSelector AS ElementSelector,b.ElementSelector02 AS ElementSelector02,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,a.compid AS compid,a.compFolderid AS comFolderid,'' AS comName FROM testcases_steps AS a, page_elements AS b,pagesobject AS c WHERE a.TestcaseID = %s AND a.ElementId = b.Id AND b.PageId = c.Id)UNION ALL(SELECT a.steporder AS steporder,'' AS PageName,'' AS ElementSelector,'' AS ElementSelector02,'' AS ElementName,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,a.compid AS compid,a.compFolderid AS comFolderid,tc.test_name AS comName FROM testcases_steps AS a, testcases AS tc WHERE a.TestcaseID = %s AND a.compid = tc.id)UNION ALL(SELECT a.steporder AS steporder,'' AS PageName,'' AS ElementSelector,'' AS ElementSelector02,'' AS ElementName,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,'' AS compid,'' AS comFolderid,'' AS comName FROM testcases_steps AS a WHERE a.TestcaseID = %s AND NOT ISNULL(a.stepOrder)AND NOT ISNULL(a.Command) AND ISNULL(compid) AND ElementId='')ORDER BY steporder  data：(13, 13, 13)
2018-03-08 16:37:26,842 test_case.py[line: 123] INFO: 获取的测试步骤为： [(1, '', '', '', '', '断言', '深圳市金斧子网络科技有限公司-ERP', '', '', '', ''), (2, '用户登录', '用户名', 'xpath=//*[@name=&quot;username&quot;]', '', '输入', 'defang2', '', None, None, ''), (3, '用户登录', '密码', 'xpath=//*[@name=&quot;password&quot;]', '', '输入', '123', '', None, None, ''), (4, '用户登录', '登录', 'xpath=//*[@class=&quot;submit_wrap&quot;]', '', '点击', '', '', None, None, ''), (5, '', '', '', '', '等待', '3', '', '', '', ''), (6, '', '', '', '', '断言', '德芳客服', '', '', '', '')]
2018-03-08 16:37:26,842 test_case.py[line: 41] INFO: 开始执行测试步骤
2018-03-08 16:37:26,842 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：1, 操作：断言， 输入参数：深圳市金斧子网络科技有限公司-ERP，预期结果：）
2018-03-08 16:37:26,842 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 16:37:26,843 test_case_step.py[line: 88] INFO: 执行函数：断言
2018-03-08 16:37:26,843 test_case_step.py[line: 91] INFO: 正在对输入参数:深圳市金斧子网络科技有限公司-ERP 进行参数处理
2018-03-08 16:37:26,843 test_case_step.py[line: 118] INFO: 断言的标题为:深圳市金斧子网络科技有限公司-ERP
2018-03-08 16:37:28,868 test_case_step.py[line: 278] ERROR: 截图失败:Fail
2018-03-08 16:37:28,868 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 16:37:28,868 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(4, 13, 1520498216, 1, '', '断言', '深圳市金斧子网络科技有限公司-ERP', '', 'Fail', '断言失败', 'Chrome', '2018-03-08 16:37:26', '')
2018-03-08 16:37:28,871 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 16:37:28,872 test_case.py[line: 46] INFO: 用例[id：13]步骤[步序：1] 运行失败，停止运行用例
2018-03-08 16:37:28,872 test_case.py[line: 58] INFO: 测试步骤执行完毕，正在记录用例运行结果到测试用例运行报表
2018-03-08 16:37:28,872 database.py[line: 58] INFO: query：INSERT INTO testcase_reporter(runHistoryId, browserType, testcaseId, testplanId, runTime, runResult) VALUES(%s, %s, %s, %s, %s, %s)  data：(1520498216, 'Chrome', 13, 4, '2018-03-08 16:37:26', 'Fail')
2018-03-08 16:37:28,880 test_case.py[line: 70] INFO: 正在获取测试用例所有测试步骤
2018-03-08 16:37:28,880 database.py[line: 106] INFO: query：(SELECT a.StepOrder AS StepOrder,c.PageName AS PageName,b.ElementName AS ElementName,b.ElementSelector AS ElementSelector,b.ElementSelector02 AS ElementSelector02,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,a.compid AS compid,a.compFolderid AS comFolderid,'' AS comName FROM testcases_steps AS a, page_elements AS b,pagesobject AS c WHERE a.TestcaseID = %s AND a.ElementId = b.Id AND b.PageId = c.Id)UNION ALL(SELECT a.steporder AS steporder,'' AS PageName,'' AS ElementSelector,'' AS ElementSelector02,'' AS ElementName,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,a.compid AS compid,a.compFolderid AS comFolderid,tc.test_name AS comName FROM testcases_steps AS a, testcases AS tc WHERE a.TestcaseID = %s AND a.compid = tc.id)UNION ALL(SELECT a.steporder AS steporder,'' AS PageName,'' AS ElementSelector,'' AS ElementSelector02,'' AS ElementName,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,'' AS compid,'' AS comFolderid,'' AS comName FROM testcases_steps AS a WHERE a.TestcaseID = %s AND NOT ISNULL(a.stepOrder)AND NOT ISNULL(a.Command) AND ISNULL(compid) AND ElementId='')ORDER BY steporder  data：(18, 18, 18)
2018-03-08 16:37:28,885 test_case.py[line: 123] INFO: 获取的测试步骤为： [(1, '', '', '', '', '等待', '5', '', '', '', ''), (2, '', '', '', '', '切换入iframe', 'iframe89892232323', '', '', '', ''), (3, '审批流', '审批流的链接', 'xpath=html/body/div[1]/div/div/div[2]/div/div/div/div[2]/div/div[1]/ul/li[1]/div[1]', '', '点击', '', '', None, None, ''), (4, '', '', '', '', '切换到新的窗口', '', '', '', '', ''), (5, '', '', '', '', '等待', '5', '', '', '', ''), (6, '审批流', '审批流的同意按钮', 'xpath=//*[@id=&quot;btnAgree&quot;]', '', '点击', '', '', None, None, ''), (7, '', '', '', '', '等待', '5', '', '', '', ''), (8, '', '', '', '', '切换入xpathifram', '//iframe[contains(@id,&quot;ligerwindow&quot;)]', '', '', '', ''), (9, '审批流', '填写意见的确定按钮', 'xpath=//*[@id=&quot;dataFormSave&quot;]', '', '点击', '', '', None, None, ''), (10, '', '', '', '', '等待', '5', '', '', '', ''), (11, '', '', '', '', '断言文本提示信息', '执行任务成功!', '', '', '', ''), (12, '', '', '', '', '等待', '5', '', '', '', ''), (13, '审批流', '同意的确定按钮', 'xpath=//*[@class=&quot;l-dialog-btn-inner&quot;]', '', '点击', '', '', None, None, '')]
2018-03-08 16:37:28,885 test_case.py[line: 41] INFO: 开始执行测试步骤
2018-03-08 16:37:28,885 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：1, 操作：等待， 输入参数：5，预期结果：）
2018-03-08 16:37:28,885 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 16:37:28,885 test_case_step.py[line: 88] INFO: 执行函数：等待
2018-03-08 16:37:28,885 test_case_step.py[line: 91] INFO: 正在对输入参数:5 进行参数处理
2018-03-08 16:37:28,885 test_case_step.py[line: 108] INFO: 等待5秒
2018-03-08 16:37:33,885 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 16:37:33,885 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(4, 18, 1520498216, 1, '', '等待', '5', '', 'Pass', 'run success', 'Chrome', '2018-03-08 16:37:28', '')
2018-03-08 16:37:33,889 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 16:37:33,889 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：2, 操作：切换入iframe， 输入参数：iframe89892232323，预期结果：）
2018-03-08 16:37:33,889 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 16:37:33,889 test_case_step.py[line: 88] INFO: 执行函数：切换入iframe
2018-03-08 16:37:33,889 test_case_step.py[line: 91] INFO: 正在对输入参数:iframe89892232323 进行参数处理
2018-03-08 16:37:34,892 seleniumutil.py[line: 70] ERROR: 切换至frame（id/name/xpath = iframe89892232323）失败
2018-03-08 16:37:35,906 test_case_step.py[line: 278] ERROR: 截图失败:Fail
2018-03-08 16:37:35,907 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 16:37:35,907 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(4, 18, 1520498216, 2, '', '切换入iframe', 'iframe89892232323', '', 'Fail', NoSuchWindowException('no such window: window was already closed\n  (Session info: chrome=64.0.3282.186)\n  (Driver info: chromedriver=2.33.506120 (e3e53437346286c0bc2d2dc9aa4915ba81d9023f),platform=Windows NT 6.1.7601 SP1 x86_64)', None, None), 'Chrome', '2018-03-08 16:37:33', '')
2018-03-08 16:37:35,909 database.py[line: 66] ERROR: 执行数据库插入操作失败：Failed processing format-parameters; Python 'nosuchwindowexception' cannot be converted to a MySQL type
2018-03-08 16:37:35,910 test_case_step.py[line: 81] ERROR: 记录到测试步骤结果报表失败 Failed processing format-parameters; Python 'nosuchwindowexception' cannot be converted to a MySQL type
2018-03-08 16:37:35,911 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 16:37:35,911 test_case.py[line: 46] INFO: 用例[id：18]步骤[步序：2] 运行失败，停止运行用例
2018-03-08 16:37:35,911 test_case.py[line: 58] INFO: 测试步骤执行完毕，正在记录用例运行结果到测试用例运行报表
2018-03-08 16:37:35,911 database.py[line: 58] INFO: query：INSERT INTO testcase_reporter(runHistoryId, browserType, testcaseId, testplanId, runTime, runResult) VALUES(%s, %s, %s, %s, %s, %s)  data：(1520498216, 'Chrome', 18, 4, '2018-03-08 16:37:28', 'Fail')
2018-03-08 16:37:35,915 test_plan.py[line: 65] INFO: ####################### 测试计划已运行完毕 #######################
2018-03-08 16:37:35,915 test_plan.py[line: 66] INFO: 正在统计测试计划执行的用例总数
2018-03-08 16:37:35,915 database.py[line: 88] INFO: query：SELECT count(testcaseId)  FROM testcase_reporter  WHERE runHistoryId = %s  data：(1520498216,)
2018-03-08 16:37:35,917 test_plan.py[line: 75] INFO: 正在统计测试计划执行成功的用例总数
2018-03-08 16:37:35,917 database.py[line: 88] INFO: query：SELECT count(testcaseId)  FROM testcase_reporter WHERE runHistoryId = %s AND runResult='Pass'  data：(1520498216,)
2018-03-08 16:37:35,919 test_plan.py[line: 85] INFO: 正在统计测试计划执行失败的用例总数
2018-03-08 16:37:35,919 database.py[line: 88] INFO: query：SELECT count(testcaseId)  FROM testcase_reporter WHERE runHistoryId = %s AND runResult='Fail'  data：(1520498216,)
2018-03-08 16:37:35,922 test_plan.py[line: 95] INFO: 正在统计测试计划执行被阻塞的用例总数
2018-03-08 16:37:35,922 database.py[line: 88] INFO: query：SELECT count(testcaseId)  FROM testcase_reporter WHERE runHistoryId = %s AND runResult='Block'  data：(1520498216,)
2018-03-08 16:37:35,925 test_plan.py[line: 105] INFO: 正在统计测试计划执行成功的用例
2018-03-08 16:37:35,925 database.py[line: 106] INFO: query：SELECT testcaseId  FROM testcase_reporter WHERE runHistoryId = %s AND runResult='Pass'  data：(1520498216,)
2018-03-08 16:37:35,927 test_plan.py[line: 115] INFO: 正在统计测试计划执行失败的用例
2018-03-08 16:37:35,928 database.py[line: 106] INFO: query：SELECT testcaseId  FROM testcase_reporter WHERE runHistoryId = %s AND runResult='Fail'  data：(1520498216,)
2018-03-08 16:37:35,930 test_plan.py[line: 125] INFO: 正在统计测试计划执行被阻塞的用例
2018-03-08 16:37:35,930 database.py[line: 106] INFO: query：SELECT testcaseId  FROM testcase_reporter WHERE runHistoryId = %s AND runResult='Block'  data：(1520498216,)
2018-03-08 16:37:35,932 test_plan.py[line: 130] INFO: 没找到计划执行被阻塞的用例
2018-03-08 16:37:35,932 test_plan.py[line: 151] INFO: 正在记录测试计划运行结果到测试计划报表
2018-03-08 16:37:35,932 database.py[line: 58] INFO: query：INSERT INTO testplan_reporter(testPlanId, testPlanName, runHistoryId, browserType, runTc_total, runPassedTc_total, runFailedTc_total,runBlockedTc_total, runPassedTc, runFailedTc, runBlockedTc, runTime)VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(4, '购买记录审批流程', 1520498216, 'Chrome', 4, 2, 2, 0, '(14,)', '(13,)', '', '2018-03-08 16:36:56')
2018-03-08 16:37:35,935 main.py[line: 79] INFO: 计划运行完成，正在关闭浏览器
2018-03-08 16:37:39,085 main.py[line: 82] INFO: ####################### 测试结束 #######################
2018-03-08 16:37:39,085 main.py[line: 126] INFO: 运行完成,准备生成测试报告
2018-03-08 16:37:39,085 htmlreporter.py[line: 35] INFO: 正在查询测试计划执行统计信息（执行总数，成功数，失败数，被阻塞数）
2018-03-08 16:37:39,085 database.py[line: 88] INFO: query：SELECT runTc_total, runPassedTc_total, runFailedTc_total, runBlockedTc_total, testPlanName, testPlanId FROM testplan_reporter WHERE runHistoryId = %s  data：(1520498216,)
2018-03-08 16:37:39,090 htmlreporter.py[line: 111] INFO: 正在查询测试计划：购买记录审批流程 运行的的测试用例
2018-03-08 16:37:39,090 database.py[line: 106] INFO: query：SELECT id, runHistoryId, testcaseId, testplanId, browserType, runResult, runTime FROM testcase_reporter WHERE testplanId=%s AND runHistoryId = %s ORDER BY id ASC  data：('4', 1520498216)
2018-03-08 16:37:39,093 htmlreporter.py[line: 121] INFO: 正在记录测试计划[名称：购买记录审批流程]的测试用例运行结果到测试报告
2018-03-08 16:37:39,093 database.py[line: 88] INFO: query：SELECT test_name FROM testcases WHERE id=%s  data：(14,)
2018-03-08 16:37:39,096 database.py[line: 88] INFO: query：SELECT test_name FROM testcases WHERE id=%s  data：(19,)
2018-03-08 16:37:39,098 database.py[line: 88] INFO: query：SELECT test_name FROM testcases WHERE id=%s  data：(13,)
2018-03-08 16:37:39,100 database.py[line: 88] INFO: query：SELECT test_name FROM testcases WHERE id=%s  data：(18,)
2018-03-08 16:37:39,103 htmlreporter.py[line: 151] INFO: 正在查询测试计划：购买记录审批流程 运行的的测试用例
2018-03-08 16:37:39,103 database.py[line: 106] INFO: query：SELECT id, runHistoryId, testcaseId, testplanId, browserType, runResult, runTime  FROM testcase_reporter WHERE testplanId=%s AND runHistoryId = %s ORDER BY id ASC  data：('4', 1520498216)
2018-03-08 16:37:39,107 htmlreporter.py[line: 168] INFO: 正在查询测试用例[id=14, name=运维登录]对应的测试步骤执行明细
2018-03-08 16:37:39,107 database.py[line: 106] INFO: query：SELECT id, stepOrder, runHistoryId, elementName, command, inparams, stepRunResult, expectedResult, stepRunResultDesc, browserType, runTime, screenshotUrl FROM case_step_run_detail WHERE testcaseId=%s AND runHistoryId = %s  ORDER BY id ASC  data：('14', 1520498216)
2018-03-08 16:37:39,112 htmlreporter.py[line: 168] INFO: 正在查询测试用例[id=19, name=购买记录运维审批]对应的测试步骤执行明细
2018-03-08 16:37:39,112 database.py[line: 106] INFO: query：SELECT id, stepOrder, runHistoryId, elementName, command, inparams, stepRunResult, expectedResult, stepRunResultDesc, browserType, runTime, screenshotUrl FROM case_step_run_detail WHERE testcaseId=%s AND runHistoryId = %s  ORDER BY id ASC  data：('19', 1520498216)
2018-03-08 16:37:39,117 htmlreporter.py[line: 168] INFO: 正在查询测试用例[id=13, name=客服登录]对应的测试步骤执行明细
2018-03-08 16:37:39,117 database.py[line: 106] INFO: query：SELECT id, stepOrder, runHistoryId, elementName, command, inparams, stepRunResult, expectedResult, stepRunResultDesc, browserType, runTime, screenshotUrl FROM case_step_run_detail WHERE testcaseId=%s AND runHistoryId = %s  ORDER BY id ASC  data：('13', 1520498216)
2018-03-08 16:37:39,121 htmlreporter.py[line: 168] INFO: 正在查询测试用例[id=18, name=购买记录客服审批]对应的测试步骤执行明细
2018-03-08 16:37:39,121 database.py[line: 106] INFO: query：SELECT id, stepOrder, runHistoryId, elementName, command, inparams, stepRunResult, expectedResult, stepRunResultDesc, browserType, runTime, screenshotUrl FROM case_step_run_detail WHERE testcaseId=%s AND runHistoryId = %s  ORDER BY id ASC  data：('18', 1520498216)
2018-03-08 16:37:39,126 htmlreporter.py[line: 211] INFO: 正在设置测试报告结果文件名
2018-03-08 16:37:39,126 htmlreporter.py[line: 222] INFO: 测试报告文件名所在路径为：E:\Projects\report\test_report20180308163739.html
2018-03-08 16:37:39,126 htmlreporter.py[line: 214] INFO: 正在生产测试报告
2018-03-08 16:37:39,148 main.py[line: 130] INFO: 生成测试报告成功
2018-03-08 16:37:39,148 main.py[line: 134] INFO: 运行完成,准备上传截图
2018-03-08 16:37:39,148 ftp.py[line: 42] INFO: is connecting to ftp server 10.1.2.88 on 21
2018-03-08 16:37:39,156 ftp.py[line: 47] INFO: ready to login ftp server
2018-03-08 16:37:39,261 ftp.py[line: 49] INFO: login ftp server successfully
2018-03-08 16:37:39,262 main.py[line: 138] INFO: 正在获取要上传的截图文件
2018-03-08 16:37:39,263 main.py[line: 146] INFO: 正在上传图片到ftp服务器
2018-03-08 16:37:39,265 ftp.py[line: 55] INFO: close ftp connection successfully
2018-03-08 16:37:39,265 main.py[line: 156] INFO: 运行完成，准备发送邮件
2018-03-08 16:37:39,500 main.py[line: 162] INFO: 邮件标题为：Hi，附件为web自动化测试报告，烦请查阅邮件内容为：{'E:\\Projects\\report\\test_report20180308163739.html'}，待发送邮件附件有 【测试报告】web自动化测试报告20180308163739
2018-03-08 16:37:39,500 main.py[line: 163] INFO: 正在发送测试报告邮件...
2018-03-08 16:37:40,490 main.py[line: 166] INFO: 发送邮件成功
2018-03-08 16:37:40,490 main.py[line: 172] INFO: 正在关闭数据库
2018-03-08 17:52:20,089 globalvar.py[line: 23] INFO: #####################正在初始化全局配置#####################
2018-03-08 17:52:20,089 globalvar.py[line: 24] INFO: 正在选择数据库运行环境和站点运行环境
2018-03-08 17:52:20,090 globalvar.py[line: 34] INFO: 在测试环境执行测试，正在获取测试环境的web site
2018-03-08 17:52:20,090 globalvar.py[line: 45] INFO: 在测试环境执行测试，正在获取测试环境的数据库
2018-03-08 17:52:20,138 globalvar.py[line: 55] INFO: 正在进行ftp配置
2018-03-08 17:52:20,152 globalvar.py[line: 62] INFO: 正在获取运行模式
2018-03-08 17:52:20,153 globalvar.py[line: 66] INFO: 运行模式为:<module 'publicpkg.runmode' from 'D:\\python\\webautotest\\publicpkg\\runmode.py'>
2018-03-08 17:52:20,153 globalvar.py[line: 69] INFO: 测试计划配置:[4]
2018-03-08 17:52:20,153 globalvar.py[line: 72] INFO: 全局初始化用例配置:[123]
2018-03-08 17:52:20,154 globalvar.py[line: 75] INFO: 正在获取浏览器配置
2018-03-08 17:52:20,154 globalvar.py[line: 79] INFO: 获取需要进行测试的浏览器有：['Chrome']
2018-03-08 17:52:20,154 globalvar.py[line: 82] INFO: 正在初始化其它工具对象
2018-03-08 17:52:20,154 globalvar.py[line: 86] INFO: 正在进行截图基路径配置
2018-03-08 17:52:20,155 globalvar.py[line: 91] INFO: 截图报存基路径为：D:\python\webautotest\screentshot\
2018-03-08 17:52:20,155 globalvar.py[line: 95] INFO: 正在进行测试报告配置
2018-03-08 17:52:20,155 globalvar.py[line: 96] INFO: --1、读取测试报告路径及文件名
2018-03-08 17:52:20,156 globalvar.py[line: 101] INFO: --2、构造测试报告
2018-03-08 17:52:20,156 globalvar.py[line: 104] INFO: --3、设置报告生成路径
2018-03-08 17:52:20,156 globalvar.py[line: 107] INFO: #####################初始化全局配置完毕#####################
2018-03-08 17:52:20,183 main.py[line: 61] INFO: ####################### 开始测试 #######################
2018-03-08 17:52:26,585 test_plan.py[line: 28] INFO: 正在获取本次测试需要执行的测试用列ID列表，测试计划名称
2018-03-08 17:52:26,585 database.py[line: 88] INFO: query：SELECT testcase_list, test_round_name FROM testcase_runround WHERE id = %s   data：(4,)
2018-03-08 17:52:26,589 test_plan.py[line: 44] INFO: 获取到的的测试用例id列表为: [14, 19, 13, 18]
2018-03-08 17:52:26,589 test_plan.py[line: 48] INFO: ####################### 开始运行测试计划 #######################
2018-03-08 17:52:26,589 test_case.py[line: 17] INFO: 正在构造并初始化测试用例对象[id=14]
2018-03-08 17:52:26,589 test_case.py[line: 26] INFO: 初始测试用例完毕
2018-03-08 17:52:26,589 test_case.py[line: 17] INFO: 正在构造并初始化测试用例对象[id=19]
2018-03-08 17:52:26,589 test_case.py[line: 26] INFO: 初始测试用例完毕
2018-03-08 17:52:26,589 test_case.py[line: 17] INFO: 正在构造并初始化测试用例对象[id=13]
2018-03-08 17:52:26,589 test_case.py[line: 26] INFO: 初始测试用例完毕
2018-03-08 17:52:26,589 test_case.py[line: 17] INFO: 正在构造并初始化测试用例对象[id=18]
2018-03-08 17:52:26,589 test_case.py[line: 26] INFO: 初始测试用例完毕
2018-03-08 17:52:26,591 test_case.py[line: 70] INFO: 正在获取测试用例所有测试步骤
2018-03-08 17:52:26,591 database.py[line: 106] INFO: query：(SELECT a.StepOrder AS StepOrder,c.PageName AS PageName,b.ElementName AS ElementName,b.ElementSelector AS ElementSelector,b.ElementSelector02 AS ElementSelector02,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,a.compid AS compid,a.compFolderid AS comFolderid,'' AS comName FROM testcases_steps AS a, page_elements AS b,pagesobject AS c WHERE a.TestcaseID = %s AND a.ElementId = b.Id AND b.PageId = c.Id)UNION ALL(SELECT a.steporder AS steporder,'' AS PageName,'' AS ElementSelector,'' AS ElementSelector02,'' AS ElementName,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,a.compid AS compid,a.compFolderid AS comFolderid,tc.test_name AS comName FROM testcases_steps AS a, testcases AS tc WHERE a.TestcaseID = %s AND a.compid = tc.id)UNION ALL(SELECT a.steporder AS steporder,'' AS PageName,'' AS ElementSelector,'' AS ElementSelector02,'' AS ElementName,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,'' AS compid,'' AS comFolderid,'' AS comName FROM testcases_steps AS a WHERE a.TestcaseID = %s AND NOT ISNULL(a.stepOrder)AND NOT ISNULL(a.Command) AND ISNULL(compid) AND ElementId='')ORDER BY steporder  data：(14, 14, 14)
2018-03-08 17:52:26,598 test_case.py[line: 123] INFO: 获取的测试步骤为： [(1, '', '', '', '', '断言', '深圳市金斧子网络科技有限公司-ERP', '', '', '', ''), (2, '用户登录', '用户名', 'xpath=//*[@name=&quot;username&quot;]', '', '输入', 'defang3', '', None, None, ''), (3, '用户登录', '密码', 'xpath=//*[@name=&quot;password&quot;]', '', '输入', '123', '', None, None, ''), (4, '用户登录', '登录', 'xpath=//*[@class=&quot;submit_wrap&quot;]', '', '点击', '', '', None, None, ''), (5, '', '', '', '', '等待', '3', '', '', '', ''), (6, '', '', '', '', '断言', '德芳运维', '德芳运维', '', '', '')]
2018-03-08 17:52:26,598 test_case.py[line: 41] INFO: 开始执行测试步骤
2018-03-08 17:52:26,598 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：1, 操作：断言， 输入参数：深圳市金斧子网络科技有限公司-ERP，预期结果：）
2018-03-08 17:52:26,598 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 17:52:26,598 test_case_step.py[line: 88] INFO: 执行函数：断言
2018-03-08 17:52:26,599 test_case_step.py[line: 91] INFO: 正在对输入参数:深圳市金斧子网络科技有限公司-ERP 进行参数处理
2018-03-08 17:52:26,599 test_case_step.py[line: 118] INFO: 断言的标题为:深圳市金斧子网络科技有限公司-ERP
2018-03-08 17:52:26,608 seleniumutil.py[line: 174] INFO: 断言信息为：深圳市金斧子网络科技有限公司-ERP
2018-03-08 17:52:26,608 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 17:52:26,608 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(4, 14, 1520502746, 1, '', '断言', '深圳市金斧子网络科技有限公司-ERP', '', 'Pass', '断言成功', 'Chrome', '2018-03-08 17:52:26', '')
2018-03-08 17:52:26,613 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 17:52:26,613 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：用户名, 步序：2, 操作：输入， 输入参数：defang3，预期结果：）
2018-03-08 17:52:26,613 test_case_step.py[line: 38] INFO: 正在执行最普通的元素操作
2018-03-08 17:52:26,613 test_case_step.py[line: 42] INFO: 正在对选择器：selector1: xpath=//*[@name=&quot;username&quot;]，selector2:  做数据转换处理
2018-03-08 17:52:26,613 test_case_step.py[line: 45] INFO: 转换后的选择器：selector1: xpath=//*[@name="username"]，selector2: 
2018-03-08 17:52:26,614 test_case_step.py[line: 47] INFO: 开始对步骤中的元素操作进行操作
2018-03-08 17:52:26,614 test_case_step.py[line: 133] INFO: 操作：输入
2018-03-08 17:52:26,614 test_case_step.py[line: 135] INFO: 正在对输入参数:defang3 进行参数处理
2018-03-08 17:52:26,614 test_case_step.py[line: 139] INFO: 处理后的输入参数为:['defang3'] 
2018-03-08 17:52:26,614 test_case_step.py[line: 208] INFO: 开始根据元素定位器：xpath=//*[@name="username"] 自定位元素
2018-03-08 17:52:26,614 test_case_step.py[line: 221] INFO: find_element_by_xpath：//*[@name="username"]
2018-03-08 17:52:26,656 test_case_step.py[line: 194] INFO: 找到元素：<selenium.webdriver.remote.webelement.WebElement (session="f233e9f048c0bffa73c56160f8aed35f", element="0.6956233403266088-1")>
2018-03-08 17:52:26,740 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 17:52:26,741 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(4, 14, 1520502746, 2, '用户名', '输入', 'defang3', '', 'Pass', '输入数据成功', 'Chrome', '2018-03-08 17:52:26', '')
2018-03-08 17:52:26,746 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 17:52:26,746 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：密码, 步序：3, 操作：输入， 输入参数：123，预期结果：）
2018-03-08 17:52:26,746 test_case_step.py[line: 38] INFO: 正在执行最普通的元素操作
2018-03-08 17:52:26,746 test_case_step.py[line: 42] INFO: 正在对选择器：selector1: xpath=//*[@name=&quot;password&quot;]，selector2:  做数据转换处理
2018-03-08 17:52:26,746 test_case_step.py[line: 45] INFO: 转换后的选择器：selector1: xpath=//*[@name="password"]，selector2: 
2018-03-08 17:52:26,747 test_case_step.py[line: 47] INFO: 开始对步骤中的元素操作进行操作
2018-03-08 17:52:26,747 test_case_step.py[line: 133] INFO: 操作：输入
2018-03-08 17:52:26,747 test_case_step.py[line: 135] INFO: 正在对输入参数:123 进行参数处理
2018-03-08 17:52:26,747 test_case_step.py[line: 139] INFO: 处理后的输入参数为:['123'] 
2018-03-08 17:52:26,747 test_case_step.py[line: 208] INFO: 开始根据元素定位器：xpath=//*[@name="password"] 自定位元素
2018-03-08 17:52:26,747 test_case_step.py[line: 221] INFO: find_element_by_xpath：//*[@name="password"]
2018-03-08 17:52:26,766 test_case_step.py[line: 194] INFO: 找到元素：<selenium.webdriver.remote.webelement.WebElement (session="f233e9f048c0bffa73c56160f8aed35f", element="0.6956233403266088-2")>
2018-03-08 17:52:26,829 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 17:52:26,830 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(4, 14, 1520502746, 3, '密码', '输入', '123', '', 'Pass', '输入数据成功', 'Chrome', '2018-03-08 17:52:26', '')
2018-03-08 17:52:26,836 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 17:52:26,836 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：登录, 步序：4, 操作：点击， 输入参数：，预期结果：）
2018-03-08 17:52:26,836 test_case_step.py[line: 38] INFO: 正在执行最普通的元素操作
2018-03-08 17:52:26,836 test_case_step.py[line: 42] INFO: 正在对选择器：selector1: xpath=//*[@class=&quot;submit_wrap&quot;]，selector2:  做数据转换处理
2018-03-08 17:52:26,836 test_case_step.py[line: 45] INFO: 转换后的选择器：selector1: xpath=//*[@class="submit_wrap"]，selector2: 
2018-03-08 17:52:26,836 test_case_step.py[line: 47] INFO: 开始对步骤中的元素操作进行操作
2018-03-08 17:52:26,836 test_case_step.py[line: 133] INFO: 操作：点击
2018-03-08 17:52:26,837 test_case_step.py[line: 208] INFO: 开始根据元素定位器：xpath=//*[@class="submit_wrap"] 自定位元素
2018-03-08 17:52:26,837 test_case_step.py[line: 221] INFO: find_element_by_xpath：//*[@class="submit_wrap"]
2018-03-08 17:52:26,858 test_case_step.py[line: 194] INFO: 找到元素：<selenium.webdriver.remote.webelement.WebElement (session="f233e9f048c0bffa73c56160f8aed35f", element="0.6956233403266088-3")>
2018-03-08 17:52:28,082 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 17:52:28,082 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(4, 14, 1520502746, 4, '登录', '点击', '', '', 'Pass', '点击成功', 'Chrome', '2018-03-08 17:52:26', '')
2018-03-08 17:52:28,088 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 17:52:28,089 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：5, 操作：等待， 输入参数：3，预期结果：）
2018-03-08 17:52:28,089 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 17:52:28,089 test_case_step.py[line: 88] INFO: 执行函数：等待
2018-03-08 17:52:28,089 test_case_step.py[line: 91] INFO: 正在对输入参数:3 进行参数处理
2018-03-08 17:52:28,089 test_case_step.py[line: 108] INFO: 等待3秒
2018-03-08 17:52:31,080 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 17:52:31,080 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(4, 14, 1520502746, 5, '', '等待', '3', '', 'Pass', 'run success', 'Chrome', '2018-03-08 17:52:28', '')
2018-03-08 17:52:31,085 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 17:52:31,085 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：6, 操作：断言， 输入参数：德芳运维，预期结果：德芳运维）
2018-03-08 17:52:31,085 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 17:52:31,086 test_case_step.py[line: 88] INFO: 执行函数：断言
2018-03-08 17:52:31,086 test_case_step.py[line: 91] INFO: 正在对输入参数:德芳运维 进行参数处理
2018-03-08 17:52:31,086 test_case_step.py[line: 118] INFO: 断言的标题为:德芳运维
2018-03-08 17:52:31,107 seleniumutil.py[line: 174] INFO: 断言信息为：德芳运维
2018-03-08 17:52:31,107 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 17:52:31,107 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(4, 14, 1520502746, 6, '', '断言', '德芳运维', '德芳运维', 'Pass', '断言成功', 'Chrome', '2018-03-08 17:52:31', '')
2018-03-08 17:52:31,113 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 17:52:31,113 test_case.py[line: 58] INFO: 测试步骤执行完毕，正在记录用例运行结果到测试用例运行报表
2018-03-08 17:52:31,113 database.py[line: 58] INFO: query：INSERT INTO testcase_reporter(runHistoryId, browserType, testcaseId, testplanId, runTime, runResult) VALUES(%s, %s, %s, %s, %s, %s)  data：(1520502746, 'Chrome', 14, 4, '2018-03-08 17:52:26', 'Pass')
2018-03-08 17:52:31,136 test_case.py[line: 70] INFO: 正在获取测试用例所有测试步骤
2018-03-08 17:52:31,136 database.py[line: 106] INFO: query：(SELECT a.StepOrder AS StepOrder,c.PageName AS PageName,b.ElementName AS ElementName,b.ElementSelector AS ElementSelector,b.ElementSelector02 AS ElementSelector02,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,a.compid AS compid,a.compFolderid AS comFolderid,'' AS comName FROM testcases_steps AS a, page_elements AS b,pagesobject AS c WHERE a.TestcaseID = %s AND a.ElementId = b.Id AND b.PageId = c.Id)UNION ALL(SELECT a.steporder AS steporder,'' AS PageName,'' AS ElementSelector,'' AS ElementSelector02,'' AS ElementName,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,a.compid AS compid,a.compFolderid AS comFolderid,tc.test_name AS comName FROM testcases_steps AS a, testcases AS tc WHERE a.TestcaseID = %s AND a.compid = tc.id)UNION ALL(SELECT a.steporder AS steporder,'' AS PageName,'' AS ElementSelector,'' AS ElementSelector02,'' AS ElementName,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,'' AS compid,'' AS comFolderid,'' AS comName FROM testcases_steps AS a WHERE a.TestcaseID = %s AND NOT ISNULL(a.stepOrder)AND NOT ISNULL(a.Command) AND ISNULL(compid) AND ElementId='')ORDER BY steporder  data：(19, 19, 19)
2018-03-08 17:52:31,143 test_case.py[line: 123] INFO: 获取的测试步骤为： [(1, '', '', '', '', '等待', '5', '', '', '', ''), (2, '', '', '', '', '切换入iframe', 'iframe89892232323', '', '', '', ''), (3, '审批流', '审批流的链接', 'xpath=html/body/div[1]/div/div/div[2]/div/div/div/div[2]/div/div[1]/ul/li[1]/div[1]', '', '点击', '', '', None, None, ''), (4, '', '', '', '', '切换到新的窗口', '', '', '', '', ''), (5, '', '', '', '', '等待', '5', '', '', '', ''), (6, '审批流', '审批流的同意按钮', 'xpath=//*[@id=&quot;btnAgree&quot;]', '', '点击', '', '', None, None, ''), (7, '', '', '', '', '切换入xpathifram', '//iframe[contains(@id,&quot;ligerwindow&quot;)]', '', '', '', ''), (8, '', '', '', '', '等待', '3', '', '', '', ''), (9, '审批流', '填写意见的确定按钮', 'xpath=//*[@id=&quot;dataFormSave&quot;]', '', '点击', '', '', None, None, ''), (10, '', '', '', '', '等待', '5', '', '', '', ''), (11, '', '', '', '', '断言文本提示信息', '执行任务成功!', '', '', '', ''), (12, '', '', '', '', '等待', '5', '', '', '', ''), (13, '审批流', '同意的确定按钮', 'xpath=//*[@class=&quot;l-dialog-btn-inner&quot;]', '', '点击', '', '', None, None, ''), (14, '', '', '', '', '等待', '5', '', '', '', ''), (15, '', '', '', '', '弹出选项框', '', '', '', '', ''), (16, '', '', '', '', '等待', '5', '', '', '', ''), (17, '审批流', '退出系统', 'xpath=//*[text()=&quot;退出系统&quot;]', '', '点击', '', '', None, None, '')]
2018-03-08 17:52:31,143 test_case.py[line: 41] INFO: 开始执行测试步骤
2018-03-08 17:52:31,143 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：1, 操作：等待， 输入参数：5，预期结果：）
2018-03-08 17:52:31,143 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 17:52:31,143 test_case_step.py[line: 88] INFO: 执行函数：等待
2018-03-08 17:52:31,143 test_case_step.py[line: 91] INFO: 正在对输入参数:5 进行参数处理
2018-03-08 17:52:31,143 test_case_step.py[line: 108] INFO: 等待5秒
2018-03-08 17:52:36,128 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 17:52:36,128 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(4, 19, 1520502746, 1, '', '等待', '5', '', 'Pass', 'run success', 'Chrome', '2018-03-08 17:52:31', '')
2018-03-08 17:52:36,133 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 17:52:36,133 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：2, 操作：切换入iframe， 输入参数：iframe89892232323，预期结果：）
2018-03-08 17:52:36,133 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 17:52:36,133 test_case_step.py[line: 88] INFO: 执行函数：切换入iframe
2018-03-08 17:52:36,133 test_case_step.py[line: 91] INFO: 正在对输入参数:iframe89892232323 进行参数处理
2018-03-08 17:52:36,159 seleniumutil.py[line: 67] INFO: 切换至frame（id/name/xpath = iframe89892232323）成功
2018-03-08 17:52:36,159 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 17:52:36,159 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(4, 19, 1520502746, 2, '', '切换入iframe', 'iframe89892232323', '', 'Pass', 'run success', 'Chrome', '2018-03-08 17:52:36', '')
2018-03-08 17:52:36,164 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 17:52:36,164 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：审批流的链接, 步序：3, 操作：点击， 输入参数：，预期结果：）
2018-03-08 17:52:36,164 test_case_step.py[line: 38] INFO: 正在执行最普通的元素操作
2018-03-08 17:52:36,164 test_case_step.py[line: 42] INFO: 正在对选择器：selector1: xpath=html/body/div[1]/div/div/div[2]/div/div/div/div[2]/div/div[1]/ul/li[1]/div[1]，selector2:  做数据转换处理
2018-03-08 17:52:36,164 test_case_step.py[line: 45] INFO: 转换后的选择器：selector1: xpath=html/body/div[1]/div/div/div[2]/div/div/div/div[2]/div/div[1]/ul/li[1]/div[1]，selector2: 
2018-03-08 17:52:36,164 test_case_step.py[line: 47] INFO: 开始对步骤中的元素操作进行操作
2018-03-08 17:52:36,165 test_case_step.py[line: 133] INFO: 操作：点击
2018-03-08 17:52:36,165 test_case_step.py[line: 208] INFO: 开始根据元素定位器：xpath=html/body/div[1]/div/div/div[2]/div/div/div/div[2]/div/div[1]/ul/li[1]/div[1] 自定位元素
2018-03-08 17:52:36,165 test_case_step.py[line: 221] INFO: find_element_by_xpath：html/body/div[1]/div/div/div[2]/div/div/div/div[2]/div/div[1]/ul/li[1]/div[1]
2018-03-08 17:52:36,183 test_case_step.py[line: 194] INFO: 找到元素：<selenium.webdriver.remote.webelement.WebElement (session="f233e9f048c0bffa73c56160f8aed35f", element="0.9033524227421901-1")>
2018-03-08 17:52:36,356 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 17:52:36,357 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(4, 19, 1520502746, 3, '审批流的链接', '点击', '', '', 'Pass', '点击成功', 'Chrome', '2018-03-08 17:52:36', '')
2018-03-08 17:52:36,363 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 17:52:36,364 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：4, 操作：切换到新的窗口， 输入参数：，预期结果：）
2018-03-08 17:52:36,364 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 17:52:36,364 test_case_step.py[line: 88] INFO: 执行函数：切换到新的窗口
2018-03-08 17:52:36,463 seleniumutil.py[line: 95] INFO: 切换到新的窗口成功:CDwindow-(4C1ACF8C44FE50924B7921C63D848BB5)
2018-03-08 17:52:36,463 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 17:52:36,463 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(4, 19, 1520502746, 4, '', '切换到新的窗口', '', '', 'Pass', '切换到新窗口成功', 'Chrome', '2018-03-08 17:52:36', '')
2018-03-08 17:52:36,467 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 17:52:36,468 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：5, 操作：等待， 输入参数：5，预期结果：）
2018-03-08 17:52:36,468 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 17:52:36,468 test_case_step.py[line: 88] INFO: 执行函数：等待
2018-03-08 17:52:36,468 test_case_step.py[line: 91] INFO: 正在对输入参数:5 进行参数处理
2018-03-08 17:52:36,468 test_case_step.py[line: 108] INFO: 等待5秒
2018-03-08 17:52:41,454 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 17:52:41,454 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(4, 19, 1520502746, 5, '', '等待', '5', '', 'Pass', 'run success', 'Chrome', '2018-03-08 17:52:36', '')
2018-03-08 17:52:41,460 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 17:52:41,460 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：审批流的同意按钮, 步序：6, 操作：点击， 输入参数：，预期结果：）
2018-03-08 17:52:41,460 test_case_step.py[line: 38] INFO: 正在执行最普通的元素操作
2018-03-08 17:52:41,460 test_case_step.py[line: 42] INFO: 正在对选择器：selector1: xpath=//*[@id=&quot;btnAgree&quot;]，selector2:  做数据转换处理
2018-03-08 17:52:41,460 test_case_step.py[line: 45] INFO: 转换后的选择器：selector1: xpath=//*[@id="btnAgree"]，selector2: 
2018-03-08 17:52:41,460 test_case_step.py[line: 47] INFO: 开始对步骤中的元素操作进行操作
2018-03-08 17:52:41,460 test_case_step.py[line: 133] INFO: 操作：点击
2018-03-08 17:52:41,460 test_case_step.py[line: 208] INFO: 开始根据元素定位器：xpath=//*[@id="btnAgree"] 自定位元素
2018-03-08 17:52:41,461 test_case_step.py[line: 221] INFO: find_element_by_xpath：//*[@id="btnAgree"]
2018-03-08 17:52:42,520 test_case_step.py[line: 194] INFO: 找到元素：<selenium.webdriver.remote.webelement.WebElement (session="f233e9f048c0bffa73c56160f8aed35f", element="0.5390532302566657-1")>
2018-03-08 17:52:42,815 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 17:52:42,815 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(4, 19, 1520502746, 6, '审批流的同意按钮', '点击', '', '', 'Pass', '点击成功', 'Chrome', '2018-03-08 17:52:41', '')
2018-03-08 17:52:42,823 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 17:52:42,823 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：7, 操作：切换入xpathifram， 输入参数：//iframe[contains(@id,&quot;ligerwindow&quot;)]，预期结果：）
2018-03-08 17:52:42,823 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 17:52:42,824 test_case_step.py[line: 88] INFO: 执行函数：切换入xpathifram
2018-03-08 17:52:42,824 test_case_step.py[line: 91] INFO: 正在对输入参数://iframe[contains(@id,&quot;ligerwindow&quot;)] 进行参数处理
2018-03-08 17:52:42,888 seleniumutil.py[line: 77] INFO: 切换至frame（xpath = //iframe[contains(@id,"ligerwindow")]）成功
2018-03-08 17:52:42,888 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 17:52:42,889 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(4, 19, 1520502746, 7, '', '切换入xpathifram', '//iframe[contains(@id,&quot;ligerwindow&quot;)]', '', 'Pass', 'run success', 'Chrome', '2018-03-08 17:52:42', '')
2018-03-08 17:52:42,893 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 17:52:42,893 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：8, 操作：等待， 输入参数：3，预期结果：）
2018-03-08 17:52:42,893 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 17:52:42,893 test_case_step.py[line: 88] INFO: 执行函数：等待
2018-03-08 17:52:42,894 test_case_step.py[line: 91] INFO: 正在对输入参数:3 进行参数处理
2018-03-08 17:52:42,894 test_case_step.py[line: 108] INFO: 等待3秒
2018-03-08 17:52:45,885 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 17:52:45,885 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(4, 19, 1520502746, 8, '', '等待', '3', '', 'Pass', 'run success', 'Chrome', '2018-03-08 17:52:42', '')
2018-03-08 17:52:45,891 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 17:52:45,891 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：填写意见的确定按钮, 步序：9, 操作：点击， 输入参数：，预期结果：）
2018-03-08 17:52:45,891 test_case_step.py[line: 38] INFO: 正在执行最普通的元素操作
2018-03-08 17:52:45,891 test_case_step.py[line: 42] INFO: 正在对选择器：selector1: xpath=//*[@id=&quot;dataFormSave&quot;]，selector2:  做数据转换处理
2018-03-08 17:52:45,891 test_case_step.py[line: 45] INFO: 转换后的选择器：selector1: xpath=//*[@id="dataFormSave"]，selector2: 
2018-03-08 17:52:45,891 test_case_step.py[line: 47] INFO: 开始对步骤中的元素操作进行操作
2018-03-08 17:52:45,891 test_case_step.py[line: 133] INFO: 操作：点击
2018-03-08 17:52:45,892 test_case_step.py[line: 208] INFO: 开始根据元素定位器：xpath=//*[@id="dataFormSave"] 自定位元素
2018-03-08 17:52:45,892 test_case_step.py[line: 221] INFO: find_element_by_xpath：//*[@id="dataFormSave"]
2018-03-08 17:52:45,915 test_case_step.py[line: 194] INFO: 找到元素：<selenium.webdriver.remote.webelement.WebElement (session="f233e9f048c0bffa73c56160f8aed35f", element="0.9611205831011029-1")>
2018-03-08 17:52:46,082 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 17:52:46,082 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(4, 19, 1520502746, 9, '填写意见的确定按钮', '点击', '', '', 'Pass', '点击成功', 'Chrome', '2018-03-08 17:52:45', '')
2018-03-08 17:52:46,088 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 17:52:46,089 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：10, 操作：等待， 输入参数：5，预期结果：）
2018-03-08 17:52:46,089 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 17:52:46,089 test_case_step.py[line: 88] INFO: 执行函数：等待
2018-03-08 17:52:46,090 test_case_step.py[line: 91] INFO: 正在对输入参数:5 进行参数处理
2018-03-08 17:52:46,090 test_case_step.py[line: 108] INFO: 等待5秒
2018-03-08 17:52:51,076 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 17:52:51,076 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(4, 19, 1520502746, 10, '', '等待', '5', '', 'Pass', 'run success', 'Chrome', '2018-03-08 17:52:46', '')
2018-03-08 17:52:51,082 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 17:52:51,082 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：11, 操作：断言文本提示信息， 输入参数：执行任务成功!，预期结果：）
2018-03-08 17:52:51,082 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 17:52:51,082 test_case_step.py[line: 88] INFO: 执行函数：断言文本提示信息
2018-03-08 17:52:51,082 test_case_step.py[line: 91] INFO: 正在对输入参数:执行任务成功! 进行参数处理
2018-03-08 17:52:51,128 seleniumutil.py[line: 186] INFO: 断言文本提示信息为:执行任务成功!
2018-03-08 17:52:51,128 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 17:52:51,128 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(4, 19, 1520502746, 11, '', '断言文本提示信息', '执行任务成功!', '', 'Pass', '断言文本提示信息成功!', 'Chrome', '2018-03-08 17:52:51', '')
2018-03-08 17:52:51,133 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 17:52:51,133 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：12, 操作：等待， 输入参数：5，预期结果：）
2018-03-08 17:52:51,133 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 17:52:51,133 test_case_step.py[line: 88] INFO: 执行函数：等待
2018-03-08 17:52:51,133 test_case_step.py[line: 91] INFO: 正在对输入参数:5 进行参数处理
2018-03-08 17:52:51,133 test_case_step.py[line: 108] INFO: 等待5秒
2018-03-08 17:52:56,118 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 17:52:56,118 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(4, 19, 1520502746, 12, '', '等待', '5', '', 'Pass', 'run success', 'Chrome', '2018-03-08 17:52:51', '')
2018-03-08 17:52:56,124 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 17:52:56,124 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：同意的确定按钮, 步序：13, 操作：点击， 输入参数：，预期结果：）
2018-03-08 17:52:56,124 test_case_step.py[line: 38] INFO: 正在执行最普通的元素操作
2018-03-08 17:52:56,124 test_case_step.py[line: 42] INFO: 正在对选择器：selector1: xpath=//*[@class=&quot;l-dialog-btn-inner&quot;]，selector2:  做数据转换处理
2018-03-08 17:52:56,124 test_case_step.py[line: 45] INFO: 转换后的选择器：selector1: xpath=//*[@class="l-dialog-btn-inner"]，selector2: 
2018-03-08 17:52:56,124 test_case_step.py[line: 47] INFO: 开始对步骤中的元素操作进行操作
2018-03-08 17:52:56,124 test_case_step.py[line: 133] INFO: 操作：点击
2018-03-08 17:52:56,124 test_case_step.py[line: 208] INFO: 开始根据元素定位器：xpath=//*[@class="l-dialog-btn-inner"] 自定位元素
2018-03-08 17:52:56,124 test_case_step.py[line: 221] INFO: find_element_by_xpath：//*[@class="l-dialog-btn-inner"]
2018-03-08 17:52:56,142 test_case_step.py[line: 194] INFO: 找到元素：<selenium.webdriver.remote.webelement.WebElement (session="f233e9f048c0bffa73c56160f8aed35f", element="0.5390532302566657-4")>
2018-03-08 17:52:56,502 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 17:52:56,502 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(4, 19, 1520502746, 13, '同意的确定按钮', '点击', '', '', 'Pass', '点击成功', 'Chrome', '2018-03-08 17:52:56', '')
2018-03-08 17:52:56,509 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 17:52:56,509 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：14, 操作：等待， 输入参数：5，预期结果：）
2018-03-08 17:52:56,509 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 17:52:56,509 test_case_step.py[line: 88] INFO: 执行函数：等待
2018-03-08 17:52:56,509 test_case_step.py[line: 91] INFO: 正在对输入参数:5 进行参数处理
2018-03-08 17:52:56,510 test_case_step.py[line: 108] INFO: 等待5秒
2018-03-08 17:53:01,496 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 17:53:01,496 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(4, 19, 1520502746, 14, '', '等待', '5', '', 'Pass', 'run success', 'Chrome', '2018-03-08 17:52:56', '')
2018-03-08 17:53:01,501 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 17:53:01,501 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：15, 操作：弹出选项框， 输入参数：，预期结果：）
2018-03-08 17:53:01,501 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 17:53:01,501 test_case_step.py[line: 88] INFO: 执行函数：弹出选项框
2018-03-08 17:53:02,577 test_case.py[line: 70] INFO: 正在获取测试用例所有测试步骤
2018-03-08 17:53:02,577 database.py[line: 106] INFO: query：(SELECT a.StepOrder AS StepOrder,c.PageName AS PageName,b.ElementName AS ElementName,b.ElementSelector AS ElementSelector,b.ElementSelector02 AS ElementSelector02,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,a.compid AS compid,a.compFolderid AS comFolderid,'' AS comName FROM testcases_steps AS a, page_elements AS b,pagesobject AS c WHERE a.TestcaseID = %s AND a.ElementId = b.Id AND b.PageId = c.Id)UNION ALL(SELECT a.steporder AS steporder,'' AS PageName,'' AS ElementSelector,'' AS ElementSelector02,'' AS ElementName,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,a.compid AS compid,a.compFolderid AS comFolderid,tc.test_name AS comName FROM testcases_steps AS a, testcases AS tc WHERE a.TestcaseID = %s AND a.compid = tc.id)UNION ALL(SELECT a.steporder AS steporder,'' AS PageName,'' AS ElementSelector,'' AS ElementSelector02,'' AS ElementName,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,'' AS compid,'' AS comFolderid,'' AS comName FROM testcases_steps AS a WHERE a.TestcaseID = %s AND NOT ISNULL(a.stepOrder)AND NOT ISNULL(a.Command) AND ISNULL(compid) AND ElementId='')ORDER BY steporder  data：(13, 13, 13)
2018-03-08 17:53:02,582 test_case.py[line: 123] INFO: 获取的测试步骤为： [(1, '', '', '', '', '断言', '深圳市金斧子网络科技有限公司-ERP', '', '', '', ''), (2, '用户登录', '用户名', 'xpath=//*[@name=&quot;username&quot;]', '', '输入', 'defang2', '', None, None, ''), (3, '用户登录', '密码', 'xpath=//*[@name=&quot;password&quot;]', '', '输入', '123', '', None, None, ''), (4, '用户登录', '登录', 'xpath=//*[@class=&quot;submit_wrap&quot;]', '', '点击', '', '', None, None, ''), (5, '', '', '', '', '等待', '3', '', '', '', ''), (6, '', '', '', '', '断言', '德芳客服', '', '', '', '')]
2018-03-08 17:53:02,583 test_case.py[line: 41] INFO: 开始执行测试步骤
2018-03-08 17:53:02,583 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：1, 操作：断言， 输入参数：深圳市金斧子网络科技有限公司-ERP，预期结果：）
2018-03-08 17:53:02,583 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 17:53:02,583 test_case_step.py[line: 88] INFO: 执行函数：断言
2018-03-08 17:53:02,583 test_case_step.py[line: 91] INFO: 正在对输入参数:深圳市金斧子网络科技有限公司-ERP 进行参数处理
2018-03-08 17:53:02,583 test_case_step.py[line: 118] INFO: 断言的标题为:深圳市金斧子网络科技有限公司-ERP
2018-03-08 17:53:04,601 test_case_step.py[line: 281] ERROR: 截图失败:Fail
2018-03-08 17:53:04,601 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 17:53:04,601 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(4, 13, 1520502746, 1, '', '断言', '深圳市金斧子网络科技有限公司-ERP', '', 'Fail', '断言失败', 'Chrome', '2018-03-08 17:53:2', '')
2018-03-08 17:53:04,606 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 17:53:04,606 test_case.py[line: 46] INFO: 用例[id：13]步骤[步序：1] 运行失败，停止运行用例
2018-03-08 17:53:04,606 test_case.py[line: 58] INFO: 测试步骤执行完毕，正在记录用例运行结果到测试用例运行报表
2018-03-08 17:53:04,606 database.py[line: 58] INFO: query：INSERT INTO testcase_reporter(runHistoryId, browserType, testcaseId, testplanId, runTime, runResult) VALUES(%s, %s, %s, %s, %s, %s)  data：(1520502746, 'Chrome', 13, 4, '2018-03-08 17:53:2', 'Fail')
2018-03-08 17:53:04,619 test_case.py[line: 70] INFO: 正在获取测试用例所有测试步骤
2018-03-08 17:53:04,619 database.py[line: 106] INFO: query：(SELECT a.StepOrder AS StepOrder,c.PageName AS PageName,b.ElementName AS ElementName,b.ElementSelector AS ElementSelector,b.ElementSelector02 AS ElementSelector02,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,a.compid AS compid,a.compFolderid AS comFolderid,'' AS comName FROM testcases_steps AS a, page_elements AS b,pagesobject AS c WHERE a.TestcaseID = %s AND a.ElementId = b.Id AND b.PageId = c.Id)UNION ALL(SELECT a.steporder AS steporder,'' AS PageName,'' AS ElementSelector,'' AS ElementSelector02,'' AS ElementName,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,a.compid AS compid,a.compFolderid AS comFolderid,tc.test_name AS comName FROM testcases_steps AS a, testcases AS tc WHERE a.TestcaseID = %s AND a.compid = tc.id)UNION ALL(SELECT a.steporder AS steporder,'' AS PageName,'' AS ElementSelector,'' AS ElementSelector02,'' AS ElementName,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,'' AS compid,'' AS comFolderid,'' AS comName FROM testcases_steps AS a WHERE a.TestcaseID = %s AND NOT ISNULL(a.stepOrder)AND NOT ISNULL(a.Command) AND ISNULL(compid) AND ElementId='')ORDER BY steporder  data：(18, 18, 18)
2018-03-08 17:53:04,625 test_case.py[line: 123] INFO: 获取的测试步骤为： [(1, '', '', '', '', '等待', '5', '', '', '', ''), (2, '', '', '', '', '切换入iframe', 'iframe89892232323', '', '', '', ''), (3, '审批流', '审批流的链接', 'xpath=html/body/div[1]/div/div/div[2]/div/div/div/div[2]/div/div[1]/ul/li[1]/div[1]', '', '点击', '', '', None, None, ''), (4, '', '', '', '', '切换到新的窗口', '', '', '', '', ''), (5, '', '', '', '', '等待', '5', '', '', '', ''), (6, '审批流', '审批流的同意按钮', 'xpath=//*[@id=&quot;btnAgree&quot;]', '', '点击', '', '', None, None, ''), (7, '', '', '', '', '等待', '5', '', '', '', ''), (8, '', '', '', '', '切换入xpathifram', '//iframe[contains(@id,&quot;ligerwindow&quot;)]', '', '', '', ''), (9, '审批流', '填写意见的确定按钮', 'xpath=//*[@id=&quot;dataFormSave&quot;]', '', '点击', '', '', None, None, ''), (10, '', '', '', '', '等待', '5', '', '', '', ''), (11, '', '', '', '', '断言文本提示信息', '执行任务成功!', '', '', '', ''), (12, '', '', '', '', '等待', '5', '', '', '', ''), (13, '审批流', '同意的确定按钮', 'xpath=//*[@class=&quot;l-dialog-btn-inner&quot;]', '', '点击', '', '', None, None, '')]
2018-03-08 17:53:04,625 test_case.py[line: 41] INFO: 开始执行测试步骤
2018-03-08 17:53:04,626 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：1, 操作：等待， 输入参数：5，预期结果：）
2018-03-08 17:53:04,626 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 17:53:04,626 test_case_step.py[line: 88] INFO: 执行函数：等待
2018-03-08 17:53:04,626 test_case_step.py[line: 91] INFO: 正在对输入参数:5 进行参数处理
2018-03-08 17:53:04,626 test_case_step.py[line: 108] INFO: 等待5秒
2018-03-08 17:53:09,611 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 17:53:09,611 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(4, 18, 1520502746, 1, '', '等待', '5', '', 'Pass', 'run success', 'Chrome', '2018-03-08 17:53:4', '')
2018-03-08 17:53:09,616 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 17:53:09,616 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：2, 操作：切换入iframe， 输入参数：iframe89892232323，预期结果：）
2018-03-08 17:53:09,616 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 17:53:09,616 test_case_step.py[line: 88] INFO: 执行函数：切换入iframe
2018-03-08 17:53:09,616 test_case_step.py[line: 91] INFO: 正在对输入参数:iframe89892232323 进行参数处理
2018-03-08 17:53:10,629 seleniumutil.py[line: 70] ERROR: 切换至frame（id/name/xpath = iframe89892232323）失败
2018-03-08 17:53:11,638 test_case_step.py[line: 281] ERROR: 截图失败:Fail
2018-03-08 17:53:11,638 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 17:53:11,638 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(4, 18, 1520502746, 2, '', '切换入iframe', 'iframe89892232323', '', 'Fail', NoSuchWindowException('no such window: window was already closed\n  (Session info: chrome=64.0.3282.186)\n  (Driver info: chromedriver=2.33.506120 (e3e53437346286c0bc2d2dc9aa4915ba81d9023f),platform=Windows NT 6.1.7601 SP1 x86_64)', None, None), 'Chrome', '2018-03-08 17:53:9', '')
2018-03-08 17:53:11,641 database.py[line: 66] ERROR: 执行数据库插入操作失败：Failed processing format-parameters; Python 'nosuchwindowexception' cannot be converted to a MySQL type
2018-03-08 17:53:11,642 test_case_step.py[line: 81] ERROR: 记录到测试步骤结果报表失败 Failed processing format-parameters; Python 'nosuchwindowexception' cannot be converted to a MySQL type
2018-03-08 17:53:11,642 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 17:53:11,642 test_case.py[line: 46] INFO: 用例[id：18]步骤[步序：2] 运行失败，停止运行用例
2018-03-08 17:53:11,642 test_case.py[line: 58] INFO: 测试步骤执行完毕，正在记录用例运行结果到测试用例运行报表
2018-03-08 17:53:11,642 database.py[line: 58] INFO: query：INSERT INTO testcase_reporter(runHistoryId, browserType, testcaseId, testplanId, runTime, runResult) VALUES(%s, %s, %s, %s, %s, %s)  data：(1520502746, 'Chrome', 18, 4, '2018-03-08 17:53:4', 'Fail')
2018-03-08 17:53:11,648 test_plan.py[line: 65] INFO: ####################### 测试计划已运行完毕 #######################
2018-03-08 17:53:11,648 test_plan.py[line: 66] INFO: 正在统计测试计划执行的用例总数
2018-03-08 17:53:11,648 database.py[line: 88] INFO: query：SELECT count(testcaseId)  FROM testcase_reporter  WHERE runHistoryId = %s  data：(1520502746,)
2018-03-08 17:53:11,652 test_plan.py[line: 75] INFO: 正在统计测试计划执行成功的用例总数
2018-03-08 17:53:11,652 database.py[line: 88] INFO: query：SELECT count(testcaseId)  FROM testcase_reporter WHERE runHistoryId = %s AND runResult='Pass'  data：(1520502746,)
2018-03-08 17:53:11,656 test_plan.py[line: 85] INFO: 正在统计测试计划执行失败的用例总数
2018-03-08 17:53:11,656 database.py[line: 88] INFO: query：SELECT count(testcaseId)  FROM testcase_reporter WHERE runHistoryId = %s AND runResult='Fail'  data：(1520502746,)
2018-03-08 17:53:11,661 test_plan.py[line: 95] INFO: 正在统计测试计划执行被阻塞的用例总数
2018-03-08 17:53:11,661 database.py[line: 88] INFO: query：SELECT count(testcaseId)  FROM testcase_reporter WHERE runHistoryId = %s AND runResult='Block'  data：(1520502746,)
2018-03-08 17:53:11,665 test_plan.py[line: 105] INFO: 正在统计测试计划执行成功的用例
2018-03-08 17:53:11,665 database.py[line: 106] INFO: query：SELECT testcaseId  FROM testcase_reporter WHERE runHistoryId = %s AND runResult='Pass'  data：(1520502746,)
2018-03-08 17:53:11,669 test_plan.py[line: 115] INFO: 正在统计测试计划执行失败的用例
2018-03-08 17:53:11,669 database.py[line: 106] INFO: query：SELECT testcaseId  FROM testcase_reporter WHERE runHistoryId = %s AND runResult='Fail'  data：(1520502746,)
2018-03-08 17:53:11,673 test_plan.py[line: 125] INFO: 正在统计测试计划执行被阻塞的用例
2018-03-08 17:53:11,673 database.py[line: 106] INFO: query：SELECT testcaseId  FROM testcase_reporter WHERE runHistoryId = %s AND runResult='Block'  data：(1520502746,)
2018-03-08 17:53:11,676 test_plan.py[line: 130] INFO: 没找到计划执行被阻塞的用例
2018-03-08 17:53:11,676 test_plan.py[line: 151] INFO: 正在记录测试计划运行结果到测试计划报表
2018-03-08 17:53:11,676 database.py[line: 58] INFO: query：INSERT INTO testplan_reporter(testPlanId, testPlanName, runHistoryId, browserType, runTc_total, runPassedTc_total, runFailedTc_total,runBlockedTc_total, runPassedTc, runFailedTc, runBlockedTc, runTime)VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(4, '购买记录审批流程', 1520502746, 'Chrome', 3, 1, 2, 0, '(14,)', '(13,)', '', '2018-03-08 17:52:26')
2018-03-08 17:53:11,680 main.py[line: 79] INFO: 计划运行完成，正在关闭浏览器
2018-03-08 17:53:14,768 main.py[line: 82] INFO: ####################### 测试结束 #######################
2018-03-08 17:53:14,768 main.py[line: 126] INFO: 运行完成,准备生成测试报告
2018-03-08 17:53:14,768 htmlreporter.py[line: 35] INFO: 正在查询测试计划执行统计信息（执行总数，成功数，失败数，被阻塞数）
2018-03-08 17:53:14,768 database.py[line: 88] INFO: query：SELECT runTc_total, runPassedTc_total, runFailedTc_total, runBlockedTc_total, testPlanName, testPlanId FROM testplan_reporter WHERE runHistoryId = %s  data：(1520502746,)
2018-03-08 17:53:14,773 htmlreporter.py[line: 111] INFO: 正在查询测试计划：购买记录审批流程 运行的的测试用例
2018-03-08 17:53:14,773 database.py[line: 106] INFO: query：SELECT id, runHistoryId, testcaseId, testplanId, browserType, runResult, runTime FROM testcase_reporter WHERE testplanId=%s AND runHistoryId = %s ORDER BY id ASC  data：('4', 1520502746)
2018-03-08 17:53:14,778 htmlreporter.py[line: 121] INFO: 正在记录测试计划[名称：购买记录审批流程]的测试用例运行结果到测试报告
2018-03-08 17:53:14,778 database.py[line: 88] INFO: query：SELECT test_name FROM testcases WHERE id=%s  data：(14,)
2018-03-08 17:53:14,782 database.py[line: 88] INFO: query：SELECT test_name FROM testcases WHERE id=%s  data：(13,)
2018-03-08 17:53:14,786 database.py[line: 88] INFO: query：SELECT test_name FROM testcases WHERE id=%s  data：(18,)
2018-03-08 17:53:14,790 htmlreporter.py[line: 151] INFO: 正在查询测试计划：购买记录审批流程 运行的的测试用例
2018-03-08 17:53:14,790 database.py[line: 106] INFO: query：SELECT id, runHistoryId, testcaseId, testplanId, browserType, runResult, runTime  FROM testcase_reporter WHERE testplanId=%s AND runHistoryId = %s ORDER BY id ASC  data：('4', 1520502746)
2018-03-08 17:53:14,795 htmlreporter.py[line: 168] INFO: 正在查询测试用例[id=14, name=运维登录]对应的测试步骤执行明细
2018-03-08 17:53:14,795 database.py[line: 106] INFO: query：SELECT id, stepOrder, runHistoryId, elementName, command, inparams, stepRunResult, expectedResult, stepRunResultDesc, browserType, runTime, screenshotUrl FROM case_step_run_detail WHERE testcaseId=%s AND runHistoryId = %s  ORDER BY id ASC  data：('14', 1520502746)
2018-03-08 17:53:14,802 htmlreporter.py[line: 168] INFO: 正在查询测试用例[id=13, name=客服登录]对应的测试步骤执行明细
2018-03-08 17:53:14,802 database.py[line: 106] INFO: query：SELECT id, stepOrder, runHistoryId, elementName, command, inparams, stepRunResult, expectedResult, stepRunResultDesc, browserType, runTime, screenshotUrl FROM case_step_run_detail WHERE testcaseId=%s AND runHistoryId = %s  ORDER BY id ASC  data：('13', 1520502746)
2018-03-08 17:53:14,808 htmlreporter.py[line: 168] INFO: 正在查询测试用例[id=18, name=购买记录客服审批]对应的测试步骤执行明细
2018-03-08 17:53:14,808 database.py[line: 106] INFO: query：SELECT id, stepOrder, runHistoryId, elementName, command, inparams, stepRunResult, expectedResult, stepRunResultDesc, browserType, runTime, screenshotUrl FROM case_step_run_detail WHERE testcaseId=%s AND runHistoryId = %s  ORDER BY id ASC  data：('18', 1520502746)
2018-03-08 17:53:14,813 htmlreporter.py[line: 211] INFO: 正在设置测试报告结果文件名
2018-03-08 17:53:14,814 htmlreporter.py[line: 222] INFO: 测试报告文件名所在路径为：E:\Projects\report\test_report20180308175314.html
2018-03-08 17:53:14,814 htmlreporter.py[line: 214] INFO: 正在生产测试报告
2018-03-08 17:53:14,816 main.py[line: 130] INFO: 生成测试报告成功
2018-03-08 17:53:14,816 main.py[line: 134] INFO: 运行完成,准备上传截图
2018-03-08 17:53:14,816 ftp.py[line: 42] INFO: is connecting to ftp server 10.1.2.88 on 21
2018-03-08 17:53:14,826 ftp.py[line: 47] INFO: ready to login ftp server
2018-03-08 17:53:14,925 ftp.py[line: 49] INFO: login ftp server successfully
2018-03-08 17:53:14,925 main.py[line: 138] INFO: 正在获取要上传的截图文件
2018-03-08 17:53:14,961 main.py[line: 146] INFO: 正在上传图片到ftp服务器
2018-03-08 17:53:14,962 ftp.py[line: 55] INFO: close ftp connection successfully
2018-03-08 17:53:14,963 main.py[line: 156] INFO: 运行完成，准备发送邮件
2018-03-08 17:53:15,303 main.py[line: 162] INFO: 邮件标题为：Hi，附件为web自动化测试报告，烦请查阅邮件内容为：{'E:\\Projects\\report\\test_report20180308175314.html'}，待发送邮件附件有 【测试报告】web自动化测试报告20180308175314
2018-03-08 17:53:15,303 main.py[line: 163] INFO: 正在发送测试报告邮件...
2018-03-08 17:53:16,066 main.py[line: 166] INFO: 发送邮件成功
2018-03-08 17:53:16,066 main.py[line: 172] INFO: 正在关闭数据库
2018-03-08 18:09:29,474 globalvar.py[line: 23] INFO: #####################正在初始化全局配置#####################
2018-03-08 18:09:29,475 globalvar.py[line: 24] INFO: 正在选择数据库运行环境和站点运行环境
2018-03-08 18:09:29,475 globalvar.py[line: 34] INFO: 在测试环境执行测试，正在获取测试环境的web site
2018-03-08 18:09:29,476 globalvar.py[line: 45] INFO: 在测试环境执行测试，正在获取测试环境的数据库
2018-03-08 18:09:29,486 globalvar.py[line: 55] INFO: 正在进行ftp配置
2018-03-08 18:09:29,495 globalvar.py[line: 62] INFO: 正在获取运行模式
2018-03-08 18:09:29,496 globalvar.py[line: 66] INFO: 运行模式为:<module 'publicpkg.runmode' from 'D:\\python\\webautotest\\publicpkg\\runmode.py'>
2018-03-08 18:09:29,496 globalvar.py[line: 69] INFO: 测试计划配置:[4]
2018-03-08 18:09:29,496 globalvar.py[line: 72] INFO: 全局初始化用例配置:[123]
2018-03-08 18:09:29,496 globalvar.py[line: 75] INFO: 正在获取浏览器配置
2018-03-08 18:09:29,497 globalvar.py[line: 79] INFO: 获取需要进行测试的浏览器有：['Chrome']
2018-03-08 18:09:29,497 globalvar.py[line: 82] INFO: 正在初始化其它工具对象
2018-03-08 18:09:29,497 globalvar.py[line: 86] INFO: 正在进行截图基路径配置
2018-03-08 18:09:29,497 globalvar.py[line: 91] INFO: 截图报存基路径为：D:\python\webautotest\screentshot\
2018-03-08 18:09:29,498 globalvar.py[line: 95] INFO: 正在进行测试报告配置
2018-03-08 18:09:29,498 globalvar.py[line: 96] INFO: --1、读取测试报告路径及文件名
2018-03-08 18:09:29,498 globalvar.py[line: 101] INFO: --2、构造测试报告
2018-03-08 18:09:29,498 globalvar.py[line: 104] INFO: --3、设置报告生成路径
2018-03-08 18:09:29,499 globalvar.py[line: 107] INFO: #####################初始化全局配置完毕#####################
2018-03-08 18:09:32,257 main.py[line: 21] INFO: 正在查询用例是否存在
2018-03-08 18:09:32,257 database.py[line: 88] INFO: query：SELECT id FROM testcases WHERE id = %s  data：(12,)
2018-03-08 18:09:32,261 main.py[line: 28] INFO: ####################### 开始测试 #######################
2018-03-08 18:09:38,381 main.py[line: 38] INFO: 优先运行全局初始化用例 [123]
2018-03-08 18:09:38,382 main.py[line: 40] INFO: 正在查询全局用例[id=123]是否存在
2018-03-08 18:09:38,382 database.py[line: 88] INFO: query：SELECT id FROM testcases WHERE id = %s  data：(123,)
2018-03-08 18:09:38,384 main.py[line: 45] WARNING: 用例id:12不存在
2018-03-08 18:09:38,385 test_case.py[line: 17] INFO: 正在构造并初始化测试用例对象[id=12]
2018-03-08 18:09:38,385 test_case.py[line: 26] INFO: 初始测试用例完毕
2018-03-08 18:09:38,385 test_case.py[line: 70] INFO: 正在获取测试用例所有测试步骤
2018-03-08 18:09:38,385 database.py[line: 106] INFO: query：(SELECT a.StepOrder AS StepOrder,c.PageName AS PageName,b.ElementName AS ElementName,b.ElementSelector AS ElementSelector,b.ElementSelector02 AS ElementSelector02,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,a.compid AS compid,a.compFolderid AS comFolderid,'' AS comName FROM testcases_steps AS a, page_elements AS b,pagesobject AS c WHERE a.TestcaseID = %s AND a.ElementId = b.Id AND b.PageId = c.Id)UNION ALL(SELECT a.steporder AS steporder,'' AS PageName,'' AS ElementSelector,'' AS ElementSelector02,'' AS ElementName,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,a.compid AS compid,a.compFolderid AS comFolderid,tc.test_name AS comName FROM testcases_steps AS a, testcases AS tc WHERE a.TestcaseID = %s AND a.compid = tc.id)UNION ALL(SELECT a.steporder AS steporder,'' AS PageName,'' AS ElementSelector,'' AS ElementSelector02,'' AS ElementName,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,'' AS compid,'' AS comFolderid,'' AS comName FROM testcases_steps AS a WHERE a.TestcaseID = %s AND NOT ISNULL(a.stepOrder)AND NOT ISNULL(a.Command) AND ISNULL(compid) AND ElementId='')ORDER BY steporder  data：(12, 12, 12)
2018-03-08 18:09:38,390 test_case.py[line: 123] INFO: 获取的测试步骤为： [(1, '', '', '', '', '断言', '深圳市金斧子网络科技有限公司-ERP', '', '', '', ''), (2, '用户登录', '用户名', 'xpath=//*[@name=&quot;username&quot;]', '', '输入', 'defang1', '', None, None, ''), (3, '用户登录', '密码', 'xpath=//*[@name=&quot;password&quot;]', '', '输入', '123456', '', None, None, ''), (4, '用户登录', '登录', 'xpath=//*[@class=&quot;submit_wrap&quot;]', '', '点击', '', '', None, None, ''), (5, '', '', '', '', '等待', '3', '', '', '', ''), (6, '', '', '', '', '断言', '德芳理财', '', '', '', ''), (7, '', '', '', '', '弹出选项框', '', '', '', '', ''), (8, '', '', '', '', '等待', '5', '', '', '', ''), (9, '审批流', '退出系统', 'xpath=//*[text()=&quot;退出系统&quot;]', '', '点击', '', '', None, None, '')]
2018-03-08 18:09:38,390 test_case.py[line: 41] INFO: 开始执行测试步骤
2018-03-08 18:09:38,390 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：1, 操作：断言， 输入参数：深圳市金斧子网络科技有限公司-ERP，预期结果：）
2018-03-08 18:09:38,390 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 18:09:38,390 test_case_step.py[line: 88] INFO: 执行函数：断言
2018-03-08 18:09:38,390 test_case_step.py[line: 91] INFO: 正在对输入参数:深圳市金斧子网络科技有限公司-ERP 进行参数处理
2018-03-08 18:09:38,390 test_case_step.py[line: 118] INFO: 断言的标题为:深圳市金斧子网络科技有限公司-ERP
2018-03-08 18:09:38,404 seleniumutil.py[line: 174] INFO: 断言信息为：深圳市金斧子网络科技有限公司-ERP
2018-03-08 18:09:38,404 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 18:09:38,404 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(0, 12, 1520503778, 1, '', '断言', '深圳市金斧子网络科技有限公司-ERP', '', 'Pass', '断言成功', 'Chrome', '2018-03-08 18:9:38', '')
2018-03-08 18:09:38,409 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 18:09:38,409 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：用户名, 步序：2, 操作：输入， 输入参数：defang1，预期结果：）
2018-03-08 18:09:38,409 test_case_step.py[line: 38] INFO: 正在执行最普通的元素操作
2018-03-08 18:09:38,409 test_case_step.py[line: 42] INFO: 正在对选择器：selector1: xpath=//*[@name=&quot;username&quot;]，selector2:  做数据转换处理
2018-03-08 18:09:38,409 test_case_step.py[line: 45] INFO: 转换后的选择器：selector1: xpath=//*[@name="username"]，selector2: 
2018-03-08 18:09:38,409 test_case_step.py[line: 47] INFO: 开始对步骤中的元素操作进行操作
2018-03-08 18:09:38,409 test_case_step.py[line: 133] INFO: 操作：输入
2018-03-08 18:09:38,409 test_case_step.py[line: 135] INFO: 正在对输入参数:defang1 进行参数处理
2018-03-08 18:09:38,409 test_case_step.py[line: 139] INFO: 处理后的输入参数为:['defang1'] 
2018-03-08 18:09:38,409 test_case_step.py[line: 208] INFO: 开始根据元素定位器：xpath=//*[@name="username"] 自定位元素
2018-03-08 18:09:38,409 test_case_step.py[line: 221] INFO: find_element_by_xpath：//*[@name="username"]
2018-03-08 18:09:38,426 test_case_step.py[line: 194] INFO: 找到元素：<selenium.webdriver.remote.webelement.WebElement (session="80eaba1e7ad865c1a0d275bfce93de37", element="0.6694100620528336-1")>
2018-03-08 18:09:38,510 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 18:09:38,511 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(0, 12, 1520503778, 2, '用户名', '输入', 'defang1', '', 'Pass', '输入数据成功', 'Chrome', '2018-03-08 18:9:38', '')
2018-03-08 18:09:38,515 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 18:09:38,515 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：密码, 步序：3, 操作：输入， 输入参数：123456，预期结果：）
2018-03-08 18:09:38,515 test_case_step.py[line: 38] INFO: 正在执行最普通的元素操作
2018-03-08 18:09:38,516 test_case_step.py[line: 42] INFO: 正在对选择器：selector1: xpath=//*[@name=&quot;password&quot;]，selector2:  做数据转换处理
2018-03-08 18:09:38,516 test_case_step.py[line: 45] INFO: 转换后的选择器：selector1: xpath=//*[@name="password"]，selector2: 
2018-03-08 18:09:38,516 test_case_step.py[line: 47] INFO: 开始对步骤中的元素操作进行操作
2018-03-08 18:09:38,517 test_case_step.py[line: 133] INFO: 操作：输入
2018-03-08 18:09:38,517 test_case_step.py[line: 135] INFO: 正在对输入参数:123456 进行参数处理
2018-03-08 18:09:38,517 test_case_step.py[line: 139] INFO: 处理后的输入参数为:['123456'] 
2018-03-08 18:09:38,517 test_case_step.py[line: 208] INFO: 开始根据元素定位器：xpath=//*[@name="password"] 自定位元素
2018-03-08 18:09:38,517 test_case_step.py[line: 221] INFO: find_element_by_xpath：//*[@name="password"]
2018-03-08 18:09:38,541 test_case_step.py[line: 194] INFO: 找到元素：<selenium.webdriver.remote.webelement.WebElement (session="80eaba1e7ad865c1a0d275bfce93de37", element="0.6694100620528336-2")>
2018-03-08 18:09:38,643 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 18:09:38,644 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(0, 12, 1520503778, 3, '密码', '输入', '123456', '', 'Pass', '输入数据成功', 'Chrome', '2018-03-08 18:9:38', '')
2018-03-08 18:09:38,649 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 18:09:38,649 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：登录, 步序：4, 操作：点击， 输入参数：，预期结果：）
2018-03-08 18:09:38,649 test_case_step.py[line: 38] INFO: 正在执行最普通的元素操作
2018-03-08 18:09:38,649 test_case_step.py[line: 42] INFO: 正在对选择器：selector1: xpath=//*[@class=&quot;submit_wrap&quot;]，selector2:  做数据转换处理
2018-03-08 18:09:38,649 test_case_step.py[line: 45] INFO: 转换后的选择器：selector1: xpath=//*[@class="submit_wrap"]，selector2: 
2018-03-08 18:09:38,649 test_case_step.py[line: 47] INFO: 开始对步骤中的元素操作进行操作
2018-03-08 18:09:38,649 test_case_step.py[line: 133] INFO: 操作：点击
2018-03-08 18:09:38,649 test_case_step.py[line: 208] INFO: 开始根据元素定位器：xpath=//*[@class="submit_wrap"] 自定位元素
2018-03-08 18:09:38,649 test_case_step.py[line: 221] INFO: find_element_by_xpath：//*[@class="submit_wrap"]
2018-03-08 18:09:38,674 test_case_step.py[line: 194] INFO: 找到元素：<selenium.webdriver.remote.webelement.WebElement (session="80eaba1e7ad865c1a0d275bfce93de37", element="0.6694100620528336-3")>
2018-03-08 18:09:40,201 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 18:09:40,201 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(0, 12, 1520503778, 4, '登录', '点击', '', '', 'Pass', '点击成功', 'Chrome', '2018-03-08 18:9:38', '')
2018-03-08 18:09:40,206 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 18:09:40,207 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：5, 操作：等待， 输入参数：3，预期结果：）
2018-03-08 18:09:40,207 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 18:09:40,207 test_case_step.py[line: 88] INFO: 执行函数：等待
2018-03-08 18:09:40,207 test_case_step.py[line: 91] INFO: 正在对输入参数:3 进行参数处理
2018-03-08 18:09:40,207 test_case_step.py[line: 108] INFO: 等待3秒
2018-03-08 18:09:43,207 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 18:09:43,207 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(0, 12, 1520503778, 5, '', '等待', '3', '', 'Pass', 'run success', 'Chrome', '2018-03-08 18:9:40', '')
2018-03-08 18:09:43,211 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 18:09:43,211 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：6, 操作：断言， 输入参数：德芳理财，预期结果：）
2018-03-08 18:09:43,211 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 18:09:43,212 test_case_step.py[line: 88] INFO: 执行函数：断言
2018-03-08 18:09:43,212 test_case_step.py[line: 91] INFO: 正在对输入参数:德芳理财 进行参数处理
2018-03-08 18:09:43,212 test_case_step.py[line: 118] INFO: 断言的标题为:德芳理财
2018-03-08 18:09:43,226 seleniumutil.py[line: 174] INFO: 断言信息为：德芳理财
2018-03-08 18:09:43,227 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 18:09:43,227 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(0, 12, 1520503778, 6, '', '断言', '德芳理财', '', 'Pass', '断言成功', 'Chrome', '2018-03-08 18:9:43', '')
2018-03-08 18:09:43,230 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 18:09:43,230 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：7, 操作：弹出选项框， 输入参数：，预期结果：）
2018-03-08 18:09:43,230 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 18:09:43,230 test_case_step.py[line: 88] INFO: 执行函数：弹出选项框
2018-03-08 18:09:43,253 seleniumutil.py[line: 111] INFO: 选项框弹出失败:<selenium.webdriver.remote.webelement.WebElement (session="80eaba1e7ad865c1a0d275bfce93de37", element="0.9573361293718172-1")>
2018-03-08 18:09:43,697 test_case_step.py[line: 278] INFO: 截图文件保存路径为：D:\python\webautotest\screentshot\tp0\tc12\tp0_tc12_step7_1520503778_20180308180943.png
2018-03-08 18:09:43,697 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 18:09:43,697 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(0, 12, 1520503778, 7, '', '弹出选项框', '', '', 'Fail', '选项框弹出失败', 'Chrome', '2018-03-08 18:9:43', 'ftp://10.1.2.88/tp0_tc12_step7_1520503778_20180308180943.png')
2018-03-08 18:09:43,702 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 18:09:43,702 test_case.py[line: 46] INFO: 用例[id：12]步骤[步序：7] 运行失败，停止运行用例
2018-03-08 18:09:43,702 test_case.py[line: 58] INFO: 测试步骤执行完毕，正在记录用例运行结果到测试用例运行报表
2018-03-08 18:09:43,702 database.py[line: 58] INFO: query：INSERT INTO testcase_reporter(runHistoryId, browserType, testcaseId, testplanId, runTime, runResult) VALUES(%s, %s, %s, %s, %s, %s)  data：(1520503778, 'Chrome', 12, 0, '2018-03-08 18:9:38', 'Fail')
2018-03-08 18:09:43,705 main.py[line: 52] INFO: 用例执行完成，正在关闭浏览器
2018-03-08 18:09:47,130 main.py[line: 55] INFO: ####################### 测试结束 #######################
2018-03-08 18:09:47,130 main.py[line: 126] INFO: 运行完成,准备生成测试报告
2018-03-08 18:09:47,130 htmlreporter.py[line: 55] INFO: 正在查询测试用例执行统计信息
2018-03-08 18:09:47,130 database.py[line: 88] INFO: query：SELECT runResult FROM testcase_reporter WHERE runHistoryId = %s  data：(1520503778,)
2018-03-08 18:09:47,134 htmlreporter.py[line: 111] INFO: 正在查询测试计划：无计划 运行的的测试用例
2018-03-08 18:09:47,135 database.py[line: 106] INFO: query：SELECT id, runHistoryId, testcaseId, testplanId, browserType, runResult, runTime FROM testcase_reporter WHERE testplanId=%s AND runHistoryId = %s ORDER BY id ASC  data：(0, 1520503778)
2018-03-08 18:09:47,138 htmlreporter.py[line: 121] INFO: 正在记录测试计划[名称：无计划]的测试用例运行结果到测试报告
2018-03-08 18:09:47,139 database.py[line: 88] INFO: query：SELECT test_name FROM testcases WHERE id=%s  data：(12,)
2018-03-08 18:09:47,141 htmlreporter.py[line: 151] INFO: 正在查询测试计划：无计划 运行的的测试用例
2018-03-08 18:09:47,142 database.py[line: 106] INFO: query：SELECT id, runHistoryId, testcaseId, testplanId, browserType, runResult, runTime  FROM testcase_reporter WHERE testplanId=%s AND runHistoryId = %s ORDER BY id ASC  data：(0, 1520503778)
2018-03-08 18:09:47,145 htmlreporter.py[line: 168] INFO: 正在查询测试用例[id=12, name=理财师登录]对应的测试步骤执行明细
2018-03-08 18:09:47,145 database.py[line: 106] INFO: query：SELECT id, stepOrder, runHistoryId, elementName, command, inparams, stepRunResult, expectedResult, stepRunResultDesc, browserType, runTime, screenshotUrl FROM case_step_run_detail WHERE testcaseId=%s AND runHistoryId = %s  ORDER BY id ASC  data：('12', 1520503778)
2018-03-08 18:09:47,150 htmlreporter.py[line: 211] INFO: 正在设置测试报告结果文件名
2018-03-08 18:09:47,150 htmlreporter.py[line: 222] INFO: 测试报告文件名所在路径为：E:\Projects\report\test_report20180308180947.html
2018-03-08 18:09:47,150 htmlreporter.py[line: 214] INFO: 正在生产测试报告
2018-03-08 18:09:47,151 main.py[line: 130] INFO: 生成测试报告成功
2018-03-08 18:09:47,151 main.py[line: 134] INFO: 运行完成,准备上传截图
2018-03-08 18:09:47,151 ftp.py[line: 42] INFO: is connecting to ftp server 10.1.2.88 on 21
2018-03-08 18:09:47,159 ftp.py[line: 47] INFO: ready to login ftp server
2018-03-08 18:09:47,262 ftp.py[line: 49] INFO: login ftp server successfully
2018-03-08 18:09:47,262 main.py[line: 138] INFO: 正在获取要上传的截图文件
2018-03-08 18:09:47,264 main.py[line: 146] INFO: 正在上传图片到ftp服务器
2018-03-08 18:09:47,264 main.py[line: 150] INFO: 正在上传文件：d:\python\webautotest\screentshot\tp0\tc12\tp0_tc12_step7_1520503778_20180308180943.png 到远程服务器：tp0_tc12_step7_1520503778_20180308180943.png
2018-03-08 18:09:47,279 main.py[line: 153] ERROR: 上传截图到ftp服务器出错：553 Could not create file.
2018-03-08 18:09:47,280 ftp.py[line: 55] INFO: close ftp connection successfully
2018-03-08 18:09:47,280 main.py[line: 156] INFO: 运行完成，准备发送邮件
2018-03-08 18:09:47,739 main.py[line: 162] INFO: 邮件标题为：Hi，附件为web自动化测试报告，烦请查阅邮件内容为：{'E:\\Projects\\report\\test_report20180308180947.html'}，待发送邮件附件有 【测试报告】web自动化测试报告20180308180947
2018-03-08 18:09:47,739 main.py[line: 163] INFO: 正在发送测试报告邮件...
2018-03-08 18:09:49,412 main.py[line: 166] INFO: 发送邮件成功
2018-03-08 18:09:49,413 main.py[line: 172] INFO: 正在关闭数据库
2018-03-08 18:12:51,540 globalvar.py[line: 23] INFO: #####################正在初始化全局配置#####################
2018-03-08 18:12:51,540 globalvar.py[line: 24] INFO: 正在选择数据库运行环境和站点运行环境
2018-03-08 18:12:51,541 globalvar.py[line: 34] INFO: 在测试环境执行测试，正在获取测试环境的web site
2018-03-08 18:12:51,542 globalvar.py[line: 45] INFO: 在测试环境执行测试，正在获取测试环境的数据库
2018-03-08 18:12:51,581 globalvar.py[line: 55] INFO: 正在进行ftp配置
2018-03-08 18:12:51,589 globalvar.py[line: 62] INFO: 正在获取运行模式
2018-03-08 18:12:51,590 globalvar.py[line: 66] INFO: 运行模式为:<module 'publicpkg.runmode' from 'D:\\python\\webautotest\\publicpkg\\runmode.py'>
2018-03-08 18:12:51,590 globalvar.py[line: 69] INFO: 测试计划配置:[4]
2018-03-08 18:12:51,590 globalvar.py[line: 72] INFO: 全局初始化用例配置:[123]
2018-03-08 18:12:51,590 globalvar.py[line: 75] INFO: 正在获取浏览器配置
2018-03-08 18:12:51,591 globalvar.py[line: 79] INFO: 获取需要进行测试的浏览器有：['Chrome']
2018-03-08 18:12:51,591 globalvar.py[line: 82] INFO: 正在初始化其它工具对象
2018-03-08 18:12:51,591 globalvar.py[line: 86] INFO: 正在进行截图基路径配置
2018-03-08 18:12:51,591 globalvar.py[line: 91] INFO: 截图报存基路径为：D:\python\webautotest\screentshot\
2018-03-08 18:12:51,591 globalvar.py[line: 95] INFO: 正在进行测试报告配置
2018-03-08 18:12:51,591 globalvar.py[line: 96] INFO: --1、读取测试报告路径及文件名
2018-03-08 18:12:51,592 globalvar.py[line: 101] INFO: --2、构造测试报告
2018-03-08 18:12:51,592 globalvar.py[line: 104] INFO: --3、设置报告生成路径
2018-03-08 18:12:51,592 globalvar.py[line: 107] INFO: #####################初始化全局配置完毕#####################
2018-03-08 18:12:53,594 main.py[line: 21] INFO: 正在查询用例是否存在
2018-03-08 18:12:53,594 database.py[line: 88] INFO: query：SELECT id FROM testcases WHERE id = %s  data：(12,)
2018-03-08 18:12:53,599 main.py[line: 28] INFO: ####################### 开始测试 #######################
2018-03-08 18:12:59,684 main.py[line: 38] INFO: 优先运行全局初始化用例 [123]
2018-03-08 18:12:59,684 main.py[line: 40] INFO: 正在查询全局用例[id=123]是否存在
2018-03-08 18:12:59,684 database.py[line: 88] INFO: query：SELECT id FROM testcases WHERE id = %s  data：(123,)
2018-03-08 18:12:59,688 main.py[line: 45] WARNING: 用例id:12不存在
2018-03-08 18:12:59,688 test_case.py[line: 17] INFO: 正在构造并初始化测试用例对象[id=12]
2018-03-08 18:12:59,689 test_case.py[line: 26] INFO: 初始测试用例完毕
2018-03-08 18:12:59,689 test_case.py[line: 70] INFO: 正在获取测试用例所有测试步骤
2018-03-08 18:12:59,689 database.py[line: 106] INFO: query：(SELECT a.StepOrder AS StepOrder,c.PageName AS PageName,b.ElementName AS ElementName,b.ElementSelector AS ElementSelector,b.ElementSelector02 AS ElementSelector02,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,a.compid AS compid,a.compFolderid AS comFolderid,'' AS comName FROM testcases_steps AS a, page_elements AS b,pagesobject AS c WHERE a.TestcaseID = %s AND a.ElementId = b.Id AND b.PageId = c.Id)UNION ALL(SELECT a.steporder AS steporder,'' AS PageName,'' AS ElementSelector,'' AS ElementSelector02,'' AS ElementName,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,a.compid AS compid,a.compFolderid AS comFolderid,tc.test_name AS comName FROM testcases_steps AS a, testcases AS tc WHERE a.TestcaseID = %s AND a.compid = tc.id)UNION ALL(SELECT a.steporder AS steporder,'' AS PageName,'' AS ElementSelector,'' AS ElementSelector02,'' AS ElementName,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,'' AS compid,'' AS comFolderid,'' AS comName FROM testcases_steps AS a WHERE a.TestcaseID = %s AND NOT ISNULL(a.stepOrder)AND NOT ISNULL(a.Command) AND ISNULL(compid) AND ElementId='')ORDER BY steporder  data：(12, 12, 12)
2018-03-08 18:12:59,693 test_case.py[line: 123] INFO: 获取的测试步骤为： [(1, '', '', '', '', '断言', '深圳市金斧子网络科技有限公司-ERP', '', '', '', ''), (2, '用户登录', '用户名', 'xpath=//*[@name=&quot;username&quot;]', '', '输入', 'defang3', '', None, None, ''), (3, '用户登录', '密码', 'xpath=//*[@name=&quot;password&quot;]', '', '输入', '123', '', None, None, ''), (4, '用户登录', '登录', 'xpath=//*[@class=&quot;submit_wrap&quot;]', '', '点击', '', '', None, None, ''), (5, '', '', '', '', '等待', '3', '', '', '', ''), (6, '', '', '', '', '断言', '德芳运维', '', '', '', ''), (7, '', '', '', '', '弹出选项框', '', '', '', '', ''), (8, '', '', '', '', '等待', '5', '', '', '', ''), (9, '审批流', '退出系统', 'xpath=//*[text()=&quot;退出系统&quot;]', '', '点击', '', '', None, None, '')]
2018-03-08 18:12:59,694 test_case.py[line: 41] INFO: 开始执行测试步骤
2018-03-08 18:12:59,694 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：1, 操作：断言， 输入参数：深圳市金斧子网络科技有限公司-ERP，预期结果：）
2018-03-08 18:12:59,694 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 18:12:59,694 test_case_step.py[line: 88] INFO: 执行函数：断言
2018-03-08 18:12:59,694 test_case_step.py[line: 91] INFO: 正在对输入参数:深圳市金斧子网络科技有限公司-ERP 进行参数处理
2018-03-08 18:12:59,694 test_case_step.py[line: 118] INFO: 断言的标题为:深圳市金斧子网络科技有限公司-ERP
2018-03-08 18:12:59,701 seleniumutil.py[line: 174] INFO: 断言信息为：深圳市金斧子网络科技有限公司-ERP
2018-03-08 18:12:59,701 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 18:12:59,701 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(0, 12, 1520503979, 1, '', '断言', '深圳市金斧子网络科技有限公司-ERP', '', 'Pass', '断言成功', 'Chrome', '2018-03-08 18:12:59', '')
2018-03-08 18:12:59,705 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 18:12:59,705 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：用户名, 步序：2, 操作：输入， 输入参数：defang3，预期结果：）
2018-03-08 18:12:59,705 test_case_step.py[line: 38] INFO: 正在执行最普通的元素操作
2018-03-08 18:12:59,705 test_case_step.py[line: 42] INFO: 正在对选择器：selector1: xpath=//*[@name=&quot;username&quot;]，selector2:  做数据转换处理
2018-03-08 18:12:59,705 test_case_step.py[line: 45] INFO: 转换后的选择器：selector1: xpath=//*[@name="username"]，selector2: 
2018-03-08 18:12:59,705 test_case_step.py[line: 47] INFO: 开始对步骤中的元素操作进行操作
2018-03-08 18:12:59,705 test_case_step.py[line: 133] INFO: 操作：输入
2018-03-08 18:12:59,705 test_case_step.py[line: 135] INFO: 正在对输入参数:defang3 进行参数处理
2018-03-08 18:12:59,705 test_case_step.py[line: 139] INFO: 处理后的输入参数为:['defang3'] 
2018-03-08 18:12:59,706 test_case_step.py[line: 208] INFO: 开始根据元素定位器：xpath=//*[@name="username"] 自定位元素
2018-03-08 18:12:59,706 test_case_step.py[line: 221] INFO: find_element_by_xpath：//*[@name="username"]
2018-03-08 18:12:59,721 test_case_step.py[line: 194] INFO: 找到元素：<selenium.webdriver.remote.webelement.WebElement (session="fd642945237a5cdfd094edd24e343458", element="0.11404703078556189-1")>
2018-03-08 18:12:59,787 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 18:12:59,787 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(0, 12, 1520503979, 2, '用户名', '输入', 'defang3', '', 'Pass', '输入数据成功', 'Chrome', '2018-03-08 18:12:59', '')
2018-03-08 18:12:59,793 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 18:12:59,793 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：密码, 步序：3, 操作：输入， 输入参数：123，预期结果：）
2018-03-08 18:12:59,793 test_case_step.py[line: 38] INFO: 正在执行最普通的元素操作
2018-03-08 18:12:59,793 test_case_step.py[line: 42] INFO: 正在对选择器：selector1: xpath=//*[@name=&quot;password&quot;]，selector2:  做数据转换处理
2018-03-08 18:12:59,793 test_case_step.py[line: 45] INFO: 转换后的选择器：selector1: xpath=//*[@name="password"]，selector2: 
2018-03-08 18:12:59,793 test_case_step.py[line: 47] INFO: 开始对步骤中的元素操作进行操作
2018-03-08 18:12:59,793 test_case_step.py[line: 133] INFO: 操作：输入
2018-03-08 18:12:59,794 test_case_step.py[line: 135] INFO: 正在对输入参数:123 进行参数处理
2018-03-08 18:12:59,794 test_case_step.py[line: 139] INFO: 处理后的输入参数为:['123'] 
2018-03-08 18:12:59,794 test_case_step.py[line: 208] INFO: 开始根据元素定位器：xpath=//*[@name="password"] 自定位元素
2018-03-08 18:12:59,794 test_case_step.py[line: 221] INFO: find_element_by_xpath：//*[@name="password"]
2018-03-08 18:12:59,809 test_case_step.py[line: 194] INFO: 找到元素：<selenium.webdriver.remote.webelement.WebElement (session="fd642945237a5cdfd094edd24e343458", element="0.11404703078556189-2")>
2018-03-08 18:12:59,858 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 18:12:59,858 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(0, 12, 1520503979, 3, '密码', '输入', '123', '', 'Pass', '输入数据成功', 'Chrome', '2018-03-08 18:12:59', '')
2018-03-08 18:12:59,863 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 18:12:59,863 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：登录, 步序：4, 操作：点击， 输入参数：，预期结果：）
2018-03-08 18:12:59,863 test_case_step.py[line: 38] INFO: 正在执行最普通的元素操作
2018-03-08 18:12:59,863 test_case_step.py[line: 42] INFO: 正在对选择器：selector1: xpath=//*[@class=&quot;submit_wrap&quot;]，selector2:  做数据转换处理
2018-03-08 18:12:59,863 test_case_step.py[line: 45] INFO: 转换后的选择器：selector1: xpath=//*[@class="submit_wrap"]，selector2: 
2018-03-08 18:12:59,863 test_case_step.py[line: 47] INFO: 开始对步骤中的元素操作进行操作
2018-03-08 18:12:59,863 test_case_step.py[line: 133] INFO: 操作：点击
2018-03-08 18:12:59,863 test_case_step.py[line: 208] INFO: 开始根据元素定位器：xpath=//*[@class="submit_wrap"] 自定位元素
2018-03-08 18:12:59,863 test_case_step.py[line: 221] INFO: find_element_by_xpath：//*[@class="submit_wrap"]
2018-03-08 18:12:59,884 test_case_step.py[line: 194] INFO: 找到元素：<selenium.webdriver.remote.webelement.WebElement (session="fd642945237a5cdfd094edd24e343458", element="0.11404703078556189-3")>
2018-03-08 18:13:01,431 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 18:13:01,431 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(0, 12, 1520503979, 4, '登录', '点击', '', '', 'Pass', '点击成功', 'Chrome', '2018-03-08 18:12:59', '')
2018-03-08 18:13:01,437 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 18:13:01,438 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：5, 操作：等待， 输入参数：3，预期结果：）
2018-03-08 18:13:01,438 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 18:13:01,438 test_case_step.py[line: 88] INFO: 执行函数：等待
2018-03-08 18:13:01,438 test_case_step.py[line: 91] INFO: 正在对输入参数:3 进行参数处理
2018-03-08 18:13:01,438 test_case_step.py[line: 108] INFO: 等待3秒
2018-03-08 18:13:04,438 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 18:13:04,438 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(0, 12, 1520503979, 5, '', '等待', '3', '', 'Pass', 'run success', 'Chrome', '2018-03-08 18:13:1', '')
2018-03-08 18:13:04,442 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 18:13:04,442 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：6, 操作：断言， 输入参数：德芳运维，预期结果：）
2018-03-08 18:13:04,442 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 18:13:04,442 test_case_step.py[line: 88] INFO: 执行函数：断言
2018-03-08 18:13:04,442 test_case_step.py[line: 91] INFO: 正在对输入参数:德芳运维 进行参数处理
2018-03-08 18:13:04,442 test_case_step.py[line: 118] INFO: 断言的标题为:德芳运维
2018-03-08 18:13:04,462 seleniumutil.py[line: 174] INFO: 断言信息为：德芳运维
2018-03-08 18:13:04,462 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 18:13:04,462 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(0, 12, 1520503979, 6, '', '断言', '德芳运维', '', 'Pass', '断言成功', 'Chrome', '2018-03-08 18:13:4', '')
2018-03-08 18:13:04,467 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 18:13:04,467 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：7, 操作：弹出选项框， 输入参数：，预期结果：）
2018-03-08 18:13:04,467 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 18:13:04,467 test_case_step.py[line: 88] INFO: 执行函数：弹出选项框
2018-03-08 18:13:04,486 seleniumutil.py[line: 111] INFO: 选项框弹出失败:<selenium.webdriver.remote.webelement.WebElement (session="fd642945237a5cdfd094edd24e343458", element="0.44031184117680566-1")>
2018-03-08 18:13:04,884 test_case_step.py[line: 278] INFO: 截图文件保存路径为：D:\python\webautotest\screentshot\tp0\tc12\tp0_tc12_step7_1520503979_20180308181304.png
2018-03-08 18:13:04,884 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 18:13:04,884 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(0, 12, 1520503979, 7, '', '弹出选项框', '', '', 'Fail', '选项框弹出失败', 'Chrome', '2018-03-08 18:13:4', 'ftp://10.1.2.88/tp0_tc12_step7_1520503979_20180308181304.png')
2018-03-08 18:13:04,888 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 18:13:04,888 test_case.py[line: 46] INFO: 用例[id：12]步骤[步序：7] 运行失败，停止运行用例
2018-03-08 18:13:04,888 test_case.py[line: 58] INFO: 测试步骤执行完毕，正在记录用例运行结果到测试用例运行报表
2018-03-08 18:13:04,889 database.py[line: 58] INFO: query：INSERT INTO testcase_reporter(runHistoryId, browserType, testcaseId, testplanId, runTime, runResult) VALUES(%s, %s, %s, %s, %s, %s)  data：(1520503979, 'Chrome', 12, 0, '2018-03-08 18:12:59', 'Fail')
2018-03-08 18:13:04,892 main.py[line: 52] INFO: 用例执行完成，正在关闭浏览器
2018-03-08 18:13:08,204 main.py[line: 55] INFO: ####################### 测试结束 #######################
2018-03-08 18:13:08,204 main.py[line: 126] INFO: 运行完成,准备生成测试报告
2018-03-08 18:13:08,205 htmlreporter.py[line: 55] INFO: 正在查询测试用例执行统计信息
2018-03-08 18:13:08,205 database.py[line: 88] INFO: query：SELECT runResult FROM testcase_reporter WHERE runHistoryId = %s  data：(1520503979,)
2018-03-08 18:13:08,209 htmlreporter.py[line: 111] INFO: 正在查询测试计划：无计划 运行的的测试用例
2018-03-08 18:13:08,209 database.py[line: 106] INFO: query：SELECT id, runHistoryId, testcaseId, testplanId, browserType, runResult, runTime FROM testcase_reporter WHERE testplanId=%s AND runHistoryId = %s ORDER BY id ASC  data：(0, 1520503979)
2018-03-08 18:13:08,214 htmlreporter.py[line: 121] INFO: 正在记录测试计划[名称：无计划]的测试用例运行结果到测试报告
2018-03-08 18:13:08,214 database.py[line: 88] INFO: query：SELECT test_name FROM testcases WHERE id=%s  data：(12,)
2018-03-08 18:13:08,218 htmlreporter.py[line: 151] INFO: 正在查询测试计划：无计划 运行的的测试用例
2018-03-08 18:13:08,218 database.py[line: 106] INFO: query：SELECT id, runHistoryId, testcaseId, testplanId, browserType, runResult, runTime  FROM testcase_reporter WHERE testplanId=%s AND runHistoryId = %s ORDER BY id ASC  data：(0, 1520503979)
2018-03-08 18:13:08,221 htmlreporter.py[line: 168] INFO: 正在查询测试用例[id=12, name=理财师登录]对应的测试步骤执行明细
2018-03-08 18:13:08,221 database.py[line: 106] INFO: query：SELECT id, stepOrder, runHistoryId, elementName, command, inparams, stepRunResult, expectedResult, stepRunResultDesc, browserType, runTime, screenshotUrl FROM case_step_run_detail WHERE testcaseId=%s AND runHistoryId = %s  ORDER BY id ASC  data：('12', 1520503979)
2018-03-08 18:13:08,227 htmlreporter.py[line: 211] INFO: 正在设置测试报告结果文件名
2018-03-08 18:13:08,227 htmlreporter.py[line: 222] INFO: 测试报告文件名所在路径为：E:\Projects\report\test_report20180308181308.html
2018-03-08 18:13:08,228 htmlreporter.py[line: 214] INFO: 正在生产测试报告
2018-03-08 18:13:08,247 main.py[line: 130] INFO: 生成测试报告成功
2018-03-08 18:13:08,247 main.py[line: 134] INFO: 运行完成,准备上传截图
2018-03-08 18:13:08,247 ftp.py[line: 42] INFO: is connecting to ftp server 10.1.2.88 on 21
2018-03-08 18:13:08,253 ftp.py[line: 47] INFO: ready to login ftp server
2018-03-08 18:13:08,347 ftp.py[line: 49] INFO: login ftp server successfully
2018-03-08 18:13:08,347 main.py[line: 138] INFO: 正在获取要上传的截图文件
2018-03-08 18:13:08,348 main.py[line: 146] INFO: 正在上传图片到ftp服务器
2018-03-08 18:13:08,348 main.py[line: 150] INFO: 正在上传文件：d:\python\webautotest\screentshot\tp0\tc12\tp0_tc12_step7_1520503979_20180308181304.png 到远程服务器：tp0_tc12_step7_1520503979_20180308181304.png
2018-03-08 18:13:08,358 main.py[line: 153] ERROR: 上传截图到ftp服务器出错：553 Could not create file.
2018-03-08 18:13:08,359 ftp.py[line: 55] INFO: close ftp connection successfully
2018-03-08 18:13:08,359 main.py[line: 156] INFO: 运行完成，准备发送邮件
2018-03-08 18:13:08,573 main.py[line: 162] INFO: 邮件标题为：Hi，附件为web自动化测试报告，烦请查阅邮件内容为：{'E:\\Projects\\report\\test_report20180308181308.html'}，待发送邮件附件有 【测试报告】web自动化测试报告20180308181308
2018-03-08 18:13:08,573 main.py[line: 163] INFO: 正在发送测试报告邮件...
2018-03-08 18:13:09,257 main.py[line: 166] INFO: 发送邮件成功
2018-03-08 18:13:09,257 main.py[line: 172] INFO: 正在关闭数据库
2018-03-08 18:15:30,307 globalvar.py[line: 23] INFO: #####################正在初始化全局配置#####################
2018-03-08 18:15:30,307 globalvar.py[line: 24] INFO: 正在选择数据库运行环境和站点运行环境
2018-03-08 18:15:30,308 globalvar.py[line: 34] INFO: 在测试环境执行测试，正在获取测试环境的web site
2018-03-08 18:15:30,308 globalvar.py[line: 45] INFO: 在测试环境执行测试，正在获取测试环境的数据库
2018-03-08 18:15:30,319 globalvar.py[line: 55] INFO: 正在进行ftp配置
2018-03-08 18:15:30,327 globalvar.py[line: 62] INFO: 正在获取运行模式
2018-03-08 18:15:30,327 globalvar.py[line: 66] INFO: 运行模式为:<module 'publicpkg.runmode' from 'D:\\python\\webautotest\\publicpkg\\runmode.py'>
2018-03-08 18:15:30,328 globalvar.py[line: 69] INFO: 测试计划配置:[4]
2018-03-08 18:15:30,328 globalvar.py[line: 72] INFO: 全局初始化用例配置:[123]
2018-03-08 18:15:30,328 globalvar.py[line: 75] INFO: 正在获取浏览器配置
2018-03-08 18:15:30,328 globalvar.py[line: 79] INFO: 获取需要进行测试的浏览器有：['Chrome']
2018-03-08 18:15:30,328 globalvar.py[line: 82] INFO: 正在初始化其它工具对象
2018-03-08 18:15:30,328 globalvar.py[line: 86] INFO: 正在进行截图基路径配置
2018-03-08 18:15:30,329 globalvar.py[line: 91] INFO: 截图报存基路径为：D:\python\webautotest\screentshot\
2018-03-08 18:15:30,329 globalvar.py[line: 95] INFO: 正在进行测试报告配置
2018-03-08 18:15:30,329 globalvar.py[line: 96] INFO: --1、读取测试报告路径及文件名
2018-03-08 18:15:30,329 globalvar.py[line: 101] INFO: --2、构造测试报告
2018-03-08 18:15:30,329 globalvar.py[line: 104] INFO: --3、设置报告生成路径
2018-03-08 18:15:30,330 globalvar.py[line: 107] INFO: #####################初始化全局配置完毕#####################
2018-03-08 18:15:33,893 main.py[line: 21] INFO: 正在查询用例是否存在
2018-03-08 18:15:33,893 database.py[line: 88] INFO: query：SELECT id FROM testcases WHERE id = %s  data：(12,)
2018-03-08 18:15:33,898 main.py[line: 28] INFO: ####################### 开始测试 #######################
2018-03-08 18:15:39,731 main.py[line: 38] INFO: 优先运行全局初始化用例 [123]
2018-03-08 18:15:39,731 main.py[line: 40] INFO: 正在查询全局用例[id=123]是否存在
2018-03-08 18:15:39,732 database.py[line: 88] INFO: query：SELECT id FROM testcases WHERE id = %s  data：(123,)
2018-03-08 18:15:39,735 main.py[line: 45] WARNING: 用例id:12不存在
2018-03-08 18:15:39,735 test_case.py[line: 17] INFO: 正在构造并初始化测试用例对象[id=12]
2018-03-08 18:15:39,735 test_case.py[line: 26] INFO: 初始测试用例完毕
2018-03-08 18:15:39,735 test_case.py[line: 70] INFO: 正在获取测试用例所有测试步骤
2018-03-08 18:15:39,736 database.py[line: 106] INFO: query：(SELECT a.StepOrder AS StepOrder,c.PageName AS PageName,b.ElementName AS ElementName,b.ElementSelector AS ElementSelector,b.ElementSelector02 AS ElementSelector02,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,a.compid AS compid,a.compFolderid AS comFolderid,'' AS comName FROM testcases_steps AS a, page_elements AS b,pagesobject AS c WHERE a.TestcaseID = %s AND a.ElementId = b.Id AND b.PageId = c.Id)UNION ALL(SELECT a.steporder AS steporder,'' AS PageName,'' AS ElementSelector,'' AS ElementSelector02,'' AS ElementName,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,a.compid AS compid,a.compFolderid AS comFolderid,tc.test_name AS comName FROM testcases_steps AS a, testcases AS tc WHERE a.TestcaseID = %s AND a.compid = tc.id)UNION ALL(SELECT a.steporder AS steporder,'' AS PageName,'' AS ElementSelector,'' AS ElementSelector02,'' AS ElementName,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,'' AS compid,'' AS comFolderid,'' AS comName FROM testcases_steps AS a WHERE a.TestcaseID = %s AND NOT ISNULL(a.stepOrder)AND NOT ISNULL(a.Command) AND ISNULL(compid) AND ElementId='')ORDER BY steporder  data：(12, 12, 12)
2018-03-08 18:15:39,739 test_case.py[line: 123] INFO: 获取的测试步骤为： [(1, '', '', '', '', '断言', '深圳市金斧子网络科技有限公司-ERP', '', '', '', ''), (2, '用户登录', '用户名', 'xpath=//*[@name=&quot;username&quot;]', '', '输入', 'defang3', '', None, None, ''), (3, '用户登录', '密码', 'xpath=//*[@name=&quot;password&quot;]', '', '输入', '123', '', None, None, ''), (4, '用户登录', '登录', 'xpath=//*[@class=&quot;submit_wrap&quot;]', '', '点击', '', '', None, None, ''), (5, '', '', '', '', '等待', '3', '', '', '', ''), (6, '', '', '', '', '断言', '德芳运维', '', '', '', ''), (7, '', '', '', '', '弹出选项框', '', '', '', '', ''), (8, '', '', '', '', '等待', '5', '', '', '', ''), (9, '审批流', '退出系统', 'xpath=//*[text()=&quot;退出系统&quot;]', '', '点击', '', '', None, None, '')]
2018-03-08 18:15:39,739 test_case.py[line: 41] INFO: 开始执行测试步骤
2018-03-08 18:15:39,739 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：1, 操作：断言， 输入参数：深圳市金斧子网络科技有限公司-ERP，预期结果：）
2018-03-08 18:15:39,739 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 18:15:39,739 test_case_step.py[line: 88] INFO: 执行函数：断言
2018-03-08 18:15:39,739 test_case_step.py[line: 91] INFO: 正在对输入参数:深圳市金斧子网络科技有限公司-ERP 进行参数处理
2018-03-08 18:15:39,739 test_case_step.py[line: 118] INFO: 断言的标题为:深圳市金斧子网络科技有限公司-ERP
2018-03-08 18:15:39,745 seleniumutil.py[line: 174] INFO: 断言信息为：深圳市金斧子网络科技有限公司-ERP
2018-03-08 18:15:39,745 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 18:15:39,745 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(0, 12, 1520504139, 1, '', '断言', '深圳市金斧子网络科技有限公司-ERP', '', 'Pass', '断言成功', 'Chrome', '2018-03-08 18:15:39', '')
2018-03-08 18:15:39,751 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 18:15:39,751 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：用户名, 步序：2, 操作：输入， 输入参数：defang3，预期结果：）
2018-03-08 18:15:39,751 test_case_step.py[line: 38] INFO: 正在执行最普通的元素操作
2018-03-08 18:15:39,751 test_case_step.py[line: 42] INFO: 正在对选择器：selector1: xpath=//*[@name=&quot;username&quot;]，selector2:  做数据转换处理
2018-03-08 18:15:39,751 test_case_step.py[line: 45] INFO: 转换后的选择器：selector1: xpath=//*[@name="username"]，selector2: 
2018-03-08 18:15:39,752 test_case_step.py[line: 47] INFO: 开始对步骤中的元素操作进行操作
2018-03-08 18:15:39,752 test_case_step.py[line: 133] INFO: 操作：输入
2018-03-08 18:15:39,752 test_case_step.py[line: 135] INFO: 正在对输入参数:defang3 进行参数处理
2018-03-08 18:15:39,752 test_case_step.py[line: 139] INFO: 处理后的输入参数为:['defang3'] 
2018-03-08 18:15:39,752 test_case_step.py[line: 208] INFO: 开始根据元素定位器：xpath=//*[@name="username"] 自定位元素
2018-03-08 18:15:39,752 test_case_step.py[line: 221] INFO: find_element_by_xpath：//*[@name="username"]
2018-03-08 18:15:39,768 test_case_step.py[line: 194] INFO: 找到元素：<selenium.webdriver.remote.webelement.WebElement (session="cd81b196b4e8282d4aecdb7f016c2896", element="0.2105412059268985-1")>
2018-03-08 18:15:39,834 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 18:15:39,835 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(0, 12, 1520504139, 2, '用户名', '输入', 'defang3', '', 'Pass', '输入数据成功', 'Chrome', '2018-03-08 18:15:39', '')
2018-03-08 18:15:39,840 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 18:15:39,841 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：密码, 步序：3, 操作：输入， 输入参数：123，预期结果：）
2018-03-08 18:15:39,841 test_case_step.py[line: 38] INFO: 正在执行最普通的元素操作
2018-03-08 18:15:39,841 test_case_step.py[line: 42] INFO: 正在对选择器：selector1: xpath=//*[@name=&quot;password&quot;]，selector2:  做数据转换处理
2018-03-08 18:15:39,841 test_case_step.py[line: 45] INFO: 转换后的选择器：selector1: xpath=//*[@name="password"]，selector2: 
2018-03-08 18:15:39,841 test_case_step.py[line: 47] INFO: 开始对步骤中的元素操作进行操作
2018-03-08 18:15:39,841 test_case_step.py[line: 133] INFO: 操作：输入
2018-03-08 18:15:39,841 test_case_step.py[line: 135] INFO: 正在对输入参数:123 进行参数处理
2018-03-08 18:15:39,841 test_case_step.py[line: 139] INFO: 处理后的输入参数为:['123'] 
2018-03-08 18:15:39,842 test_case_step.py[line: 208] INFO: 开始根据元素定位器：xpath=//*[@name="password"] 自定位元素
2018-03-08 18:15:39,842 test_case_step.py[line: 221] INFO: find_element_by_xpath：//*[@name="password"]
2018-03-08 18:15:39,859 test_case_step.py[line: 194] INFO: 找到元素：<selenium.webdriver.remote.webelement.WebElement (session="cd81b196b4e8282d4aecdb7f016c2896", element="0.2105412059268985-2")>
2018-03-08 18:15:39,899 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 18:15:39,899 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(0, 12, 1520504139, 3, '密码', '输入', '123', '', 'Pass', '输入数据成功', 'Chrome', '2018-03-08 18:15:39', '')
2018-03-08 18:15:39,905 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 18:15:39,905 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：登录, 步序：4, 操作：点击， 输入参数：，预期结果：）
2018-03-08 18:15:39,905 test_case_step.py[line: 38] INFO: 正在执行最普通的元素操作
2018-03-08 18:15:39,905 test_case_step.py[line: 42] INFO: 正在对选择器：selector1: xpath=//*[@class=&quot;submit_wrap&quot;]，selector2:  做数据转换处理
2018-03-08 18:15:39,905 test_case_step.py[line: 45] INFO: 转换后的选择器：selector1: xpath=//*[@class="submit_wrap"]，selector2: 
2018-03-08 18:15:39,905 test_case_step.py[line: 47] INFO: 开始对步骤中的元素操作进行操作
2018-03-08 18:15:39,905 test_case_step.py[line: 133] INFO: 操作：点击
2018-03-08 18:15:39,905 test_case_step.py[line: 208] INFO: 开始根据元素定位器：xpath=//*[@class="submit_wrap"] 自定位元素
2018-03-08 18:15:39,905 test_case_step.py[line: 221] INFO: find_element_by_xpath：//*[@class="submit_wrap"]
2018-03-08 18:15:39,919 test_case_step.py[line: 194] INFO: 找到元素：<selenium.webdriver.remote.webelement.WebElement (session="cd81b196b4e8282d4aecdb7f016c2896", element="0.2105412059268985-3")>
2018-03-08 18:15:41,446 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 18:15:41,447 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(0, 12, 1520504139, 4, '登录', '点击', '', '', 'Pass', '点击成功', 'Chrome', '2018-03-08 18:15:39', '')
2018-03-08 18:15:41,452 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 18:15:41,453 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：5, 操作：等待， 输入参数：3，预期结果：）
2018-03-08 18:15:41,453 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 18:15:41,453 test_case_step.py[line: 88] INFO: 执行函数：等待
2018-03-08 18:15:41,453 test_case_step.py[line: 91] INFO: 正在对输入参数:3 进行参数处理
2018-03-08 18:15:41,453 test_case_step.py[line: 108] INFO: 等待3秒
2018-03-08 18:15:44,453 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 18:15:44,453 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(0, 12, 1520504139, 5, '', '等待', '3', '', 'Pass', 'run success', 'Chrome', '2018-03-08 18:15:41', '')
2018-03-08 18:15:44,457 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 18:15:44,458 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：6, 操作：断言， 输入参数：德芳运维，预期结果：）
2018-03-08 18:15:44,458 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 18:15:44,458 test_case_step.py[line: 88] INFO: 执行函数：断言
2018-03-08 18:15:44,458 test_case_step.py[line: 91] INFO: 正在对输入参数:德芳运维 进行参数处理
2018-03-08 18:15:44,458 test_case_step.py[line: 118] INFO: 断言的标题为:德芳运维
2018-03-08 18:15:44,470 seleniumutil.py[line: 174] INFO: 断言信息为：德芳运维
2018-03-08 18:15:44,470 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 18:15:44,470 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(0, 12, 1520504139, 6, '', '断言', '德芳运维', '', 'Pass', '断言成功', 'Chrome', '2018-03-08 18:15:44', '')
2018-03-08 18:15:44,475 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 18:15:44,475 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：7, 操作：弹出选项框， 输入参数：，预期结果：）
2018-03-08 18:15:44,475 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 18:15:44,475 test_case_step.py[line: 88] INFO: 执行函数：弹出选项框
2018-03-08 18:15:44,493 seleniumutil.py[line: 111] INFO: 选项框弹出失败:<selenium.webdriver.remote.webelement.WebElement (session="cd81b196b4e8282d4aecdb7f016c2896", element="0.9056405671726173-1")>
2018-03-08 18:15:44,892 test_case_step.py[line: 278] INFO: 截图文件保存路径为：D:\python\webautotest\screentshot\tp0\tc12\tp0_tc12_step7_1520504139_20180308181544.png
2018-03-08 18:15:44,893 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 18:15:44,893 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(0, 12, 1520504139, 7, '', '弹出选项框', '', '', 'Fail', '选项框弹出失败', 'Chrome', '2018-03-08 18:15:44', 'ftp://10.1.2.88/tp0_tc12_step7_1520504139_20180308181544.png')
2018-03-08 18:15:44,898 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 18:15:44,898 test_case.py[line: 46] INFO: 用例[id：12]步骤[步序：7] 运行失败，停止运行用例
2018-03-08 18:15:44,898 test_case.py[line: 58] INFO: 测试步骤执行完毕，正在记录用例运行结果到测试用例运行报表
2018-03-08 18:15:44,898 database.py[line: 58] INFO: query：INSERT INTO testcase_reporter(runHistoryId, browserType, testcaseId, testplanId, runTime, runResult) VALUES(%s, %s, %s, %s, %s, %s)  data：(1520504139, 'Chrome', 12, 0, '2018-03-08 18:15:39', 'Fail')
2018-03-08 18:15:44,902 main.py[line: 52] INFO: 用例执行完成，正在关闭浏览器
2018-03-08 18:15:48,410 main.py[line: 55] INFO: ####################### 测试结束 #######################
2018-03-08 18:15:48,410 main.py[line: 126] INFO: 运行完成,准备生成测试报告
2018-03-08 18:15:48,410 htmlreporter.py[line: 55] INFO: 正在查询测试用例执行统计信息
2018-03-08 18:15:48,410 database.py[line: 88] INFO: query：SELECT runResult FROM testcase_reporter WHERE runHistoryId = %s  data：(1520504139,)
2018-03-08 18:15:48,415 htmlreporter.py[line: 111] INFO: 正在查询测试计划：无计划 运行的的测试用例
2018-03-08 18:15:48,415 database.py[line: 106] INFO: query：SELECT id, runHistoryId, testcaseId, testplanId, browserType, runResult, runTime FROM testcase_reporter WHERE testplanId=%s AND runHistoryId = %s ORDER BY id ASC  data：(0, 1520504139)
2018-03-08 18:15:48,419 htmlreporter.py[line: 121] INFO: 正在记录测试计划[名称：无计划]的测试用例运行结果到测试报告
2018-03-08 18:15:48,420 database.py[line: 88] INFO: query：SELECT test_name FROM testcases WHERE id=%s  data：(12,)
2018-03-08 18:15:48,426 htmlreporter.py[line: 151] INFO: 正在查询测试计划：无计划 运行的的测试用例
2018-03-08 18:15:48,426 database.py[line: 106] INFO: query：SELECT id, runHistoryId, testcaseId, testplanId, browserType, runResult, runTime  FROM testcase_reporter WHERE testplanId=%s AND runHistoryId = %s ORDER BY id ASC  data：(0, 1520504139)
2018-03-08 18:15:48,430 htmlreporter.py[line: 168] INFO: 正在查询测试用例[id=12, name=理财师登录]对应的测试步骤执行明细
2018-03-08 18:15:48,430 database.py[line: 106] INFO: query：SELECT id, stepOrder, runHistoryId, elementName, command, inparams, stepRunResult, expectedResult, stepRunResultDesc, browserType, runTime, screenshotUrl FROM case_step_run_detail WHERE testcaseId=%s AND runHistoryId = %s  ORDER BY id ASC  data：('12', 1520504139)
2018-03-08 18:15:48,436 htmlreporter.py[line: 211] INFO: 正在设置测试报告结果文件名
2018-03-08 18:15:48,436 htmlreporter.py[line: 222] INFO: 测试报告文件名所在路径为：E:\Projects\report\test_report20180308181548.html
2018-03-08 18:15:48,437 htmlreporter.py[line: 214] INFO: 正在生产测试报告
2018-03-08 18:15:48,438 main.py[line: 130] INFO: 生成测试报告成功
2018-03-08 18:15:48,438 main.py[line: 134] INFO: 运行完成,准备上传截图
2018-03-08 18:15:48,438 ftp.py[line: 42] INFO: is connecting to ftp server 10.1.2.88 on 21
2018-03-08 18:15:48,443 ftp.py[line: 47] INFO: ready to login ftp server
2018-03-08 18:15:48,563 ftp.py[line: 49] INFO: login ftp server successfully
2018-03-08 18:15:48,564 main.py[line: 138] INFO: 正在获取要上传的截图文件
2018-03-08 18:15:48,565 main.py[line: 146] INFO: 正在上传图片到ftp服务器
2018-03-08 18:15:48,565 main.py[line: 150] INFO: 正在上传文件：d:\python\webautotest\screentshot\tp0\tc12\tp0_tc12_step7_1520504139_20180308181544.png 到远程服务器：tp0_tc12_step7_1520504139_20180308181544.png
2018-03-08 18:15:48,577 main.py[line: 153] ERROR: 上传截图到ftp服务器出错：553 Could not create file.
2018-03-08 18:15:48,578 ftp.py[line: 55] INFO: close ftp connection successfully
2018-03-08 18:15:48,578 main.py[line: 156] INFO: 运行完成，准备发送邮件
2018-03-08 18:15:48,788 main.py[line: 162] INFO: 邮件标题为：Hi，附件为web自动化测试报告，烦请查阅邮件内容为：{'E:\\Projects\\report\\test_report20180308181548.html'}，待发送邮件附件有 【测试报告】web自动化测试报告20180308181548
2018-03-08 18:15:48,789 main.py[line: 163] INFO: 正在发送测试报告邮件...
2018-03-08 18:15:49,938 main.py[line: 166] INFO: 发送邮件成功
2018-03-08 18:15:49,938 main.py[line: 172] INFO: 正在关闭数据库
2018-03-08 18:18:35,053 globalvar.py[line: 23] INFO: #####################正在初始化全局配置#####################
2018-03-08 18:18:35,053 globalvar.py[line: 24] INFO: 正在选择数据库运行环境和站点运行环境
2018-03-08 18:18:35,054 globalvar.py[line: 34] INFO: 在测试环境执行测试，正在获取测试环境的web site
2018-03-08 18:18:35,054 globalvar.py[line: 45] INFO: 在测试环境执行测试，正在获取测试环境的数据库
2018-03-08 18:18:35,064 globalvar.py[line: 55] INFO: 正在进行ftp配置
2018-03-08 18:18:35,072 globalvar.py[line: 62] INFO: 正在获取运行模式
2018-03-08 18:18:35,072 globalvar.py[line: 66] INFO: 运行模式为:<module 'publicpkg.runmode' from 'D:\\python\\webautotest\\publicpkg\\runmode.py'>
2018-03-08 18:18:35,073 globalvar.py[line: 69] INFO: 测试计划配置:[4]
2018-03-08 18:18:35,073 globalvar.py[line: 72] INFO: 全局初始化用例配置:[123]
2018-03-08 18:18:35,073 globalvar.py[line: 75] INFO: 正在获取浏览器配置
2018-03-08 18:18:35,073 globalvar.py[line: 79] INFO: 获取需要进行测试的浏览器有：['Chrome']
2018-03-08 18:18:35,073 globalvar.py[line: 82] INFO: 正在初始化其它工具对象
2018-03-08 18:18:35,073 globalvar.py[line: 86] INFO: 正在进行截图基路径配置
2018-03-08 18:18:35,074 globalvar.py[line: 91] INFO: 截图报存基路径为：D:\python\webautotest\screentshot\
2018-03-08 18:18:35,074 globalvar.py[line: 95] INFO: 正在进行测试报告配置
2018-03-08 18:18:35,074 globalvar.py[line: 96] INFO: --1、读取测试报告路径及文件名
2018-03-08 18:18:35,074 globalvar.py[line: 101] INFO: --2、构造测试报告
2018-03-08 18:18:35,074 globalvar.py[line: 104] INFO: --3、设置报告生成路径
2018-03-08 18:18:35,074 globalvar.py[line: 107] INFO: #####################初始化全局配置完毕#####################
2018-03-08 18:18:38,992 main.py[line: 21] INFO: 正在查询用例是否存在
2018-03-08 18:18:38,992 database.py[line: 88] INFO: query：SELECT id FROM testcases WHERE id = %s  data：(12,)
2018-03-08 18:18:38,996 main.py[line: 28] INFO: ####################### 开始测试 #######################
2018-03-08 18:18:44,934 main.py[line: 38] INFO: 优先运行全局初始化用例 [123]
2018-03-08 18:18:44,934 main.py[line: 40] INFO: 正在查询全局用例[id=123]是否存在
2018-03-08 18:18:44,934 database.py[line: 88] INFO: query：SELECT id FROM testcases WHERE id = %s  data：(123,)
2018-03-08 18:18:44,937 main.py[line: 45] WARNING: 用例id:12不存在
2018-03-08 18:18:44,937 test_case.py[line: 17] INFO: 正在构造并初始化测试用例对象[id=12]
2018-03-08 18:18:44,937 test_case.py[line: 26] INFO: 初始测试用例完毕
2018-03-08 18:18:44,938 test_case.py[line: 70] INFO: 正在获取测试用例所有测试步骤
2018-03-08 18:18:44,938 database.py[line: 106] INFO: query：(SELECT a.StepOrder AS StepOrder,c.PageName AS PageName,b.ElementName AS ElementName,b.ElementSelector AS ElementSelector,b.ElementSelector02 AS ElementSelector02,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,a.compid AS compid,a.compFolderid AS comFolderid,'' AS comName FROM testcases_steps AS a, page_elements AS b,pagesobject AS c WHERE a.TestcaseID = %s AND a.ElementId = b.Id AND b.PageId = c.Id)UNION ALL(SELECT a.steporder AS steporder,'' AS PageName,'' AS ElementSelector,'' AS ElementSelector02,'' AS ElementName,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,a.compid AS compid,a.compFolderid AS comFolderid,tc.test_name AS comName FROM testcases_steps AS a, testcases AS tc WHERE a.TestcaseID = %s AND a.compid = tc.id)UNION ALL(SELECT a.steporder AS steporder,'' AS PageName,'' AS ElementSelector,'' AS ElementSelector02,'' AS ElementName,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,'' AS compid,'' AS comFolderid,'' AS comName FROM testcases_steps AS a WHERE a.TestcaseID = %s AND NOT ISNULL(a.stepOrder)AND NOT ISNULL(a.Command) AND ISNULL(compid) AND ElementId='')ORDER BY steporder  data：(12, 12, 12)
2018-03-08 18:18:44,941 test_case.py[line: 123] INFO: 获取的测试步骤为： [(1, '', '', '', '', '断言', '深圳市金斧子网络科技有限公司-ERP', '', '', '', ''), (2, '用户登录', '用户名', 'xpath=//*[@name=&quot;username&quot;]', '', '输入', 'defang3', '', None, None, ''), (3, '用户登录', '密码', 'xpath=//*[@name=&quot;password&quot;]', '', '输入', '123', '', None, None, ''), (4, '用户登录', '登录', 'xpath=//*[@class=&quot;submit_wrap&quot;]', '', '点击', '', '', None, None, ''), (5, '', '', '', '', '等待', '3', '', '', '', ''), (6, '', '', '', '', '断言', '德芳运维', '', '', '', ''), (7, '', '', '', '', '弹出选项框', '', '', '', '', ''), (8, '', '', '', '', '等待', '5', '', '', '', ''), (9, '审批流', '退出系统', 'xpath=//*[text()=&quot;退出系统&quot;]', '', '点击', '', '', None, None, '')]
2018-03-08 18:18:44,941 test_case.py[line: 41] INFO: 开始执行测试步骤
2018-03-08 18:18:44,941 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：1, 操作：断言， 输入参数：深圳市金斧子网络科技有限公司-ERP，预期结果：）
2018-03-08 18:18:44,942 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 18:18:44,942 test_case_step.py[line: 88] INFO: 执行函数：断言
2018-03-08 18:18:44,942 test_case_step.py[line: 91] INFO: 正在对输入参数:深圳市金斧子网络科技有限公司-ERP 进行参数处理
2018-03-08 18:18:44,942 test_case_step.py[line: 118] INFO: 断言的标题为:深圳市金斧子网络科技有限公司-ERP
2018-03-08 18:18:44,948 seleniumutil.py[line: 173] INFO: 断言信息为：深圳市金斧子网络科技有限公司-ERP
2018-03-08 18:18:44,948 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 18:18:44,948 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(0, 12, 1520504324, 1, '', '断言', '深圳市金斧子网络科技有限公司-ERP', '', 'Pass', '断言成功', 'Chrome', '2018-03-08 18:18:44', '')
2018-03-08 18:18:44,952 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 18:18:44,952 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：用户名, 步序：2, 操作：输入， 输入参数：defang3，预期结果：）
2018-03-08 18:18:44,952 test_case_step.py[line: 38] INFO: 正在执行最普通的元素操作
2018-03-08 18:18:44,952 test_case_step.py[line: 42] INFO: 正在对选择器：selector1: xpath=//*[@name=&quot;username&quot;]，selector2:  做数据转换处理
2018-03-08 18:18:44,952 test_case_step.py[line: 45] INFO: 转换后的选择器：selector1: xpath=//*[@name="username"]，selector2: 
2018-03-08 18:18:44,953 test_case_step.py[line: 47] INFO: 开始对步骤中的元素操作进行操作
2018-03-08 18:18:44,953 test_case_step.py[line: 133] INFO: 操作：输入
2018-03-08 18:18:44,953 test_case_step.py[line: 135] INFO: 正在对输入参数:defang3 进行参数处理
2018-03-08 18:18:44,953 test_case_step.py[line: 139] INFO: 处理后的输入参数为:['defang3'] 
2018-03-08 18:18:44,953 test_case_step.py[line: 208] INFO: 开始根据元素定位器：xpath=//*[@name="username"] 自定位元素
2018-03-08 18:18:44,953 test_case_step.py[line: 221] INFO: find_element_by_xpath：//*[@name="username"]
2018-03-08 18:18:44,967 test_case_step.py[line: 194] INFO: 找到元素：<selenium.webdriver.remote.webelement.WebElement (session="0b6502eac7c9b150f3d95c36df96943b", element="0.4610933702997615-1")>
2018-03-08 18:18:45,036 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 18:18:45,036 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(0, 12, 1520504324, 2, '用户名', '输入', 'defang3', '', 'Pass', '输入数据成功', 'Chrome', '2018-03-08 18:18:44', '')
2018-03-08 18:18:45,040 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 18:18:45,040 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：密码, 步序：3, 操作：输入， 输入参数：123，预期结果：）
2018-03-08 18:18:45,040 test_case_step.py[line: 38] INFO: 正在执行最普通的元素操作
2018-03-08 18:18:45,040 test_case_step.py[line: 42] INFO: 正在对选择器：selector1: xpath=//*[@name=&quot;password&quot;]，selector2:  做数据转换处理
2018-03-08 18:18:45,040 test_case_step.py[line: 45] INFO: 转换后的选择器：selector1: xpath=//*[@name="password"]，selector2: 
2018-03-08 18:18:45,041 test_case_step.py[line: 47] INFO: 开始对步骤中的元素操作进行操作
2018-03-08 18:18:45,041 test_case_step.py[line: 133] INFO: 操作：输入
2018-03-08 18:18:45,041 test_case_step.py[line: 135] INFO: 正在对输入参数:123 进行参数处理
2018-03-08 18:18:45,041 test_case_step.py[line: 139] INFO: 处理后的输入参数为:['123'] 
2018-03-08 18:18:45,041 test_case_step.py[line: 208] INFO: 开始根据元素定位器：xpath=//*[@name="password"] 自定位元素
2018-03-08 18:18:45,041 test_case_step.py[line: 221] INFO: find_element_by_xpath：//*[@name="password"]
2018-03-08 18:18:45,056 test_case_step.py[line: 194] INFO: 找到元素：<selenium.webdriver.remote.webelement.WebElement (session="0b6502eac7c9b150f3d95c36df96943b", element="0.4610933702997615-2")>
2018-03-08 18:18:45,102 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 18:18:45,102 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(0, 12, 1520504324, 3, '密码', '输入', '123', '', 'Pass', '输入数据成功', 'Chrome', '2018-03-08 18:18:45', '')
2018-03-08 18:18:45,106 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 18:18:45,106 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：登录, 步序：4, 操作：点击， 输入参数：，预期结果：）
2018-03-08 18:18:45,106 test_case_step.py[line: 38] INFO: 正在执行最普通的元素操作
2018-03-08 18:18:45,106 test_case_step.py[line: 42] INFO: 正在对选择器：selector1: xpath=//*[@class=&quot;submit_wrap&quot;]，selector2:  做数据转换处理
2018-03-08 18:18:45,106 test_case_step.py[line: 45] INFO: 转换后的选择器：selector1: xpath=//*[@class="submit_wrap"]，selector2: 
2018-03-08 18:18:45,106 test_case_step.py[line: 47] INFO: 开始对步骤中的元素操作进行操作
2018-03-08 18:18:45,106 test_case_step.py[line: 133] INFO: 操作：点击
2018-03-08 18:18:45,106 test_case_step.py[line: 208] INFO: 开始根据元素定位器：xpath=//*[@class="submit_wrap"] 自定位元素
2018-03-08 18:18:45,106 test_case_step.py[line: 221] INFO: find_element_by_xpath：//*[@class="submit_wrap"]
2018-03-08 18:18:45,122 test_case_step.py[line: 194] INFO: 找到元素：<selenium.webdriver.remote.webelement.WebElement (session="0b6502eac7c9b150f3d95c36df96943b", element="0.4610933702997615-3")>
2018-03-08 18:18:46,554 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 18:18:46,555 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(0, 12, 1520504324, 4, '登录', '点击', '', '', 'Pass', '点击成功', 'Chrome', '2018-03-08 18:18:45', '')
2018-03-08 18:18:46,560 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 18:18:46,560 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：5, 操作：等待， 输入参数：3，预期结果：）
2018-03-08 18:18:46,560 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 18:18:46,560 test_case_step.py[line: 88] INFO: 执行函数：等待
2018-03-08 18:18:46,560 test_case_step.py[line: 91] INFO: 正在对输入参数:3 进行参数处理
2018-03-08 18:18:46,560 test_case_step.py[line: 108] INFO: 等待3秒
2018-03-08 18:18:49,560 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 18:18:49,560 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(0, 12, 1520504324, 5, '', '等待', '3', '', 'Pass', 'run success', 'Chrome', '2018-03-08 18:18:46', '')
2018-03-08 18:18:49,565 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 18:18:49,565 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：6, 操作：断言， 输入参数：德芳运维，预期结果：）
2018-03-08 18:18:49,565 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 18:18:49,565 test_case_step.py[line: 88] INFO: 执行函数：断言
2018-03-08 18:18:49,565 test_case_step.py[line: 91] INFO: 正在对输入参数:德芳运维 进行参数处理
2018-03-08 18:18:49,566 test_case_step.py[line: 118] INFO: 断言的标题为:德芳运维
2018-03-08 18:18:49,580 seleniumutil.py[line: 173] INFO: 断言信息为：德芳运维
2018-03-08 18:18:49,580 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 18:18:49,580 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(0, 12, 1520504324, 6, '', '断言', '德芳运维', '', 'Pass', '断言成功', 'Chrome', '2018-03-08 18:18:49', '')
2018-03-08 18:18:49,585 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 18:18:49,585 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：7, 操作：弹出选项框， 输入参数：，预期结果：）
2018-03-08 18:18:49,585 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 18:18:49,585 test_case_step.py[line: 88] INFO: 执行函数：弹出选项框
2018-03-08 18:18:49,625 seleniumutil.py[line: 107] INFO: 选项框弹出成功:<selenium.webdriver.remote.webelement.WebElement (session="0b6502eac7c9b150f3d95c36df96943b", element="0.6436864462520551-1")>
2018-03-08 18:18:49,626 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 18:18:49,626 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(0, 12, 1520504324, 7, '', '弹出选项框', '', '', 'Pass', '选项框弹出成功', 'Chrome', '2018-03-08 18:18:49', '')
2018-03-08 18:18:49,631 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 18:18:49,631 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：8, 操作：等待， 输入参数：5，预期结果：）
2018-03-08 18:18:49,631 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 18:18:49,631 test_case_step.py[line: 88] INFO: 执行函数：等待
2018-03-08 18:18:49,631 test_case_step.py[line: 91] INFO: 正在对输入参数:5 进行参数处理
2018-03-08 18:18:49,631 test_case_step.py[line: 108] INFO: 等待5秒
2018-03-08 18:18:54,631 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 18:18:54,631 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(0, 12, 1520504324, 8, '', '等待', '5', '', 'Pass', 'run success', 'Chrome', '2018-03-08 18:18:49', '')
2018-03-08 18:18:54,635 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 18:18:54,635 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：退出系统, 步序：9, 操作：点击， 输入参数：，预期结果：）
2018-03-08 18:18:54,635 test_case_step.py[line: 38] INFO: 正在执行最普通的元素操作
2018-03-08 18:18:54,635 test_case_step.py[line: 42] INFO: 正在对选择器：selector1: xpath=//*[text()=&quot;退出系统&quot;]，selector2:  做数据转换处理
2018-03-08 18:18:54,635 test_case_step.py[line: 45] INFO: 转换后的选择器：selector1: xpath=//*[text()="退出系统"]，selector2: 
2018-03-08 18:18:54,636 test_case_step.py[line: 47] INFO: 开始对步骤中的元素操作进行操作
2018-03-08 18:18:54,636 test_case_step.py[line: 133] INFO: 操作：点击
2018-03-08 18:18:54,636 test_case_step.py[line: 208] INFO: 开始根据元素定位器：xpath=//*[text()="退出系统"] 自定位元素
2018-03-08 18:18:54,636 test_case_step.py[line: 221] INFO: find_element_by_xpath：//*[text()="退出系统"]
2018-03-08 18:18:54,658 test_case_step.py[line: 194] INFO: 找到元素：<selenium.webdriver.remote.webelement.WebElement (session="0b6502eac7c9b150f3d95c36df96943b", element="0.6436864462520551-2")>
2018-03-08 18:18:54,901 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 18:18:54,901 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(0, 12, 1520504324, 9, '退出系统', '点击', '', '', 'Pass', '点击成功', 'Chrome', '2018-03-08 18:18:54', '')
2018-03-08 18:18:54,906 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 18:18:54,907 test_case.py[line: 58] INFO: 测试步骤执行完毕，正在记录用例运行结果到测试用例运行报表
2018-03-08 18:18:54,907 database.py[line: 58] INFO: query：INSERT INTO testcase_reporter(runHistoryId, browserType, testcaseId, testplanId, runTime, runResult) VALUES(%s, %s, %s, %s, %s, %s)  data：(1520504324, 'Chrome', 12, 0, '2018-03-08 18:18:44', 'Pass')
2018-03-08 18:18:54,912 main.py[line: 52] INFO: 用例执行完成，正在关闭浏览器
2018-03-08 18:18:58,430 main.py[line: 55] INFO: ####################### 测试结束 #######################
2018-03-08 18:18:58,430 main.py[line: 126] INFO: 运行完成,准备生成测试报告
2018-03-08 18:18:58,430 htmlreporter.py[line: 55] INFO: 正在查询测试用例执行统计信息
2018-03-08 18:18:58,430 database.py[line: 88] INFO: query：SELECT runResult FROM testcase_reporter WHERE runHistoryId = %s  data：(1520504324,)
2018-03-08 18:18:58,434 htmlreporter.py[line: 111] INFO: 正在查询测试计划：无计划 运行的的测试用例
2018-03-08 18:18:58,434 database.py[line: 106] INFO: query：SELECT id, runHistoryId, testcaseId, testplanId, browserType, runResult, runTime FROM testcase_reporter WHERE testplanId=%s AND runHistoryId = %s ORDER BY id ASC  data：(0, 1520504324)
2018-03-08 18:18:58,439 htmlreporter.py[line: 121] INFO: 正在记录测试计划[名称：无计划]的测试用例运行结果到测试报告
2018-03-08 18:18:58,439 database.py[line: 88] INFO: query：SELECT test_name FROM testcases WHERE id=%s  data：(12,)
2018-03-08 18:18:58,442 htmlreporter.py[line: 151] INFO: 正在查询测试计划：无计划 运行的的测试用例
2018-03-08 18:18:58,443 database.py[line: 106] INFO: query：SELECT id, runHistoryId, testcaseId, testplanId, browserType, runResult, runTime  FROM testcase_reporter WHERE testplanId=%s AND runHistoryId = %s ORDER BY id ASC  data：(0, 1520504324)
2018-03-08 18:18:58,447 htmlreporter.py[line: 168] INFO: 正在查询测试用例[id=12, name=理财师登录]对应的测试步骤执行明细
2018-03-08 18:18:58,447 database.py[line: 106] INFO: query：SELECT id, stepOrder, runHistoryId, elementName, command, inparams, stepRunResult, expectedResult, stepRunResultDesc, browserType, runTime, screenshotUrl FROM case_step_run_detail WHERE testcaseId=%s AND runHistoryId = %s  ORDER BY id ASC  data：('12', 1520504324)
2018-03-08 18:18:58,453 htmlreporter.py[line: 211] INFO: 正在设置测试报告结果文件名
2018-03-08 18:18:58,453 htmlreporter.py[line: 222] INFO: 测试报告文件名所在路径为：E:\Projects\report\test_report20180308181858.html
2018-03-08 18:18:58,453 htmlreporter.py[line: 214] INFO: 正在生产测试报告
2018-03-08 18:18:58,455 main.py[line: 130] INFO: 生成测试报告成功
2018-03-08 18:18:58,455 main.py[line: 134] INFO: 运行完成,准备上传截图
2018-03-08 18:18:58,455 ftp.py[line: 42] INFO: is connecting to ftp server 10.1.2.88 on 21
2018-03-08 18:18:58,460 ftp.py[line: 47] INFO: ready to login ftp server
2018-03-08 18:18:58,526 ftp.py[line: 49] INFO: login ftp server successfully
2018-03-08 18:18:58,527 main.py[line: 138] INFO: 正在获取要上传的截图文件
2018-03-08 18:18:58,528 main.py[line: 146] INFO: 正在上传图片到ftp服务器
2018-03-08 18:18:58,529 ftp.py[line: 55] INFO: close ftp connection successfully
2018-03-08 18:18:58,529 main.py[line: 156] INFO: 运行完成，准备发送邮件
2018-03-08 18:18:58,744 main.py[line: 162] INFO: 邮件标题为：Hi，附件为web自动化测试报告，烦请查阅邮件内容为：{'E:\\Projects\\report\\test_report20180308181858.html'}，待发送邮件附件有 【测试报告】web自动化测试报告20180308181858
2018-03-08 18:18:58,744 main.py[line: 163] INFO: 正在发送测试报告邮件...
2018-03-08 18:18:59,451 main.py[line: 166] INFO: 发送邮件成功
2018-03-08 18:18:59,451 main.py[line: 172] INFO: 正在关闭数据库
2018-03-08 18:26:12,818 globalvar.py[line: 23] INFO: #####################正在初始化全局配置#####################
2018-03-08 18:26:12,818 globalvar.py[line: 24] INFO: 正在选择数据库运行环境和站点运行环境
2018-03-08 18:26:12,818 globalvar.py[line: 34] INFO: 在测试环境执行测试，正在获取测试环境的web site
2018-03-08 18:26:12,819 globalvar.py[line: 45] INFO: 在测试环境执行测试，正在获取测试环境的数据库
2018-03-08 18:26:12,829 globalvar.py[line: 55] INFO: 正在进行ftp配置
2018-03-08 18:26:12,836 globalvar.py[line: 62] INFO: 正在获取运行模式
2018-03-08 18:26:12,837 globalvar.py[line: 66] INFO: 运行模式为:<module 'publicpkg.runmode' from 'D:\\python\\webautotest\\publicpkg\\runmode.py'>
2018-03-08 18:26:12,837 globalvar.py[line: 69] INFO: 测试计划配置:[4]
2018-03-08 18:26:12,837 globalvar.py[line: 72] INFO: 全局初始化用例配置:[123]
2018-03-08 18:26:12,837 globalvar.py[line: 75] INFO: 正在获取浏览器配置
2018-03-08 18:26:12,837 globalvar.py[line: 79] INFO: 获取需要进行测试的浏览器有：['Chrome']
2018-03-08 18:26:12,838 globalvar.py[line: 82] INFO: 正在初始化其它工具对象
2018-03-08 18:26:12,838 globalvar.py[line: 86] INFO: 正在进行截图基路径配置
2018-03-08 18:26:12,838 globalvar.py[line: 91] INFO: 截图报存基路径为：D:\python\webautotest\screentshot\
2018-03-08 18:26:12,838 globalvar.py[line: 95] INFO: 正在进行测试报告配置
2018-03-08 18:26:12,838 globalvar.py[line: 96] INFO: --1、读取测试报告路径及文件名
2018-03-08 18:26:12,839 globalvar.py[line: 101] INFO: --2、构造测试报告
2018-03-08 18:26:12,839 globalvar.py[line: 104] INFO: --3、设置报告生成路径
2018-03-08 18:26:12,839 globalvar.py[line: 107] INFO: #####################初始化全局配置完毕#####################
2018-03-08 18:26:12,844 main.py[line: 61] INFO: ####################### 开始测试 #######################
2018-03-08 18:26:18,814 test_plan.py[line: 28] INFO: 正在获取本次测试需要执行的测试用列ID列表，测试计划名称
2018-03-08 18:26:18,814 database.py[line: 88] INFO: query：SELECT testcase_list, test_round_name FROM testcase_runround WHERE id = %s   data：(4,)
2018-03-08 18:26:18,817 test_plan.py[line: 44] INFO: 获取到的的测试用例id列表为: [14, 19, 13, 18]
2018-03-08 18:26:18,817 test_plan.py[line: 48] INFO: ####################### 开始运行测试计划 #######################
2018-03-08 18:26:18,817 test_case.py[line: 17] INFO: 正在构造并初始化测试用例对象[id=14]
2018-03-08 18:26:18,817 test_case.py[line: 26] INFO: 初始测试用例完毕
2018-03-08 18:26:18,817 test_case.py[line: 17] INFO: 正在构造并初始化测试用例对象[id=19]
2018-03-08 18:26:18,817 test_case.py[line: 26] INFO: 初始测试用例完毕
2018-03-08 18:26:18,818 test_case.py[line: 17] INFO: 正在构造并初始化测试用例对象[id=13]
2018-03-08 18:26:18,818 test_case.py[line: 26] INFO: 初始测试用例完毕
2018-03-08 18:26:18,818 test_case.py[line: 17] INFO: 正在构造并初始化测试用例对象[id=18]
2018-03-08 18:26:18,818 test_case.py[line: 26] INFO: 初始测试用例完毕
2018-03-08 18:26:18,818 test_case.py[line: 70] INFO: 正在获取测试用例所有测试步骤
2018-03-08 18:26:18,818 database.py[line: 106] INFO: query：(SELECT a.StepOrder AS StepOrder,c.PageName AS PageName,b.ElementName AS ElementName,b.ElementSelector AS ElementSelector,b.ElementSelector02 AS ElementSelector02,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,a.compid AS compid,a.compFolderid AS comFolderid,'' AS comName FROM testcases_steps AS a, page_elements AS b,pagesobject AS c WHERE a.TestcaseID = %s AND a.ElementId = b.Id AND b.PageId = c.Id)UNION ALL(SELECT a.steporder AS steporder,'' AS PageName,'' AS ElementSelector,'' AS ElementSelector02,'' AS ElementName,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,a.compid AS compid,a.compFolderid AS comFolderid,tc.test_name AS comName FROM testcases_steps AS a, testcases AS tc WHERE a.TestcaseID = %s AND a.compid = tc.id)UNION ALL(SELECT a.steporder AS steporder,'' AS PageName,'' AS ElementSelector,'' AS ElementSelector02,'' AS ElementName,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,'' AS compid,'' AS comFolderid,'' AS comName FROM testcases_steps AS a WHERE a.TestcaseID = %s AND NOT ISNULL(a.stepOrder)AND NOT ISNULL(a.Command) AND ISNULL(compid) AND ElementId='')ORDER BY steporder  data：(14, 14, 14)
2018-03-08 18:26:18,824 test_case.py[line: 123] INFO: 获取的测试步骤为： [(1, '', '', '', '', '断言', '深圳市金斧子网络科技有限公司-ERP', '', '', '', ''), (2, '用户登录', '用户名', 'xpath=//*[@name=&quot;username&quot;]', '', '输入', 'defang3', '', None, None, ''), (3, '用户登录', '密码', 'xpath=//*[@name=&quot;password&quot;]', '', '输入', '123', '', None, None, ''), (4, '用户登录', '登录', 'xpath=//*[@class=&quot;submit_wrap&quot;]', '', '点击', '', '', None, None, ''), (5, '', '', '', '', '等待', '3', '', '', '', ''), (6, '', '', '', '', '断言', '德芳运维', '德芳运维', '', '', '')]
2018-03-08 18:26:18,824 test_case.py[line: 41] INFO: 开始执行测试步骤
2018-03-08 18:26:18,824 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：1, 操作：断言， 输入参数：深圳市金斧子网络科技有限公司-ERP，预期结果：）
2018-03-08 18:26:18,824 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 18:26:18,824 test_case_step.py[line: 88] INFO: 执行函数：断言
2018-03-08 18:26:18,824 test_case_step.py[line: 91] INFO: 正在对输入参数:深圳市金斧子网络科技有限公司-ERP 进行参数处理
2018-03-08 18:26:18,824 test_case_step.py[line: 118] INFO: 断言的标题为:深圳市金斧子网络科技有限公司-ERP
2018-03-08 18:26:18,830 seleniumutil.py[line: 173] INFO: 断言信息为：深圳市金斧子网络科技有限公司-ERP
2018-03-08 18:26:18,831 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 18:26:18,831 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(4, 14, 1520504778, 1, '', '断言', '深圳市金斧子网络科技有限公司-ERP', '', 'Pass', '断言成功', 'Chrome', '2018-03-08 18:26:18', '')
2018-03-08 18:26:18,835 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 18:26:18,835 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：用户名, 步序：2, 操作：输入， 输入参数：defang3，预期结果：）
2018-03-08 18:26:18,835 test_case_step.py[line: 38] INFO: 正在执行最普通的元素操作
2018-03-08 18:26:18,835 test_case_step.py[line: 42] INFO: 正在对选择器：selector1: xpath=//*[@name=&quot;username&quot;]，selector2:  做数据转换处理
2018-03-08 18:26:18,835 test_case_step.py[line: 45] INFO: 转换后的选择器：selector1: xpath=//*[@name="username"]，selector2: 
2018-03-08 18:26:18,836 test_case_step.py[line: 47] INFO: 开始对步骤中的元素操作进行操作
2018-03-08 18:26:18,836 test_case_step.py[line: 134] INFO: 操作：输入
2018-03-08 18:26:18,836 test_case_step.py[line: 136] INFO: 正在对输入参数:defang3 进行参数处理
2018-03-08 18:26:18,836 test_case_step.py[line: 140] INFO: 处理后的输入参数为:['defang3'] 
2018-03-08 18:26:18,836 test_case_step.py[line: 209] INFO: 开始根据元素定位器：xpath=//*[@name="username"] 自定位元素
2018-03-08 18:26:18,836 test_case_step.py[line: 222] INFO: find_element_by_xpath：//*[@name="username"]
2018-03-08 18:26:18,850 test_case_step.py[line: 195] INFO: 找到元素：<selenium.webdriver.remote.webelement.WebElement (session="bd3e1567755eac01edb9af1578b61e41", element="0.3395972360628372-1")>
2018-03-08 18:26:18,924 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 18:26:18,924 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(4, 14, 1520504778, 2, '用户名', '输入', 'defang3', '', 'Pass', '输入数据成功', 'Chrome', '2018-03-08 18:26:18', '')
2018-03-08 18:26:18,931 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 18:26:18,931 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：密码, 步序：3, 操作：输入， 输入参数：123，预期结果：）
2018-03-08 18:26:18,931 test_case_step.py[line: 38] INFO: 正在执行最普通的元素操作
2018-03-08 18:26:18,932 test_case_step.py[line: 42] INFO: 正在对选择器：selector1: xpath=//*[@name=&quot;password&quot;]，selector2:  做数据转换处理
2018-03-08 18:26:18,932 test_case_step.py[line: 45] INFO: 转换后的选择器：selector1: xpath=//*[@name="password"]，selector2: 
2018-03-08 18:26:18,932 test_case_step.py[line: 47] INFO: 开始对步骤中的元素操作进行操作
2018-03-08 18:26:18,932 test_case_step.py[line: 134] INFO: 操作：输入
2018-03-08 18:26:18,932 test_case_step.py[line: 136] INFO: 正在对输入参数:123 进行参数处理
2018-03-08 18:26:18,932 test_case_step.py[line: 140] INFO: 处理后的输入参数为:['123'] 
2018-03-08 18:26:18,932 test_case_step.py[line: 209] INFO: 开始根据元素定位器：xpath=//*[@name="password"] 自定位元素
2018-03-08 18:26:18,932 test_case_step.py[line: 222] INFO: find_element_by_xpath：//*[@name="password"]
2018-03-08 18:26:18,947 test_case_step.py[line: 195] INFO: 找到元素：<selenium.webdriver.remote.webelement.WebElement (session="bd3e1567755eac01edb9af1578b61e41", element="0.3395972360628372-2")>
2018-03-08 18:26:18,988 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 18:26:18,988 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(4, 14, 1520504778, 3, '密码', '输入', '123', '', 'Pass', '输入数据成功', 'Chrome', '2018-03-08 18:26:18', '')
2018-03-08 18:26:18,992 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 18:26:18,992 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：登录, 步序：4, 操作：点击， 输入参数：，预期结果：）
2018-03-08 18:26:18,992 test_case_step.py[line: 38] INFO: 正在执行最普通的元素操作
2018-03-08 18:26:18,993 test_case_step.py[line: 42] INFO: 正在对选择器：selector1: xpath=//*[@class=&quot;submit_wrap&quot;]，selector2:  做数据转换处理
2018-03-08 18:26:18,993 test_case_step.py[line: 45] INFO: 转换后的选择器：selector1: xpath=//*[@class="submit_wrap"]，selector2: 
2018-03-08 18:26:18,993 test_case_step.py[line: 47] INFO: 开始对步骤中的元素操作进行操作
2018-03-08 18:26:18,993 test_case_step.py[line: 134] INFO: 操作：点击
2018-03-08 18:26:18,993 test_case_step.py[line: 209] INFO: 开始根据元素定位器：xpath=//*[@class="submit_wrap"] 自定位元素
2018-03-08 18:26:18,993 test_case_step.py[line: 222] INFO: find_element_by_xpath：//*[@class="submit_wrap"]
2018-03-08 18:26:19,012 test_case_step.py[line: 195] INFO: 找到元素：<selenium.webdriver.remote.webelement.WebElement (session="bd3e1567755eac01edb9af1578b61e41", element="0.3395972360628372-3")>
2018-03-08 18:26:20,340 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 18:26:20,341 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(4, 14, 1520504778, 4, '登录', '点击', '', '', 'Pass', '点击成功', 'Chrome', '2018-03-08 18:26:18', '')
2018-03-08 18:26:20,347 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 18:26:20,347 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：5, 操作：等待， 输入参数：3，预期结果：）
2018-03-08 18:26:20,347 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 18:26:20,347 test_case_step.py[line: 88] INFO: 执行函数：等待
2018-03-08 18:26:20,348 test_case_step.py[line: 91] INFO: 正在对输入参数:3 进行参数处理
2018-03-08 18:26:20,348 test_case_step.py[line: 108] INFO: 等待3秒
2018-03-08 18:26:23,348 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 18:26:23,348 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(4, 14, 1520504778, 5, '', '等待', '3', '', 'Pass', 'run success', 'Chrome', '2018-03-08 18:26:20', '')
2018-03-08 18:26:23,354 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 18:26:23,355 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：6, 操作：断言， 输入参数：德芳运维，预期结果：德芳运维）
2018-03-08 18:26:23,355 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 18:26:23,355 test_case_step.py[line: 88] INFO: 执行函数：断言
2018-03-08 18:26:23,355 test_case_step.py[line: 91] INFO: 正在对输入参数:德芳运维 进行参数处理
2018-03-08 18:26:23,355 test_case_step.py[line: 118] INFO: 断言的标题为:德芳运维
2018-03-08 18:26:23,368 seleniumutil.py[line: 173] INFO: 断言信息为：德芳运维
2018-03-08 18:26:23,368 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 18:26:23,368 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(4, 14, 1520504778, 6, '', '断言', '德芳运维', '德芳运维', 'Pass', '断言成功', 'Chrome', '2018-03-08 18:26:23', '')
2018-03-08 18:26:23,373 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 18:26:23,373 test_case.py[line: 58] INFO: 测试步骤执行完毕，正在记录用例运行结果到测试用例运行报表
2018-03-08 18:26:23,373 database.py[line: 58] INFO: query：INSERT INTO testcase_reporter(runHistoryId, browserType, testcaseId, testplanId, runTime, runResult) VALUES(%s, %s, %s, %s, %s, %s)  data：(1520504778, 'Chrome', 14, 4, '2018-03-08 18:26:18', 'Pass')
2018-03-08 18:26:23,378 test_case.py[line: 70] INFO: 正在获取测试用例所有测试步骤
2018-03-08 18:26:23,378 database.py[line: 106] INFO: query：(SELECT a.StepOrder AS StepOrder,c.PageName AS PageName,b.ElementName AS ElementName,b.ElementSelector AS ElementSelector,b.ElementSelector02 AS ElementSelector02,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,a.compid AS compid,a.compFolderid AS comFolderid,'' AS comName FROM testcases_steps AS a, page_elements AS b,pagesobject AS c WHERE a.TestcaseID = %s AND a.ElementId = b.Id AND b.PageId = c.Id)UNION ALL(SELECT a.steporder AS steporder,'' AS PageName,'' AS ElementSelector,'' AS ElementSelector02,'' AS ElementName,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,a.compid AS compid,a.compFolderid AS comFolderid,tc.test_name AS comName FROM testcases_steps AS a, testcases AS tc WHERE a.TestcaseID = %s AND a.compid = tc.id)UNION ALL(SELECT a.steporder AS steporder,'' AS PageName,'' AS ElementSelector,'' AS ElementSelector02,'' AS ElementName,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,'' AS compid,'' AS comFolderid,'' AS comName FROM testcases_steps AS a WHERE a.TestcaseID = %s AND NOT ISNULL(a.stepOrder)AND NOT ISNULL(a.Command) AND ISNULL(compid) AND ElementId='')ORDER BY steporder  data：(19, 19, 19)
2018-03-08 18:26:23,384 test_case.py[line: 123] INFO: 获取的测试步骤为： [(1, '', '', '', '', '等待', '5', '', '', '', ''), (2, '', '', '', '', '切换入iframe', 'iframe89892232323', '', '', '', ''), (3, '审批流', '审批流的链接', 'xpath=html/body/div[1]/div/div/div[2]/div/div/div/div[2]/div/div[1]/ul/li[1]/div[1]', '', '点击', '', '', None, None, ''), (4, '', '', '', '', '切换到新的窗口', '', '', '', '', ''), (5, '', '', '', '', '等待', '5', '', '', '', ''), (6, '审批流', '审批流的同意按钮', 'xpath=//*[@id=&quot;btnAgree&quot;]', '', '点击', '', '', None, None, ''), (7, '', '', '', '', '切换入xpathifram', '//iframe[contains(@id,&quot;ligerwindow&quot;)]', '', '', '', ''), (8, '', '', '', '', '等待', '3', '', '', '', ''), (9, '审批流', '填写意见的确定按钮', 'xpath=//*[@id=&quot;dataFormSave&quot;]', '', '点击', '', '', None, None, ''), (10, '', '', '', '', '等待', '5', '', '', '', ''), (11, '', '', '', '', '断言文本提示信息', '执行任务成功!', '', '', '', ''), (12, '', '', '', '', '等待', '5', '', '', '', ''), (13, '审批流', '同意的确定按钮', 'xpath=//*[@class=&quot;l-dialog-btn-inner&quot;]', '', '点击', '', '', None, None, ''), (14, '', '', '', '', '等待', '5', '', '', '', ''), (15, '', '', '', '', '弹出选项框', '//*[@id=&quot;app&quot;]/div/div/section/header/section/div[2]/div[4]/div/div/div[1]/span[1]', '', '', '', ''), (16, '', '', '', '', '等待', '5', '', '', '', ''), (17, '审批流', '退出系统', 'xpath=//*[text()=&quot;退出系统&quot;]', '', '点击', '', '', None, None, '')]
2018-03-08 18:26:23,384 test_case.py[line: 41] INFO: 开始执行测试步骤
2018-03-08 18:26:23,384 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：1, 操作：等待， 输入参数：5，预期结果：）
2018-03-08 18:26:23,384 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 18:26:23,384 test_case_step.py[line: 88] INFO: 执行函数：等待
2018-03-08 18:26:23,384 test_case_step.py[line: 91] INFO: 正在对输入参数:5 进行参数处理
2018-03-08 18:26:23,384 test_case_step.py[line: 108] INFO: 等待5秒
2018-03-08 18:26:28,385 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 18:26:28,385 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(4, 19, 1520504778, 1, '', '等待', '5', '', 'Pass', 'run success', 'Chrome', '2018-03-08 18:26:23', '')
2018-03-08 18:26:28,390 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 18:26:28,390 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：2, 操作：切换入iframe， 输入参数：iframe89892232323，预期结果：）
2018-03-08 18:26:28,391 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 18:26:28,391 test_case_step.py[line: 88] INFO: 执行函数：切换入iframe
2018-03-08 18:26:28,391 test_case_step.py[line: 91] INFO: 正在对输入参数:iframe89892232323 进行参数处理
2018-03-08 18:26:28,409 seleniumutil.py[line: 67] INFO: 切换至frame（id/name/xpath = iframe89892232323）成功
2018-03-08 18:26:28,409 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 18:26:28,409 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(4, 19, 1520504778, 2, '', '切换入iframe', 'iframe89892232323', '', 'Pass', 'run success', 'Chrome', '2018-03-08 18:26:28', '')
2018-03-08 18:26:28,414 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 18:26:28,414 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：审批流的链接, 步序：3, 操作：点击， 输入参数：，预期结果：）
2018-03-08 18:26:28,414 test_case_step.py[line: 38] INFO: 正在执行最普通的元素操作
2018-03-08 18:26:28,414 test_case_step.py[line: 42] INFO: 正在对选择器：selector1: xpath=html/body/div[1]/div/div/div[2]/div/div/div/div[2]/div/div[1]/ul/li[1]/div[1]，selector2:  做数据转换处理
2018-03-08 18:26:28,414 test_case_step.py[line: 45] INFO: 转换后的选择器：selector1: xpath=html/body/div[1]/div/div/div[2]/div/div/div/div[2]/div/div[1]/ul/li[1]/div[1]，selector2: 
2018-03-08 18:26:28,414 test_case_step.py[line: 47] INFO: 开始对步骤中的元素操作进行操作
2018-03-08 18:26:28,415 test_case_step.py[line: 134] INFO: 操作：点击
2018-03-08 18:26:28,415 test_case_step.py[line: 209] INFO: 开始根据元素定位器：xpath=html/body/div[1]/div/div/div[2]/div/div/div/div[2]/div/div[1]/ul/li[1]/div[1] 自定位元素
2018-03-08 18:26:28,415 test_case_step.py[line: 222] INFO: find_element_by_xpath：html/body/div[1]/div/div/div[2]/div/div/div/div[2]/div/div[1]/ul/li[1]/div[1]
2018-03-08 18:26:28,472 test_case_step.py[line: 195] INFO: 找到元素：<selenium.webdriver.remote.webelement.WebElement (session="bd3e1567755eac01edb9af1578b61e41", element="0.04129626015510124-1")>
2018-03-08 18:26:28,622 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 18:26:28,622 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(4, 19, 1520504778, 3, '审批流的链接', '点击', '', '', 'Pass', '点击成功', 'Chrome', '2018-03-08 18:26:28', '')
2018-03-08 18:26:28,631 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 18:26:28,632 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：4, 操作：切换到新的窗口， 输入参数：，预期结果：）
2018-03-08 18:26:28,632 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 18:26:28,632 test_case_step.py[line: 88] INFO: 执行函数：切换到新的窗口
2018-03-08 18:26:28,737 seleniumutil.py[line: 95] INFO: 切换到新的窗口成功:CDwindow-(855E28F4EB8117C919CB85431D295E44)
2018-03-08 18:26:28,737 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 18:26:28,737 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(4, 19, 1520504778, 4, '', '切换到新的窗口', '', '', 'Pass', '切换到新窗口成功', 'Chrome', '2018-03-08 18:26:28', '')
2018-03-08 18:26:28,744 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 18:26:28,744 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：5, 操作：等待， 输入参数：5，预期结果：）
2018-03-08 18:26:28,744 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 18:26:28,745 test_case_step.py[line: 88] INFO: 执行函数：等待
2018-03-08 18:26:28,745 test_case_step.py[line: 91] INFO: 正在对输入参数:5 进行参数处理
2018-03-08 18:26:28,745 test_case_step.py[line: 108] INFO: 等待5秒
2018-03-08 18:26:33,745 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 18:26:33,745 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(4, 19, 1520504778, 5, '', '等待', '5', '', 'Pass', 'run success', 'Chrome', '2018-03-08 18:26:28', '')
2018-03-08 18:26:33,751 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 18:26:33,751 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：审批流的同意按钮, 步序：6, 操作：点击， 输入参数：，预期结果：）
2018-03-08 18:26:33,751 test_case_step.py[line: 38] INFO: 正在执行最普通的元素操作
2018-03-08 18:26:33,751 test_case_step.py[line: 42] INFO: 正在对选择器：selector1: xpath=//*[@id=&quot;btnAgree&quot;]，selector2:  做数据转换处理
2018-03-08 18:26:33,751 test_case_step.py[line: 45] INFO: 转换后的选择器：selector1: xpath=//*[@id="btnAgree"]，selector2: 
2018-03-08 18:26:33,751 test_case_step.py[line: 47] INFO: 开始对步骤中的元素操作进行操作
2018-03-08 18:26:33,751 test_case_step.py[line: 134] INFO: 操作：点击
2018-03-08 18:26:33,751 test_case_step.py[line: 209] INFO: 开始根据元素定位器：xpath=//*[@id="btnAgree"] 自定位元素
2018-03-08 18:26:33,752 test_case_step.py[line: 222] INFO: find_element_by_xpath：//*[@id="btnAgree"]
2018-03-08 18:26:34,806 test_case_step.py[line: 195] INFO: 找到元素：<selenium.webdriver.remote.webelement.WebElement (session="bd3e1567755eac01edb9af1578b61e41", element="0.2516577219517244-1")>
2018-03-08 18:26:35,062 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 18:26:35,063 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(4, 19, 1520504778, 6, '审批流的同意按钮', '点击', '', '', 'Pass', '点击成功', 'Chrome', '2018-03-08 18:26:33', '')
2018-03-08 18:26:35,069 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 18:26:35,069 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：7, 操作：切换入xpathifram， 输入参数：//iframe[contains(@id,&quot;ligerwindow&quot;)]，预期结果：）
2018-03-08 18:26:35,069 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 18:26:35,069 test_case_step.py[line: 88] INFO: 执行函数：切换入xpathifram
2018-03-08 18:26:35,070 test_case_step.py[line: 91] INFO: 正在对输入参数://iframe[contains(@id,&quot;ligerwindow&quot;)] 进行参数处理
2018-03-08 18:26:35,130 seleniumutil.py[line: 77] INFO: 切换至frame（xpath = //iframe[contains(@id,"ligerwindow")]）成功
2018-03-08 18:26:35,130 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 18:26:35,130 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(4, 19, 1520504778, 7, '', '切换入xpathifram', '//iframe[contains(@id,&quot;ligerwindow&quot;)]', '', 'Pass', 'run success', 'Chrome', '2018-03-08 18:26:35', '')
2018-03-08 18:26:35,134 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 18:26:35,134 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：8, 操作：等待， 输入参数：3，预期结果：）
2018-03-08 18:26:35,135 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 18:26:35,135 test_case_step.py[line: 88] INFO: 执行函数：等待
2018-03-08 18:26:35,135 test_case_step.py[line: 91] INFO: 正在对输入参数:3 进行参数处理
2018-03-08 18:26:35,135 test_case_step.py[line: 108] INFO: 等待3秒
2018-03-08 18:26:38,135 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 18:26:38,136 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(4, 19, 1520504778, 8, '', '等待', '3', '', 'Pass', 'run success', 'Chrome', '2018-03-08 18:26:35', '')
2018-03-08 18:26:38,142 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 18:26:38,142 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：填写意见的确定按钮, 步序：9, 操作：点击， 输入参数：，预期结果：）
2018-03-08 18:26:38,142 test_case_step.py[line: 38] INFO: 正在执行最普通的元素操作
2018-03-08 18:26:38,142 test_case_step.py[line: 42] INFO: 正在对选择器：selector1: xpath=//*[@id=&quot;dataFormSave&quot;]，selector2:  做数据转换处理
2018-03-08 18:26:38,142 test_case_step.py[line: 45] INFO: 转换后的选择器：selector1: xpath=//*[@id="dataFormSave"]，selector2: 
2018-03-08 18:26:38,142 test_case_step.py[line: 47] INFO: 开始对步骤中的元素操作进行操作
2018-03-08 18:26:38,142 test_case_step.py[line: 134] INFO: 操作：点击
2018-03-08 18:26:38,142 test_case_step.py[line: 209] INFO: 开始根据元素定位器：xpath=//*[@id="dataFormSave"] 自定位元素
2018-03-08 18:26:38,142 test_case_step.py[line: 222] INFO: find_element_by_xpath：//*[@id="dataFormSave"]
2018-03-08 18:26:38,162 test_case_step.py[line: 195] INFO: 找到元素：<selenium.webdriver.remote.webelement.WebElement (session="bd3e1567755eac01edb9af1578b61e41", element="0.6730309980646294-1")>
2018-03-08 18:26:38,314 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 18:26:38,315 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(4, 19, 1520504778, 9, '填写意见的确定按钮', '点击', '', '', 'Pass', '点击成功', 'Chrome', '2018-03-08 18:26:38', '')
2018-03-08 18:26:38,322 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 18:26:38,323 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：10, 操作：等待， 输入参数：5，预期结果：）
2018-03-08 18:26:38,323 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 18:26:38,323 test_case_step.py[line: 88] INFO: 执行函数：等待
2018-03-08 18:26:38,323 test_case_step.py[line: 91] INFO: 正在对输入参数:5 进行参数处理
2018-03-08 18:26:38,323 test_case_step.py[line: 108] INFO: 等待5秒
2018-03-08 18:26:43,323 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 18:26:43,323 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(4, 19, 1520504778, 10, '', '等待', '5', '', 'Pass', 'run success', 'Chrome', '2018-03-08 18:26:38', '')
2018-03-08 18:26:43,329 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 18:26:43,329 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：11, 操作：断言文本提示信息， 输入参数：执行任务成功!，预期结果：）
2018-03-08 18:26:43,330 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 18:26:43,330 test_case_step.py[line: 88] INFO: 执行函数：断言文本提示信息
2018-03-08 18:26:43,330 test_case_step.py[line: 91] INFO: 正在对输入参数:执行任务成功! 进行参数处理
2018-03-08 18:26:43,387 seleniumutil.py[line: 185] INFO: 断言文本提示信息为:执行任务成功!
2018-03-08 18:26:43,387 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 18:26:43,387 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(4, 19, 1520504778, 11, '', '断言文本提示信息', '执行任务成功!', '', 'Pass', '断言文本提示信息成功!', 'Chrome', '2018-03-08 18:26:43', '')
2018-03-08 18:26:43,392 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 18:26:43,392 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：12, 操作：等待， 输入参数：5，预期结果：）
2018-03-08 18:26:43,392 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 18:26:43,392 test_case_step.py[line: 88] INFO: 执行函数：等待
2018-03-08 18:26:43,392 test_case_step.py[line: 91] INFO: 正在对输入参数:5 进行参数处理
2018-03-08 18:26:43,392 test_case_step.py[line: 108] INFO: 等待5秒
2018-03-08 18:26:48,394 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 18:26:48,394 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(4, 19, 1520504778, 12, '', '等待', '5', '', 'Pass', 'run success', 'Chrome', '2018-03-08 18:26:43', '')
2018-03-08 18:26:48,399 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 18:26:48,399 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：同意的确定按钮, 步序：13, 操作：点击， 输入参数：，预期结果：）
2018-03-08 18:26:48,399 test_case_step.py[line: 38] INFO: 正在执行最普通的元素操作
2018-03-08 18:26:48,400 test_case_step.py[line: 42] INFO: 正在对选择器：selector1: xpath=//*[@class=&quot;l-dialog-btn-inner&quot;]，selector2:  做数据转换处理
2018-03-08 18:26:48,400 test_case_step.py[line: 45] INFO: 转换后的选择器：selector1: xpath=//*[@class="l-dialog-btn-inner"]，selector2: 
2018-03-08 18:26:48,400 test_case_step.py[line: 47] INFO: 开始对步骤中的元素操作进行操作
2018-03-08 18:26:48,400 test_case_step.py[line: 134] INFO: 操作：点击
2018-03-08 18:26:48,400 test_case_step.py[line: 209] INFO: 开始根据元素定位器：xpath=//*[@class="l-dialog-btn-inner"] 自定位元素
2018-03-08 18:26:48,400 test_case_step.py[line: 222] INFO: find_element_by_xpath：//*[@class="l-dialog-btn-inner"]
2018-03-08 18:26:48,424 test_case_step.py[line: 195] INFO: 找到元素：<selenium.webdriver.remote.webelement.WebElement (session="bd3e1567755eac01edb9af1578b61e41", element="0.2516577219517244-4")>
2018-03-08 18:26:48,762 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 18:26:48,762 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(4, 19, 1520504778, 13, '同意的确定按钮', '点击', '', '', 'Pass', '点击成功', 'Chrome', '2018-03-08 18:26:48', '')
2018-03-08 18:26:48,768 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 18:26:48,768 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：14, 操作：等待， 输入参数：5，预期结果：）
2018-03-08 18:26:48,768 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 18:26:48,768 test_case_step.py[line: 88] INFO: 执行函数：等待
2018-03-08 18:26:48,768 test_case_step.py[line: 91] INFO: 正在对输入参数:5 进行参数处理
2018-03-08 18:26:48,768 test_case_step.py[line: 108] INFO: 等待5秒
2018-03-08 18:26:53,768 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 18:26:53,769 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(4, 19, 1520504778, 14, '', '等待', '5', '', 'Pass', 'run success', 'Chrome', '2018-03-08 18:26:48', '')
2018-03-08 18:26:53,774 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 18:26:53,775 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：15, 操作：弹出选项框， 输入参数：//*[@id=&quot;app&quot;]/div/div/section/header/section/div[2]/div[4]/div/div/div[1]/span[1]，预期结果：）
2018-03-08 18:26:53,775 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 18:26:53,775 test_case_step.py[line: 88] INFO: 执行函数：弹出选项框
2018-03-08 18:26:53,775 test_case_step.py[line: 91] INFO: 正在对输入参数://*[@id=&quot;app&quot;]/div/div/section/header/section/div[2]/div[4]/div/div/div[1]/span[1] 进行参数处理
2018-03-08 18:26:54,784 test_case.py[line: 70] INFO: 正在获取测试用例所有测试步骤
2018-03-08 18:26:54,786 database.py[line: 106] INFO: query：(SELECT a.StepOrder AS StepOrder,c.PageName AS PageName,b.ElementName AS ElementName,b.ElementSelector AS ElementSelector,b.ElementSelector02 AS ElementSelector02,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,a.compid AS compid,a.compFolderid AS comFolderid,'' AS comName FROM testcases_steps AS a, page_elements AS b,pagesobject AS c WHERE a.TestcaseID = %s AND a.ElementId = b.Id AND b.PageId = c.Id)UNION ALL(SELECT a.steporder AS steporder,'' AS PageName,'' AS ElementSelector,'' AS ElementSelector02,'' AS ElementName,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,a.compid AS compid,a.compFolderid AS comFolderid,tc.test_name AS comName FROM testcases_steps AS a, testcases AS tc WHERE a.TestcaseID = %s AND a.compid = tc.id)UNION ALL(SELECT a.steporder AS steporder,'' AS PageName,'' AS ElementSelector,'' AS ElementSelector02,'' AS ElementName,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,'' AS compid,'' AS comFolderid,'' AS comName FROM testcases_steps AS a WHERE a.TestcaseID = %s AND NOT ISNULL(a.stepOrder)AND NOT ISNULL(a.Command) AND ISNULL(compid) AND ElementId='')ORDER BY steporder  data：(13, 13, 13)
2018-03-08 18:26:54,792 test_case.py[line: 123] INFO: 获取的测试步骤为： [(1, '', '', '', '', '断言', '深圳市金斧子网络科技有限公司-ERP', '', '', '', ''), (2, '用户登录', '用户名', 'xpath=//*[@name=&quot;username&quot;]', '', '输入', 'defang2', '', None, None, ''), (3, '用户登录', '密码', 'xpath=//*[@name=&quot;password&quot;]', '', '输入', '123', '', None, None, ''), (4, '用户登录', '登录', 'xpath=//*[@class=&quot;submit_wrap&quot;]', '', '点击', '', '', None, None, ''), (5, '', '', '', '', '等待', '3', '', '', '', ''), (6, '', '', '', '', '断言', '德芳客服', '', '', '', '')]
2018-03-08 18:26:54,792 test_case.py[line: 41] INFO: 开始执行测试步骤
2018-03-08 18:26:54,792 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：1, 操作：断言， 输入参数：深圳市金斧子网络科技有限公司-ERP，预期结果：）
2018-03-08 18:26:54,792 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 18:26:54,792 test_case_step.py[line: 88] INFO: 执行函数：断言
2018-03-08 18:26:54,792 test_case_step.py[line: 91] INFO: 正在对输入参数:深圳市金斧子网络科技有限公司-ERP 进行参数处理
2018-03-08 18:26:54,792 test_case_step.py[line: 118] INFO: 断言的标题为:深圳市金斧子网络科技有限公司-ERP
2018-03-08 18:26:56,811 test_case_step.py[line: 282] ERROR: 截图失败:Fail
2018-03-08 18:26:56,811 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 18:26:56,811 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(4, 13, 1520504778, 1, '', '断言', '深圳市金斧子网络科技有限公司-ERP', '', 'Fail', '断言失败', 'Chrome', '2018-03-08 18:26:54', '')
2018-03-08 18:26:56,818 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 18:26:56,818 test_case.py[line: 46] INFO: 用例[id：13]步骤[步序：1] 运行失败，停止运行用例
2018-03-08 18:26:56,818 test_case.py[line: 58] INFO: 测试步骤执行完毕，正在记录用例运行结果到测试用例运行报表
2018-03-08 18:26:56,818 database.py[line: 58] INFO: query：INSERT INTO testcase_reporter(runHistoryId, browserType, testcaseId, testplanId, runTime, runResult) VALUES(%s, %s, %s, %s, %s, %s)  data：(1520504778, 'Chrome', 13, 4, '2018-03-08 18:26:54', 'Fail')
2018-03-08 18:26:56,823 test_case.py[line: 70] INFO: 正在获取测试用例所有测试步骤
2018-03-08 18:26:56,823 database.py[line: 106] INFO: query：(SELECT a.StepOrder AS StepOrder,c.PageName AS PageName,b.ElementName AS ElementName,b.ElementSelector AS ElementSelector,b.ElementSelector02 AS ElementSelector02,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,a.compid AS compid,a.compFolderid AS comFolderid,'' AS comName FROM testcases_steps AS a, page_elements AS b,pagesobject AS c WHERE a.TestcaseID = %s AND a.ElementId = b.Id AND b.PageId = c.Id)UNION ALL(SELECT a.steporder AS steporder,'' AS PageName,'' AS ElementSelector,'' AS ElementSelector02,'' AS ElementName,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,a.compid AS compid,a.compFolderid AS comFolderid,tc.test_name AS comName FROM testcases_steps AS a, testcases AS tc WHERE a.TestcaseID = %s AND a.compid = tc.id)UNION ALL(SELECT a.steporder AS steporder,'' AS PageName,'' AS ElementSelector,'' AS ElementSelector02,'' AS ElementName,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,'' AS compid,'' AS comFolderid,'' AS comName FROM testcases_steps AS a WHERE a.TestcaseID = %s AND NOT ISNULL(a.stepOrder)AND NOT ISNULL(a.Command) AND ISNULL(compid) AND ElementId='')ORDER BY steporder  data：(18, 18, 18)
2018-03-08 18:26:56,829 test_case.py[line: 123] INFO: 获取的测试步骤为： [(1, '', '', '', '', '等待', '5', '', '', '', ''), (2, '', '', '', '', '切换入iframe', 'iframe89892232323', '', '', '', ''), (3, '审批流', '审批流的链接', 'xpath=html/body/div[1]/div/div/div[2]/div/div/div/div[2]/div/div[1]/ul/li[1]/div[1]', '', '点击', '', '', None, None, ''), (4, '', '', '', '', '切换到新的窗口', '', '', '', '', ''), (5, '', '', '', '', '等待', '5', '', '', '', ''), (6, '审批流', '审批流的同意按钮', 'xpath=//*[@id=&quot;btnAgree&quot;]', '', '点击', '', '', None, None, ''), (7, '', '', '', '', '等待', '5', '', '', '', ''), (8, '', '', '', '', '切换入xpathifram', '//iframe[contains(@id,&quot;ligerwindow&quot;)]', '', '', '', ''), (9, '审批流', '填写意见的确定按钮', 'xpath=//*[@id=&quot;dataFormSave&quot;]', '', '点击', '', '', None, None, ''), (10, '', '', '', '', '等待', '5', '', '', '', ''), (11, '', '', '', '', '断言文本提示信息', '执行任务成功!', '', '', '', ''), (12, '', '', '', '', '等待', '5', '', '', '', ''), (13, '审批流', '同意的确定按钮', 'xpath=//*[@class=&quot;l-dialog-btn-inner&quot;]', '', '点击', '', '', None, None, '')]
2018-03-08 18:26:56,829 test_case.py[line: 41] INFO: 开始执行测试步骤
2018-03-08 18:26:56,829 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：1, 操作：等待， 输入参数：5，预期结果：）
2018-03-08 18:26:56,830 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 18:26:56,830 test_case_step.py[line: 88] INFO: 执行函数：等待
2018-03-08 18:26:56,830 test_case_step.py[line: 91] INFO: 正在对输入参数:5 进行参数处理
2018-03-08 18:26:56,830 test_case_step.py[line: 108] INFO: 等待5秒
2018-03-08 18:27:01,830 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 18:27:01,830 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(4, 18, 1520504778, 1, '', '等待', '5', '', 'Pass', 'run success', 'Chrome', '2018-03-08 18:26:56', '')
2018-03-08 18:27:01,836 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 18:27:01,837 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：2, 操作：切换入iframe， 输入参数：iframe89892232323，预期结果：）
2018-03-08 18:27:01,837 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 18:27:01,837 test_case_step.py[line: 88] INFO: 执行函数：切换入iframe
2018-03-08 18:27:01,837 test_case_step.py[line: 91] INFO: 正在对输入参数:iframe89892232323 进行参数处理
2018-03-08 18:27:02,841 seleniumutil.py[line: 70] ERROR: 切换至frame（id/name/xpath = iframe89892232323）失败
2018-03-08 18:27:03,857 test_case_step.py[line: 282] ERROR: 截图失败:Fail
2018-03-08 18:27:03,857 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 18:27:03,858 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(4, 18, 1520504778, 2, '', '切换入iframe', 'iframe89892232323', '', 'Fail', NoSuchWindowException('no such window: window was already closed\n  (Session info: chrome=64.0.3282.186)\n  (Driver info: chromedriver=2.33.506120 (e3e53437346286c0bc2d2dc9aa4915ba81d9023f),platform=Windows NT 6.1.7601 SP1 x86_64)', None, None), 'Chrome', '2018-03-08 18:27:1', '')
2018-03-08 18:27:03,860 database.py[line: 66] ERROR: 执行数据库插入操作失败：Failed processing format-parameters; Python 'nosuchwindowexception' cannot be converted to a MySQL type
2018-03-08 18:27:03,861 test_case_step.py[line: 81] ERROR: 记录到测试步骤结果报表失败 Failed processing format-parameters; Python 'nosuchwindowexception' cannot be converted to a MySQL type
2018-03-08 18:27:03,861 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 18:27:03,861 test_case.py[line: 46] INFO: 用例[id：18]步骤[步序：2] 运行失败，停止运行用例
2018-03-08 18:27:03,862 test_case.py[line: 58] INFO: 测试步骤执行完毕，正在记录用例运行结果到测试用例运行报表
2018-03-08 18:27:03,862 database.py[line: 58] INFO: query：INSERT INTO testcase_reporter(runHistoryId, browserType, testcaseId, testplanId, runTime, runResult) VALUES(%s, %s, %s, %s, %s, %s)  data：(1520504778, 'Chrome', 18, 4, '2018-03-08 18:26:56', 'Fail')
2018-03-08 18:27:03,868 test_plan.py[line: 65] INFO: ####################### 测试计划已运行完毕 #######################
2018-03-08 18:27:03,868 test_plan.py[line: 66] INFO: 正在统计测试计划执行的用例总数
2018-03-08 18:27:03,868 database.py[line: 88] INFO: query：SELECT count(testcaseId)  FROM testcase_reporter  WHERE runHistoryId = %s  data：(1520504778,)
2018-03-08 18:27:03,872 test_plan.py[line: 75] INFO: 正在统计测试计划执行成功的用例总数
2018-03-08 18:27:03,872 database.py[line: 88] INFO: query：SELECT count(testcaseId)  FROM testcase_reporter WHERE runHistoryId = %s AND runResult='Pass'  data：(1520504778,)
2018-03-08 18:27:03,874 test_plan.py[line: 85] INFO: 正在统计测试计划执行失败的用例总数
2018-03-08 18:27:03,875 database.py[line: 88] INFO: query：SELECT count(testcaseId)  FROM testcase_reporter WHERE runHistoryId = %s AND runResult='Fail'  data：(1520504778,)
2018-03-08 18:27:03,878 test_plan.py[line: 95] INFO: 正在统计测试计划执行被阻塞的用例总数
2018-03-08 18:27:03,878 database.py[line: 88] INFO: query：SELECT count(testcaseId)  FROM testcase_reporter WHERE runHistoryId = %s AND runResult='Block'  data：(1520504778,)
2018-03-08 18:27:03,883 test_plan.py[line: 105] INFO: 正在统计测试计划执行成功的用例
2018-03-08 18:27:03,883 database.py[line: 106] INFO: query：SELECT testcaseId  FROM testcase_reporter WHERE runHistoryId = %s AND runResult='Pass'  data：(1520504778,)
2018-03-08 18:27:03,885 test_plan.py[line: 115] INFO: 正在统计测试计划执行失败的用例
2018-03-08 18:27:03,886 database.py[line: 106] INFO: query：SELECT testcaseId  FROM testcase_reporter WHERE runHistoryId = %s AND runResult='Fail'  data：(1520504778,)
2018-03-08 18:27:03,888 test_plan.py[line: 125] INFO: 正在统计测试计划执行被阻塞的用例
2018-03-08 18:27:03,888 database.py[line: 106] INFO: query：SELECT testcaseId  FROM testcase_reporter WHERE runHistoryId = %s AND runResult='Block'  data：(1520504778,)
2018-03-08 18:27:03,891 test_plan.py[line: 130] INFO: 没找到计划执行被阻塞的用例
2018-03-08 18:27:03,891 test_plan.py[line: 151] INFO: 正在记录测试计划运行结果到测试计划报表
2018-03-08 18:27:03,891 database.py[line: 58] INFO: query：INSERT INTO testplan_reporter(testPlanId, testPlanName, runHistoryId, browserType, runTc_total, runPassedTc_total, runFailedTc_total,runBlockedTc_total, runPassedTc, runFailedTc, runBlockedTc, runTime)VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(4, '购买记录审批流程', 1520504778, 'Chrome', 3, 1, 2, 0, '(14,)', '(13,)', '', '2018-03-08 18:26:18')
2018-03-08 18:27:03,897 main.py[line: 79] INFO: 计划运行完成，正在关闭浏览器
2018-03-08 18:27:07,015 main.py[line: 82] INFO: ####################### 测试结束 #######################
2018-03-08 18:27:07,015 main.py[line: 126] INFO: 运行完成,准备生成测试报告
2018-03-08 18:27:07,015 htmlreporter.py[line: 35] INFO: 正在查询测试计划执行统计信息（执行总数，成功数，失败数，被阻塞数）
2018-03-08 18:27:07,015 database.py[line: 88] INFO: query：SELECT runTc_total, runPassedTc_total, runFailedTc_total, runBlockedTc_total, testPlanName, testPlanId FROM testplan_reporter WHERE runHistoryId = %s  data：(1520504778,)
2018-03-08 18:27:07,018 htmlreporter.py[line: 111] INFO: 正在查询测试计划：购买记录审批流程 运行的的测试用例
2018-03-08 18:27:07,018 database.py[line: 106] INFO: query：SELECT id, runHistoryId, testcaseId, testplanId, browserType, runResult, runTime FROM testcase_reporter WHERE testplanId=%s AND runHistoryId = %s ORDER BY id ASC  data：('4', 1520504778)
2018-03-08 18:27:07,022 htmlreporter.py[line: 121] INFO: 正在记录测试计划[名称：购买记录审批流程]的测试用例运行结果到测试报告
2018-03-08 18:27:07,022 database.py[line: 88] INFO: query：SELECT test_name FROM testcases WHERE id=%s  data：(14,)
2018-03-08 18:27:07,025 database.py[line: 88] INFO: query：SELECT test_name FROM testcases WHERE id=%s  data：(13,)
2018-03-08 18:27:07,027 database.py[line: 88] INFO: query：SELECT test_name FROM testcases WHERE id=%s  data：(18,)
2018-03-08 18:27:07,030 htmlreporter.py[line: 151] INFO: 正在查询测试计划：购买记录审批流程 运行的的测试用例
2018-03-08 18:27:07,030 database.py[line: 106] INFO: query：SELECT id, runHistoryId, testcaseId, testplanId, browserType, runResult, runTime  FROM testcase_reporter WHERE testplanId=%s AND runHistoryId = %s ORDER BY id ASC  data：('4', 1520504778)
2018-03-08 18:27:07,035 htmlreporter.py[line: 168] INFO: 正在查询测试用例[id=14, name=运维登录]对应的测试步骤执行明细
2018-03-08 18:27:07,035 database.py[line: 106] INFO: query：SELECT id, stepOrder, runHistoryId, elementName, command, inparams, stepRunResult, expectedResult, stepRunResultDesc, browserType, runTime, screenshotUrl FROM case_step_run_detail WHERE testcaseId=%s AND runHistoryId = %s  ORDER BY id ASC  data：('14', 1520504778)
2018-03-08 18:27:07,047 htmlreporter.py[line: 168] INFO: 正在查询测试用例[id=13, name=客服登录]对应的测试步骤执行明细
2018-03-08 18:27:07,047 database.py[line: 106] INFO: query：SELECT id, stepOrder, runHistoryId, elementName, command, inparams, stepRunResult, expectedResult, stepRunResultDesc, browserType, runTime, screenshotUrl FROM case_step_run_detail WHERE testcaseId=%s AND runHistoryId = %s  ORDER BY id ASC  data：('13', 1520504778)
2018-03-08 18:27:07,052 htmlreporter.py[line: 168] INFO: 正在查询测试用例[id=18, name=购买记录客服审批]对应的测试步骤执行明细
2018-03-08 18:27:07,052 database.py[line: 106] INFO: query：SELECT id, stepOrder, runHistoryId, elementName, command, inparams, stepRunResult, expectedResult, stepRunResultDesc, browserType, runTime, screenshotUrl FROM case_step_run_detail WHERE testcaseId=%s AND runHistoryId = %s  ORDER BY id ASC  data：('18', 1520504778)
2018-03-08 18:27:07,056 htmlreporter.py[line: 211] INFO: 正在设置测试报告结果文件名
2018-03-08 18:27:07,056 htmlreporter.py[line: 222] INFO: 测试报告文件名所在路径为：E:\Projects\report\test_report20180308182707.html
2018-03-08 18:27:07,056 htmlreporter.py[line: 214] INFO: 正在生产测试报告
2018-03-08 18:27:07,058 main.py[line: 130] INFO: 生成测试报告成功
2018-03-08 18:27:07,058 main.py[line: 134] INFO: 运行完成,准备上传截图
2018-03-08 18:27:07,058 ftp.py[line: 42] INFO: is connecting to ftp server 10.1.2.88 on 21
2018-03-08 18:27:07,066 ftp.py[line: 47] INFO: ready to login ftp server
2018-03-08 18:27:07,193 ftp.py[line: 49] INFO: login ftp server successfully
2018-03-08 18:27:07,193 main.py[line: 138] INFO: 正在获取要上传的截图文件
2018-03-08 18:27:07,195 main.py[line: 146] INFO: 正在上传图片到ftp服务器
2018-03-08 18:27:07,196 ftp.py[line: 55] INFO: close ftp connection successfully
2018-03-08 18:27:07,196 main.py[line: 156] INFO: 运行完成，准备发送邮件
2018-03-08 18:27:07,522 main.py[line: 162] INFO: 邮件标题为：Hi，附件为web自动化测试报告，烦请查阅邮件内容为：{'E:\\Projects\\report\\test_report20180308182707.html'}，待发送邮件附件有 【测试报告】web自动化测试报告20180308182707
2018-03-08 18:27:07,522 main.py[line: 163] INFO: 正在发送测试报告邮件...
2018-03-08 18:27:08,227 main.py[line: 166] INFO: 发送邮件成功
2018-03-08 18:27:08,227 main.py[line: 172] INFO: 正在关闭数据库
2018-03-08 18:30:15,553 globalvar.py[line: 23] INFO: #####################正在初始化全局配置#####################
2018-03-08 18:30:15,554 globalvar.py[line: 24] INFO: 正在选择数据库运行环境和站点运行环境
2018-03-08 18:30:15,554 globalvar.py[line: 34] INFO: 在测试环境执行测试，正在获取测试环境的web site
2018-03-08 18:30:15,554 globalvar.py[line: 45] INFO: 在测试环境执行测试，正在获取测试环境的数据库
2018-03-08 18:30:15,564 globalvar.py[line: 55] INFO: 正在进行ftp配置
2018-03-08 18:30:15,571 globalvar.py[line: 62] INFO: 正在获取运行模式
2018-03-08 18:30:15,571 globalvar.py[line: 66] INFO: 运行模式为:<module 'publicpkg.runmode' from 'D:\\python\\webautotest\\publicpkg\\runmode.py'>
2018-03-08 18:30:15,571 globalvar.py[line: 69] INFO: 测试计划配置:[4]
2018-03-08 18:30:15,571 globalvar.py[line: 72] INFO: 全局初始化用例配置:[123]
2018-03-08 18:30:15,572 globalvar.py[line: 75] INFO: 正在获取浏览器配置
2018-03-08 18:30:15,572 globalvar.py[line: 79] INFO: 获取需要进行测试的浏览器有：['Chrome']
2018-03-08 18:30:15,572 globalvar.py[line: 82] INFO: 正在初始化其它工具对象
2018-03-08 18:30:15,572 globalvar.py[line: 86] INFO: 正在进行截图基路径配置
2018-03-08 18:30:15,573 globalvar.py[line: 91] INFO: 截图报存基路径为：D:\python\webautotest\screentshot\
2018-03-08 18:30:15,573 globalvar.py[line: 95] INFO: 正在进行测试报告配置
2018-03-08 18:30:15,573 globalvar.py[line: 96] INFO: --1、读取测试报告路径及文件名
2018-03-08 18:30:15,573 globalvar.py[line: 101] INFO: --2、构造测试报告
2018-03-08 18:30:15,573 globalvar.py[line: 104] INFO: --3、设置报告生成路径
2018-03-08 18:30:15,573 globalvar.py[line: 107] INFO: #####################初始化全局配置完毕#####################
2018-03-08 18:30:18,516 main.py[line: 21] INFO: 正在查询用例是否存在
2018-03-08 18:30:18,516 database.py[line: 88] INFO: query：SELECT id FROM testcases WHERE id = %s  data：(12,)
2018-03-08 18:30:37,446 database.py[line: 99] ERROR: 执行数据库查询操作失败：MySQL Connection not available.
2018-03-08 18:30:37,447 main.py[line: 170] INFO: 运行出错: local variable 'db_cursor' referenced before assignment
2018-03-08 18:30:37,447 main.py[line: 172] INFO: 正在关闭数据库
2018-03-08 18:31:24,895 globalvar.py[line: 23] INFO: #####################正在初始化全局配置#####################
2018-03-08 18:31:24,895 globalvar.py[line: 24] INFO: 正在选择数据库运行环境和站点运行环境
2018-03-08 18:31:24,896 globalvar.py[line: 34] INFO: 在测试环境执行测试，正在获取测试环境的web site
2018-03-08 18:31:24,897 globalvar.py[line: 45] INFO: 在测试环境执行测试，正在获取测试环境的数据库
2018-03-08 18:31:24,905 globalvar.py[line: 55] INFO: 正在进行ftp配置
2018-03-08 18:31:24,913 globalvar.py[line: 62] INFO: 正在获取运行模式
2018-03-08 18:31:24,914 globalvar.py[line: 66] INFO: 运行模式为:<module 'publicpkg.runmode' from 'D:\\python\\webautotest\\publicpkg\\runmode.py'>
2018-03-08 18:31:24,914 globalvar.py[line: 69] INFO: 测试计划配置:[4]
2018-03-08 18:31:24,914 globalvar.py[line: 72] INFO: 全局初始化用例配置:[123]
2018-03-08 18:31:24,914 globalvar.py[line: 75] INFO: 正在获取浏览器配置
2018-03-08 18:31:24,915 globalvar.py[line: 79] INFO: 获取需要进行测试的浏览器有：['Chrome']
2018-03-08 18:31:24,915 globalvar.py[line: 82] INFO: 正在初始化其它工具对象
2018-03-08 18:31:24,915 globalvar.py[line: 86] INFO: 正在进行截图基路径配置
2018-03-08 18:31:24,915 globalvar.py[line: 91] INFO: 截图报存基路径为：D:\python\webautotest\screentshot\
2018-03-08 18:31:24,915 globalvar.py[line: 95] INFO: 正在进行测试报告配置
2018-03-08 18:31:24,915 globalvar.py[line: 96] INFO: --1、读取测试报告路径及文件名
2018-03-08 18:31:24,916 globalvar.py[line: 101] INFO: --2、构造测试报告
2018-03-08 18:31:24,916 globalvar.py[line: 104] INFO: --3、设置报告生成路径
2018-03-08 18:31:24,916 globalvar.py[line: 107] INFO: #####################初始化全局配置完毕#####################
2018-03-08 18:31:27,096 main.py[line: 21] INFO: 正在查询用例是否存在
2018-03-08 18:31:27,096 database.py[line: 88] INFO: query：SELECT id FROM testcases WHERE id = %s  data：(12,)
2018-03-08 18:31:27,099 main.py[line: 28] INFO: ####################### 开始测试 #######################
2018-03-08 18:31:33,276 main.py[line: 38] INFO: 优先运行全局初始化用例 [123]
2018-03-08 18:31:33,276 main.py[line: 40] INFO: 正在查询全局用例[id=123]是否存在
2018-03-08 18:31:33,276 database.py[line: 88] INFO: query：SELECT id FROM testcases WHERE id = %s  data：(123,)
2018-03-08 18:31:33,279 main.py[line: 45] WARNING: 用例id:12不存在
2018-03-08 18:31:33,279 test_case.py[line: 17] INFO: 正在构造并初始化测试用例对象[id=12]
2018-03-08 18:31:33,279 test_case.py[line: 26] INFO: 初始测试用例完毕
2018-03-08 18:31:33,279 test_case.py[line: 70] INFO: 正在获取测试用例所有测试步骤
2018-03-08 18:31:33,279 database.py[line: 106] INFO: query：(SELECT a.StepOrder AS StepOrder,c.PageName AS PageName,b.ElementName AS ElementName,b.ElementSelector AS ElementSelector,b.ElementSelector02 AS ElementSelector02,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,a.compid AS compid,a.compFolderid AS comFolderid,'' AS comName FROM testcases_steps AS a, page_elements AS b,pagesobject AS c WHERE a.TestcaseID = %s AND a.ElementId = b.Id AND b.PageId = c.Id)UNION ALL(SELECT a.steporder AS steporder,'' AS PageName,'' AS ElementSelector,'' AS ElementSelector02,'' AS ElementName,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,a.compid AS compid,a.compFolderid AS comFolderid,tc.test_name AS comName FROM testcases_steps AS a, testcases AS tc WHERE a.TestcaseID = %s AND a.compid = tc.id)UNION ALL(SELECT a.steporder AS steporder,'' AS PageName,'' AS ElementSelector,'' AS ElementSelector02,'' AS ElementName,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,'' AS compid,'' AS comFolderid,'' AS comName FROM testcases_steps AS a WHERE a.TestcaseID = %s AND NOT ISNULL(a.stepOrder)AND NOT ISNULL(a.Command) AND ISNULL(compid) AND ElementId='')ORDER BY steporder  data：(12, 12, 12)
2018-03-08 18:31:33,284 test_case.py[line: 123] INFO: 获取的测试步骤为： [(1, '', '', '', '', '断言', '深圳市金斧子网络科技有限公司-ERP', '', '', '', ''), (2, '用户登录', '用户名', 'xpath=//*[@name=&quot;username&quot;]', '', '输入', 'defang3', '', None, None, ''), (3, '用户登录', '密码', 'xpath=//*[@name=&quot;password&quot;]', '', '输入', '123', '', None, None, ''), (4, '用户登录', '登录', 'xpath=//*[@class=&quot;submit_wrap&quot;]', '', '点击', '', '', None, None, ''), (5, '', '', '', '', '等待', '3', '', '', '', ''), (6, '', '', '', '', '断言', '德芳运维', '', '', '', ''), (7, '', '', '', '', '弹出选项框', '//*[@id=&quot;app&quot;]/div/div/section/header/section/div[2]/div[4]/div/div/div[1]/span[1]', '', '', '', ''), (8, '', '', '', '', '等待', '5', '', '', '', ''), (9, '审批流', '退出系统', 'xpath=//*[text()=&quot;退出系统&quot;]', '', '点击', '', '', None, None, '')]
2018-03-08 18:31:33,284 test_case.py[line: 41] INFO: 开始执行测试步骤
2018-03-08 18:31:33,284 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：1, 操作：断言， 输入参数：深圳市金斧子网络科技有限公司-ERP，预期结果：）
2018-03-08 18:31:33,284 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 18:31:33,284 test_case_step.py[line: 88] INFO: 执行函数：断言
2018-03-08 18:31:33,284 test_case_step.py[line: 91] INFO: 正在对输入参数:深圳市金斧子网络科技有限公司-ERP 进行参数处理
2018-03-08 18:31:33,284 test_case_step.py[line: 118] INFO: 断言的标题为:深圳市金斧子网络科技有限公司-ERP
2018-03-08 18:31:33,291 seleniumutil.py[line: 173] INFO: 断言信息为：深圳市金斧子网络科技有限公司-ERP
2018-03-08 18:31:33,292 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 18:31:33,292 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(0, 12, 1520505093, 1, '', '断言', '深圳市金斧子网络科技有限公司-ERP', '', 'Pass', '断言成功', 'Chrome', '2018-03-08 18:31:33', '')
2018-03-08 18:31:33,296 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 18:31:33,296 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：用户名, 步序：2, 操作：输入， 输入参数：defang3，预期结果：）
2018-03-08 18:31:33,296 test_case_step.py[line: 38] INFO: 正在执行最普通的元素操作
2018-03-08 18:31:33,296 test_case_step.py[line: 42] INFO: 正在对选择器：selector1: xpath=//*[@name=&quot;username&quot;]，selector2:  做数据转换处理
2018-03-08 18:31:33,296 test_case_step.py[line: 45] INFO: 转换后的选择器：selector1: xpath=//*[@name="username"]，selector2: 
2018-03-08 18:31:33,296 test_case_step.py[line: 47] INFO: 开始对步骤中的元素操作进行操作
2018-03-08 18:31:33,296 test_case_step.py[line: 134] INFO: 操作：输入
2018-03-08 18:31:33,296 test_case_step.py[line: 136] INFO: 正在对输入参数:defang3 进行参数处理
2018-03-08 18:31:33,296 test_case_step.py[line: 140] INFO: 处理后的输入参数为:['defang3'] 
2018-03-08 18:31:33,297 test_case_step.py[line: 209] INFO: 开始根据元素定位器：xpath=//*[@name="username"] 自定位元素
2018-03-08 18:31:33,297 test_case_step.py[line: 222] INFO: find_element_by_xpath：//*[@name="username"]
2018-03-08 18:31:33,318 test_case_step.py[line: 195] INFO: 找到元素：<selenium.webdriver.remote.webelement.WebElement (session="0c68e44655e5ef30e1847816fb7d1021", element="0.1253919977359772-1")>
2018-03-08 18:31:33,393 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 18:31:33,393 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(0, 12, 1520505093, 2, '用户名', '输入', 'defang3', '', 'Pass', '输入数据成功', 'Chrome', '2018-03-08 18:31:33', '')
2018-03-08 18:31:33,397 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 18:31:33,397 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：密码, 步序：3, 操作：输入， 输入参数：123，预期结果：）
2018-03-08 18:31:33,397 test_case_step.py[line: 38] INFO: 正在执行最普通的元素操作
2018-03-08 18:31:33,397 test_case_step.py[line: 42] INFO: 正在对选择器：selector1: xpath=//*[@name=&quot;password&quot;]，selector2:  做数据转换处理
2018-03-08 18:31:33,397 test_case_step.py[line: 45] INFO: 转换后的选择器：selector1: xpath=//*[@name="password"]，selector2: 
2018-03-08 18:31:33,397 test_case_step.py[line: 47] INFO: 开始对步骤中的元素操作进行操作
2018-03-08 18:31:33,398 test_case_step.py[line: 134] INFO: 操作：输入
2018-03-08 18:31:33,398 test_case_step.py[line: 136] INFO: 正在对输入参数:123 进行参数处理
2018-03-08 18:31:33,398 test_case_step.py[line: 140] INFO: 处理后的输入参数为:['123'] 
2018-03-08 18:31:33,398 test_case_step.py[line: 209] INFO: 开始根据元素定位器：xpath=//*[@name="password"] 自定位元素
2018-03-08 18:31:33,398 test_case_step.py[line: 222] INFO: find_element_by_xpath：//*[@name="password"]
2018-03-08 18:31:33,414 test_case_step.py[line: 195] INFO: 找到元素：<selenium.webdriver.remote.webelement.WebElement (session="0c68e44655e5ef30e1847816fb7d1021", element="0.1253919977359772-2")>
2018-03-08 18:31:33,463 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 18:31:33,463 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(0, 12, 1520505093, 3, '密码', '输入', '123', '', 'Pass', '输入数据成功', 'Chrome', '2018-03-08 18:31:33', '')
2018-03-08 18:31:33,467 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 18:31:33,467 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：登录, 步序：4, 操作：点击， 输入参数：，预期结果：）
2018-03-08 18:31:33,467 test_case_step.py[line: 38] INFO: 正在执行最普通的元素操作
2018-03-08 18:31:33,467 test_case_step.py[line: 42] INFO: 正在对选择器：selector1: xpath=//*[@class=&quot;submit_wrap&quot;]，selector2:  做数据转换处理
2018-03-08 18:31:33,467 test_case_step.py[line: 45] INFO: 转换后的选择器：selector1: xpath=//*[@class="submit_wrap"]，selector2: 
2018-03-08 18:31:33,467 test_case_step.py[line: 47] INFO: 开始对步骤中的元素操作进行操作
2018-03-08 18:31:33,467 test_case_step.py[line: 134] INFO: 操作：点击
2018-03-08 18:31:33,467 test_case_step.py[line: 209] INFO: 开始根据元素定位器：xpath=//*[@class="submit_wrap"] 自定位元素
2018-03-08 18:31:33,467 test_case_step.py[line: 222] INFO: find_element_by_xpath：//*[@class="submit_wrap"]
2018-03-08 18:31:33,487 test_case_step.py[line: 195] INFO: 找到元素：<selenium.webdriver.remote.webelement.WebElement (session="0c68e44655e5ef30e1847816fb7d1021", element="0.1253919977359772-3")>
2018-03-08 18:31:35,052 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 18:31:35,052 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(0, 12, 1520505093, 4, '登录', '点击', '', '', 'Pass', '点击成功', 'Chrome', '2018-03-08 18:31:33', '')
2018-03-08 18:31:35,055 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 18:31:35,056 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：5, 操作：等待， 输入参数：3，预期结果：）
2018-03-08 18:31:35,056 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 18:31:35,056 test_case_step.py[line: 88] INFO: 执行函数：等待
2018-03-08 18:31:35,056 test_case_step.py[line: 91] INFO: 正在对输入参数:3 进行参数处理
2018-03-08 18:31:35,056 test_case_step.py[line: 108] INFO: 等待3秒
2018-03-08 18:31:38,056 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 18:31:38,056 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(0, 12, 1520505093, 5, '', '等待', '3', '', 'Pass', 'run success', 'Chrome', '2018-03-08 18:31:35', '')
2018-03-08 18:31:38,059 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 18:31:38,060 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：6, 操作：断言， 输入参数：德芳运维，预期结果：）
2018-03-08 18:31:38,060 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 18:31:38,060 test_case_step.py[line: 88] INFO: 执行函数：断言
2018-03-08 18:31:38,060 test_case_step.py[line: 91] INFO: 正在对输入参数:德芳运维 进行参数处理
2018-03-08 18:31:38,060 test_case_step.py[line: 118] INFO: 断言的标题为:德芳运维
2018-03-08 18:31:38,074 seleniumutil.py[line: 173] INFO: 断言信息为：德芳运维
2018-03-08 18:31:38,074 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 18:31:38,074 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(0, 12, 1520505093, 6, '', '断言', '德芳运维', '', 'Pass', '断言成功', 'Chrome', '2018-03-08 18:31:38', '')
2018-03-08 18:31:38,078 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 18:31:38,079 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：7, 操作：弹出选项框， 输入参数：//*[@id=&quot;app&quot;]/div/div/section/header/section/div[2]/div[4]/div/div/div[1]/span[1]，预期结果：）
2018-03-08 18:31:38,079 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 18:31:38,079 test_case_step.py[line: 88] INFO: 执行函数：弹出选项框
2018-03-08 18:31:38,079 test_case_step.py[line: 91] INFO: 正在对输入参数://*[@id=&quot;app&quot;]/div/div/section/header/section/div[2]/div[4]/div/div/div[1]/span[1] 进行参数处理
2018-03-08 18:31:38,117 seleniumutil.py[line: 107] INFO: 选项框弹出成功:<selenium.webdriver.remote.webelement.WebElement (session="0c68e44655e5ef30e1847816fb7d1021", element="0.7865105161101325-1")>
2018-03-08 18:31:38,117 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 18:31:38,117 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(0, 12, 1520505093, 7, '', '弹出选项框', '//*[@id=&quot;app&quot;]/div/div/section/header/section/div[2]/div[4]/div/div/div[1]/span[1]', '', 'Pass', '选项框弹出成功', 'Chrome', '2018-03-08 18:31:38', '')
2018-03-08 18:31:38,121 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 18:31:38,121 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：8, 操作：等待， 输入参数：5，预期结果：）
2018-03-08 18:31:38,121 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 18:31:38,121 test_case_step.py[line: 88] INFO: 执行函数：等待
2018-03-08 18:31:38,121 test_case_step.py[line: 91] INFO: 正在对输入参数:5 进行参数处理
2018-03-08 18:31:38,121 test_case_step.py[line: 108] INFO: 等待5秒
2018-03-08 18:31:43,121 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 18:31:43,121 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(0, 12, 1520505093, 8, '', '等待', '5', '', 'Pass', 'run success', 'Chrome', '2018-03-08 18:31:38', '')
2018-03-08 18:31:43,125 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 18:31:43,125 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：退出系统, 步序：9, 操作：点击， 输入参数：，预期结果：）
2018-03-08 18:31:43,126 test_case_step.py[line: 38] INFO: 正在执行最普通的元素操作
2018-03-08 18:31:43,126 test_case_step.py[line: 42] INFO: 正在对选择器：selector1: xpath=//*[text()=&quot;退出系统&quot;]，selector2:  做数据转换处理
2018-03-08 18:31:43,126 test_case_step.py[line: 45] INFO: 转换后的选择器：selector1: xpath=//*[text()="退出系统"]，selector2: 
2018-03-08 18:31:43,126 test_case_step.py[line: 47] INFO: 开始对步骤中的元素操作进行操作
2018-03-08 18:31:43,126 test_case_step.py[line: 134] INFO: 操作：点击
2018-03-08 18:31:43,126 test_case_step.py[line: 209] INFO: 开始根据元素定位器：xpath=//*[text()="退出系统"] 自定位元素
2018-03-08 18:31:43,126 test_case_step.py[line: 222] INFO: find_element_by_xpath：//*[text()="退出系统"]
2018-03-08 18:31:43,185 test_case_step.py[line: 195] INFO: 找到元素：<selenium.webdriver.remote.webelement.WebElement (session="0c68e44655e5ef30e1847816fb7d1021", element="0.7865105161101325-2")>
2018-03-08 18:31:43,384 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 18:31:43,385 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(0, 12, 1520505093, 9, '退出系统', '点击', '', '', 'Pass', '点击成功', 'Chrome', '2018-03-08 18:31:43', '')
2018-03-08 18:31:43,391 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 18:31:43,392 test_case.py[line: 58] INFO: 测试步骤执行完毕，正在记录用例运行结果到测试用例运行报表
2018-03-08 18:31:43,392 database.py[line: 58] INFO: query：INSERT INTO testcase_reporter(runHistoryId, browserType, testcaseId, testplanId, runTime, runResult) VALUES(%s, %s, %s, %s, %s, %s)  data：(1520505093, 'Chrome', 12, 0, '2018-03-08 18:31:33', 'Pass')
2018-03-08 18:31:43,396 main.py[line: 52] INFO: 用例执行完成，正在关闭浏览器
2018-03-08 18:31:46,941 main.py[line: 55] INFO: ####################### 测试结束 #######################
2018-03-08 18:31:46,941 main.py[line: 126] INFO: 运行完成,准备生成测试报告
2018-03-08 18:31:46,941 htmlreporter.py[line: 55] INFO: 正在查询测试用例执行统计信息
2018-03-08 18:31:46,941 database.py[line: 88] INFO: query：SELECT runResult FROM testcase_reporter WHERE runHistoryId = %s  data：(1520505093,)
2018-03-08 18:31:46,945 htmlreporter.py[line: 111] INFO: 正在查询测试计划：无计划 运行的的测试用例
2018-03-08 18:31:46,945 database.py[line: 106] INFO: query：SELECT id, runHistoryId, testcaseId, testplanId, browserType, runResult, runTime FROM testcase_reporter WHERE testplanId=%s AND runHistoryId = %s ORDER BY id ASC  data：(0, 1520505093)
2018-03-08 18:31:46,948 htmlreporter.py[line: 121] INFO: 正在记录测试计划[名称：无计划]的测试用例运行结果到测试报告
2018-03-08 18:31:46,948 database.py[line: 88] INFO: query：SELECT test_name FROM testcases WHERE id=%s  data：(12,)
2018-03-08 18:31:46,951 htmlreporter.py[line: 151] INFO: 正在查询测试计划：无计划 运行的的测试用例
2018-03-08 18:31:46,952 database.py[line: 106] INFO: query：SELECT id, runHistoryId, testcaseId, testplanId, browserType, runResult, runTime  FROM testcase_reporter WHERE testplanId=%s AND runHistoryId = %s ORDER BY id ASC  data：(0, 1520505093)
2018-03-08 18:31:46,955 htmlreporter.py[line: 168] INFO: 正在查询测试用例[id=12, name=理财师登录]对应的测试步骤执行明细
2018-03-08 18:31:46,955 database.py[line: 106] INFO: query：SELECT id, stepOrder, runHistoryId, elementName, command, inparams, stepRunResult, expectedResult, stepRunResultDesc, browserType, runTime, screenshotUrl FROM case_step_run_detail WHERE testcaseId=%s AND runHistoryId = %s  ORDER BY id ASC  data：('12', 1520505093)
2018-03-08 18:31:46,962 htmlreporter.py[line: 211] INFO: 正在设置测试报告结果文件名
2018-03-08 18:31:46,962 htmlreporter.py[line: 222] INFO: 测试报告文件名所在路径为：E:\Projects\report\test_report20180308183146.html
2018-03-08 18:31:46,962 htmlreporter.py[line: 214] INFO: 正在生产测试报告
2018-03-08 18:31:46,974 main.py[line: 130] INFO: 生成测试报告成功
2018-03-08 18:31:46,974 main.py[line: 134] INFO: 运行完成,准备上传截图
2018-03-08 18:31:46,974 ftp.py[line: 42] INFO: is connecting to ftp server 10.1.2.88 on 21
2018-03-08 18:31:46,980 ftp.py[line: 47] INFO: ready to login ftp server
2018-03-08 18:31:47,078 ftp.py[line: 49] INFO: login ftp server successfully
2018-03-08 18:31:47,078 main.py[line: 138] INFO: 正在获取要上传的截图文件
2018-03-08 18:31:47,080 main.py[line: 146] INFO: 正在上传图片到ftp服务器
2018-03-08 18:31:47,081 ftp.py[line: 55] INFO: close ftp connection successfully
2018-03-08 18:31:47,081 main.py[line: 156] INFO: 运行完成，准备发送邮件
2018-03-08 18:31:47,287 main.py[line: 162] INFO: 邮件标题为：Hi，附件为web自动化测试报告，烦请查阅邮件内容为：{'E:\\Projects\\report\\test_report20180308183146.html'}，待发送邮件附件有 【测试报告】web自动化测试报告20180308183146
2018-03-08 18:31:47,287 main.py[line: 163] INFO: 正在发送测试报告邮件...
2018-03-08 18:31:47,982 main.py[line: 166] INFO: 发送邮件成功
2018-03-08 18:31:47,982 main.py[line: 172] INFO: 正在关闭数据库
2018-03-08 18:34:48,549 globalvar.py[line: 23] INFO: #####################正在初始化全局配置#####################
2018-03-08 18:34:48,549 globalvar.py[line: 24] INFO: 正在选择数据库运行环境和站点运行环境
2018-03-08 18:34:48,550 globalvar.py[line: 34] INFO: 在测试环境执行测试，正在获取测试环境的web site
2018-03-08 18:34:48,551 globalvar.py[line: 45] INFO: 在测试环境执行测试，正在获取测试环境的数据库
2018-03-08 18:34:48,561 globalvar.py[line: 55] INFO: 正在进行ftp配置
2018-03-08 18:34:48,568 globalvar.py[line: 62] INFO: 正在获取运行模式
2018-03-08 18:34:48,569 globalvar.py[line: 66] INFO: 运行模式为:<module 'publicpkg.runmode' from 'D:\\python\\webautotest\\publicpkg\\runmode.py'>
2018-03-08 18:34:48,569 globalvar.py[line: 69] INFO: 测试计划配置:[4]
2018-03-08 18:34:48,569 globalvar.py[line: 72] INFO: 全局初始化用例配置:[123]
2018-03-08 18:34:48,569 globalvar.py[line: 75] INFO: 正在获取浏览器配置
2018-03-08 18:34:48,570 globalvar.py[line: 79] INFO: 获取需要进行测试的浏览器有：['Chrome']
2018-03-08 18:34:48,570 globalvar.py[line: 82] INFO: 正在初始化其它工具对象
2018-03-08 18:34:48,570 globalvar.py[line: 86] INFO: 正在进行截图基路径配置
2018-03-08 18:34:48,571 globalvar.py[line: 91] INFO: 截图报存基路径为：D:\python\webautotest\screentshot\
2018-03-08 18:34:48,571 globalvar.py[line: 95] INFO: 正在进行测试报告配置
2018-03-08 18:34:48,571 globalvar.py[line: 96] INFO: --1、读取测试报告路径及文件名
2018-03-08 18:34:48,571 globalvar.py[line: 101] INFO: --2、构造测试报告
2018-03-08 18:34:48,571 globalvar.py[line: 104] INFO: --3、设置报告生成路径
2018-03-08 18:34:48,571 globalvar.py[line: 107] INFO: #####################初始化全局配置完毕#####################
2018-03-08 18:34:48,572 main.py[line: 61] INFO: ####################### 开始测试 #######################
2018-03-08 18:34:54,391 test_plan.py[line: 28] INFO: 正在获取本次测试需要执行的测试用列ID列表，测试计划名称
2018-03-08 18:34:54,391 database.py[line: 88] INFO: query：SELECT testcase_list, test_round_name FROM testcase_runround WHERE id = %s   data：(4,)
2018-03-08 18:34:54,395 test_plan.py[line: 44] INFO: 获取到的的测试用例id列表为: [14, 19, 13, 18]
2018-03-08 18:34:54,395 test_plan.py[line: 48] INFO: ####################### 开始运行测试计划 #######################
2018-03-08 18:34:54,395 test_case.py[line: 17] INFO: 正在构造并初始化测试用例对象[id=14]
2018-03-08 18:34:54,395 test_case.py[line: 26] INFO: 初始测试用例完毕
2018-03-08 18:34:54,395 test_case.py[line: 17] INFO: 正在构造并初始化测试用例对象[id=19]
2018-03-08 18:34:54,395 test_case.py[line: 26] INFO: 初始测试用例完毕
2018-03-08 18:34:54,395 test_case.py[line: 17] INFO: 正在构造并初始化测试用例对象[id=13]
2018-03-08 18:34:54,395 test_case.py[line: 26] INFO: 初始测试用例完毕
2018-03-08 18:34:54,395 test_case.py[line: 17] INFO: 正在构造并初始化测试用例对象[id=18]
2018-03-08 18:34:54,395 test_case.py[line: 26] INFO: 初始测试用例完毕
2018-03-08 18:34:54,396 test_case.py[line: 70] INFO: 正在获取测试用例所有测试步骤
2018-03-08 18:34:54,396 database.py[line: 106] INFO: query：(SELECT a.StepOrder AS StepOrder,c.PageName AS PageName,b.ElementName AS ElementName,b.ElementSelector AS ElementSelector,b.ElementSelector02 AS ElementSelector02,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,a.compid AS compid,a.compFolderid AS comFolderid,'' AS comName FROM testcases_steps AS a, page_elements AS b,pagesobject AS c WHERE a.TestcaseID = %s AND a.ElementId = b.Id AND b.PageId = c.Id)UNION ALL(SELECT a.steporder AS steporder,'' AS PageName,'' AS ElementSelector,'' AS ElementSelector02,'' AS ElementName,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,a.compid AS compid,a.compFolderid AS comFolderid,tc.test_name AS comName FROM testcases_steps AS a, testcases AS tc WHERE a.TestcaseID = %s AND a.compid = tc.id)UNION ALL(SELECT a.steporder AS steporder,'' AS PageName,'' AS ElementSelector,'' AS ElementSelector02,'' AS ElementName,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,'' AS compid,'' AS comFolderid,'' AS comName FROM testcases_steps AS a WHERE a.TestcaseID = %s AND NOT ISNULL(a.stepOrder)AND NOT ISNULL(a.Command) AND ISNULL(compid) AND ElementId='')ORDER BY steporder  data：(14, 14, 14)
2018-03-08 18:34:54,400 test_case.py[line: 123] INFO: 获取的测试步骤为： [(1, '', '', '', '', '断言', '深圳市金斧子网络科技有限公司-ERP', '', '', '', ''), (2, '用户登录', '用户名', 'xpath=//*[@name=&quot;username&quot;]', '', '输入', 'defang3', '', None, None, ''), (3, '用户登录', '密码', 'xpath=//*[@name=&quot;password&quot;]', '', '输入', '123', '', None, None, ''), (4, '用户登录', '登录', 'xpath=//*[@class=&quot;submit_wrap&quot;]', '', '点击', '', '', None, None, ''), (5, '', '', '', '', '等待', '3', '', '', '', ''), (6, '', '', '', '', '断言', '德芳运维', '德芳运维', '', '', '')]
2018-03-08 18:34:54,400 test_case.py[line: 41] INFO: 开始执行测试步骤
2018-03-08 18:34:54,400 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：1, 操作：断言， 输入参数：深圳市金斧子网络科技有限公司-ERP，预期结果：）
2018-03-08 18:34:54,400 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 18:34:54,400 test_case_step.py[line: 88] INFO: 执行函数：断言
2018-03-08 18:34:54,400 test_case_step.py[line: 91] INFO: 正在对输入参数:深圳市金斧子网络科技有限公司-ERP 进行参数处理
2018-03-08 18:34:54,400 test_case_step.py[line: 118] INFO: 断言的标题为:深圳市金斧子网络科技有限公司-ERP
2018-03-08 18:34:54,405 seleniumutil.py[line: 173] INFO: 断言信息为：深圳市金斧子网络科技有限公司-ERP
2018-03-08 18:34:54,405 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 18:34:54,405 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(4, 14, 1520505294, 1, '', '断言', '深圳市金斧子网络科技有限公司-ERP', '', 'Pass', '断言成功', 'Chrome', '2018-03-08 18:34:54', '')
2018-03-08 18:34:54,409 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 18:34:54,409 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：用户名, 步序：2, 操作：输入， 输入参数：defang3，预期结果：）
2018-03-08 18:34:54,409 test_case_step.py[line: 38] INFO: 正在执行最普通的元素操作
2018-03-08 18:34:54,409 test_case_step.py[line: 42] INFO: 正在对选择器：selector1: xpath=//*[@name=&quot;username&quot;]，selector2:  做数据转换处理
2018-03-08 18:34:54,409 test_case_step.py[line: 45] INFO: 转换后的选择器：selector1: xpath=//*[@name="username"]，selector2: 
2018-03-08 18:34:54,409 test_case_step.py[line: 47] INFO: 开始对步骤中的元素操作进行操作
2018-03-08 18:34:54,409 test_case_step.py[line: 134] INFO: 操作：输入
2018-03-08 18:34:54,410 test_case_step.py[line: 136] INFO: 正在对输入参数:defang3 进行参数处理
2018-03-08 18:34:54,410 test_case_step.py[line: 140] INFO: 处理后的输入参数为:['defang3'] 
2018-03-08 18:34:54,410 test_case_step.py[line: 209] INFO: 开始根据元素定位器：xpath=//*[@name="username"] 自定位元素
2018-03-08 18:34:54,410 test_case_step.py[line: 222] INFO: find_element_by_xpath：//*[@name="username"]
2018-03-08 18:34:54,425 test_case_step.py[line: 195] INFO: 找到元素：<selenium.webdriver.remote.webelement.WebElement (session="e21c1d62862d17ea83e297b852721c35", element="0.0407712451061657-1")>
2018-03-08 18:34:54,485 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 18:34:54,485 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(4, 14, 1520505294, 2, '用户名', '输入', 'defang3', '', 'Pass', '输入数据成功', 'Chrome', '2018-03-08 18:34:54', '')
2018-03-08 18:34:54,488 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 18:34:54,488 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：密码, 步序：3, 操作：输入， 输入参数：123，预期结果：）
2018-03-08 18:34:54,488 test_case_step.py[line: 38] INFO: 正在执行最普通的元素操作
2018-03-08 18:34:54,489 test_case_step.py[line: 42] INFO: 正在对选择器：selector1: xpath=//*[@name=&quot;password&quot;]，selector2:  做数据转换处理
2018-03-08 18:34:54,489 test_case_step.py[line: 45] INFO: 转换后的选择器：selector1: xpath=//*[@name="password"]，selector2: 
2018-03-08 18:34:54,489 test_case_step.py[line: 47] INFO: 开始对步骤中的元素操作进行操作
2018-03-08 18:34:54,489 test_case_step.py[line: 134] INFO: 操作：输入
2018-03-08 18:34:54,489 test_case_step.py[line: 136] INFO: 正在对输入参数:123 进行参数处理
2018-03-08 18:34:54,489 test_case_step.py[line: 140] INFO: 处理后的输入参数为:['123'] 
2018-03-08 18:34:54,489 test_case_step.py[line: 209] INFO: 开始根据元素定位器：xpath=//*[@name="password"] 自定位元素
2018-03-08 18:34:54,490 test_case_step.py[line: 222] INFO: find_element_by_xpath：//*[@name="password"]
2018-03-08 18:34:54,504 test_case_step.py[line: 195] INFO: 找到元素：<selenium.webdriver.remote.webelement.WebElement (session="e21c1d62862d17ea83e297b852721c35", element="0.0407712451061657-2")>
2018-03-08 18:34:54,545 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 18:34:54,546 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(4, 14, 1520505294, 3, '密码', '输入', '123', '', 'Pass', '输入数据成功', 'Chrome', '2018-03-08 18:34:54', '')
2018-03-08 18:34:54,549 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 18:34:54,549 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：登录, 步序：4, 操作：点击， 输入参数：，预期结果：）
2018-03-08 18:34:54,550 test_case_step.py[line: 38] INFO: 正在执行最普通的元素操作
2018-03-08 18:34:54,550 test_case_step.py[line: 42] INFO: 正在对选择器：selector1: xpath=//*[@class=&quot;submit_wrap&quot;]，selector2:  做数据转换处理
2018-03-08 18:34:54,550 test_case_step.py[line: 45] INFO: 转换后的选择器：selector1: xpath=//*[@class="submit_wrap"]，selector2: 
2018-03-08 18:34:54,550 test_case_step.py[line: 47] INFO: 开始对步骤中的元素操作进行操作
2018-03-08 18:34:54,550 test_case_step.py[line: 134] INFO: 操作：点击
2018-03-08 18:34:54,550 test_case_step.py[line: 209] INFO: 开始根据元素定位器：xpath=//*[@class="submit_wrap"] 自定位元素
2018-03-08 18:34:54,550 test_case_step.py[line: 222] INFO: find_element_by_xpath：//*[@class="submit_wrap"]
2018-03-08 18:34:54,564 test_case_step.py[line: 195] INFO: 找到元素：<selenium.webdriver.remote.webelement.WebElement (session="e21c1d62862d17ea83e297b852721c35", element="0.0407712451061657-3")>
2018-03-08 18:34:55,828 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 18:34:55,829 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(4, 14, 1520505294, 4, '登录', '点击', '', '', 'Pass', '点击成功', 'Chrome', '2018-03-08 18:34:54', '')
2018-03-08 18:34:55,835 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 18:34:55,835 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：5, 操作：等待， 输入参数：3，预期结果：）
2018-03-08 18:34:55,836 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 18:34:55,836 test_case_step.py[line: 88] INFO: 执行函数：等待
2018-03-08 18:34:55,836 test_case_step.py[line: 91] INFO: 正在对输入参数:3 进行参数处理
2018-03-08 18:34:55,836 test_case_step.py[line: 108] INFO: 等待3秒
2018-03-08 18:34:58,836 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 18:34:58,836 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(4, 14, 1520505294, 5, '', '等待', '3', '', 'Pass', 'run success', 'Chrome', '2018-03-08 18:34:55', '')
2018-03-08 18:34:58,841 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 18:34:58,841 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：6, 操作：断言， 输入参数：德芳运维，预期结果：德芳运维）
2018-03-08 18:34:58,841 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 18:34:58,841 test_case_step.py[line: 88] INFO: 执行函数：断言
2018-03-08 18:34:58,841 test_case_step.py[line: 91] INFO: 正在对输入参数:德芳运维 进行参数处理
2018-03-08 18:34:58,841 test_case_step.py[line: 118] INFO: 断言的标题为:德芳运维
2018-03-08 18:34:58,855 seleniumutil.py[line: 173] INFO: 断言信息为：德芳运维
2018-03-08 18:34:58,855 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 18:34:58,855 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(4, 14, 1520505294, 6, '', '断言', '德芳运维', '德芳运维', 'Pass', '断言成功', 'Chrome', '2018-03-08 18:34:58', '')
2018-03-08 18:34:58,861 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 18:34:58,861 test_case.py[line: 58] INFO: 测试步骤执行完毕，正在记录用例运行结果到测试用例运行报表
2018-03-08 18:34:58,861 database.py[line: 58] INFO: query：INSERT INTO testcase_reporter(runHistoryId, browserType, testcaseId, testplanId, runTime, runResult) VALUES(%s, %s, %s, %s, %s, %s)  data：(1520505294, 'Chrome', 14, 4, '2018-03-08 18:34:54', 'Pass')
2018-03-08 18:34:58,865 test_case.py[line: 70] INFO: 正在获取测试用例所有测试步骤
2018-03-08 18:34:58,865 database.py[line: 106] INFO: query：(SELECT a.StepOrder AS StepOrder,c.PageName AS PageName,b.ElementName AS ElementName,b.ElementSelector AS ElementSelector,b.ElementSelector02 AS ElementSelector02,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,a.compid AS compid,a.compFolderid AS comFolderid,'' AS comName FROM testcases_steps AS a, page_elements AS b,pagesobject AS c WHERE a.TestcaseID = %s AND a.ElementId = b.Id AND b.PageId = c.Id)UNION ALL(SELECT a.steporder AS steporder,'' AS PageName,'' AS ElementSelector,'' AS ElementSelector02,'' AS ElementName,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,a.compid AS compid,a.compFolderid AS comFolderid,tc.test_name AS comName FROM testcases_steps AS a, testcases AS tc WHERE a.TestcaseID = %s AND a.compid = tc.id)UNION ALL(SELECT a.steporder AS steporder,'' AS PageName,'' AS ElementSelector,'' AS ElementSelector02,'' AS ElementName,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,'' AS compid,'' AS comFolderid,'' AS comName FROM testcases_steps AS a WHERE a.TestcaseID = %s AND NOT ISNULL(a.stepOrder)AND NOT ISNULL(a.Command) AND ISNULL(compid) AND ElementId='')ORDER BY steporder  data：(19, 19, 19)
2018-03-08 18:34:58,870 test_case.py[line: 123] INFO: 获取的测试步骤为： [(1, '', '', '', '', '等待', '5', '', '', '', ''), (2, '', '', '', '', '切换入iframe', 'iframe89892232323', '', '', '', ''), (3, '审批流', '审批流的链接', 'xpath=html/body/div[1]/div/div/div[2]/div/div/div/div[2]/div/div[1]/ul/li[1]/div[1]', '', '点击', '', '', None, None, ''), (4, '', '', '', '', '切换到新的窗口', '', '', '', '', ''), (5, '', '', '', '', '等待', '5', '', '', '', ''), (6, '审批流', '审批流的同意按钮', 'xpath=//*[@id=&quot;btnAgree&quot;]', '', '点击', '', '', None, None, ''), (7, '', '', '', '', '切换入xpathifram', '//iframe[contains(@id,&quot;ligerwindow&quot;)]', '', '', '', ''), (8, '', '', '', '', '等待', '3', '', '', '', ''), (9, '审批流', '填写意见的确定按钮', 'xpath=//*[@id=&quot;dataFormSave&quot;]', '', '点击', '', '', None, None, ''), (10, '', '', '', '', '等待', '5', '', '', '', ''), (11, '', '', '', '', '断言文本提示信息', '执行任务成功!', '', '', '', ''), (12, '', '', '', '', '等待', '5', '', '', '', ''), (13, '审批流', '同意的确定按钮', 'xpath=//*[@class=&quot;l-dialog-btn-inner&quot;]', '', '点击', '', '', None, None, ''), (14, '', '', '', '', '等待', '5', '', '', '', ''), (15, '', '', '', '', '弹出选项框', '//*[@id=&quot;app&quot;]/div/div/section/header/section/div[2]/div[4]/div/div/div[1]/span[1]', '', '', '', ''), (16, '', '', '', '', '等待', '5', '', '', '', ''), (17, '审批流', '退出系统', 'xpath=//*[text()=&quot;退出系统&quot;]', '', '点击', '', '', None, None, '')]
2018-03-08 18:34:58,871 test_case.py[line: 41] INFO: 开始执行测试步骤
2018-03-08 18:34:58,871 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：1, 操作：等待， 输入参数：5，预期结果：）
2018-03-08 18:34:58,871 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 18:34:58,871 test_case_step.py[line: 88] INFO: 执行函数：等待
2018-03-08 18:34:58,871 test_case_step.py[line: 91] INFO: 正在对输入参数:5 进行参数处理
2018-03-08 18:34:58,871 test_case_step.py[line: 108] INFO: 等待5秒
2018-03-08 18:35:03,871 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 18:35:03,871 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(4, 19, 1520505294, 1, '', '等待', '5', '', 'Pass', 'run success', 'Chrome', '2018-03-08 18:34:58', '')
2018-03-08 18:35:03,876 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 18:35:03,876 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：2, 操作：切换入iframe， 输入参数：iframe89892232323，预期结果：）
2018-03-08 18:35:03,876 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 18:35:03,876 test_case_step.py[line: 88] INFO: 执行函数：切换入iframe
2018-03-08 18:35:03,876 test_case_step.py[line: 91] INFO: 正在对输入参数:iframe89892232323 进行参数处理
2018-03-08 18:35:03,931 seleniumutil.py[line: 67] INFO: 切换至frame（id/name/xpath = iframe89892232323）成功
2018-03-08 18:35:03,931 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 18:35:03,931 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(4, 19, 1520505294, 2, '', '切换入iframe', 'iframe89892232323', '', 'Pass', 'run success', 'Chrome', '2018-03-08 18:35:3', '')
2018-03-08 18:35:03,935 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 18:35:03,935 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：审批流的链接, 步序：3, 操作：点击， 输入参数：，预期结果：）
2018-03-08 18:35:03,935 test_case_step.py[line: 38] INFO: 正在执行最普通的元素操作
2018-03-08 18:35:03,935 test_case_step.py[line: 42] INFO: 正在对选择器：selector1: xpath=html/body/div[1]/div/div/div[2]/div/div/div/div[2]/div/div[1]/ul/li[1]/div[1]，selector2:  做数据转换处理
2018-03-08 18:35:03,935 test_case_step.py[line: 45] INFO: 转换后的选择器：selector1: xpath=html/body/div[1]/div/div/div[2]/div/div/div/div[2]/div/div[1]/ul/li[1]/div[1]，selector2: 
2018-03-08 18:35:03,935 test_case_step.py[line: 47] INFO: 开始对步骤中的元素操作进行操作
2018-03-08 18:35:03,935 test_case_step.py[line: 134] INFO: 操作：点击
2018-03-08 18:35:03,935 test_case_step.py[line: 209] INFO: 开始根据元素定位器：xpath=html/body/div[1]/div/div/div[2]/div/div/div/div[2]/div/div[1]/ul/li[1]/div[1] 自定位元素
2018-03-08 18:35:03,935 test_case_step.py[line: 222] INFO: find_element_by_xpath：html/body/div[1]/div/div/div[2]/div/div/div/div[2]/div/div[1]/ul/li[1]/div[1]
2018-03-08 18:35:03,950 test_case_step.py[line: 195] INFO: 找到元素：<selenium.webdriver.remote.webelement.WebElement (session="e21c1d62862d17ea83e297b852721c35", element="0.5039194320266391-1")>
2018-03-08 18:35:04,101 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 18:35:04,101 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(4, 19, 1520505294, 3, '审批流的链接', '点击', '', '', 'Pass', '点击成功', 'Chrome', '2018-03-08 18:35:3', '')
2018-03-08 18:35:04,108 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 18:35:04,109 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：4, 操作：切换到新的窗口， 输入参数：，预期结果：）
2018-03-08 18:35:04,109 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 18:35:04,109 test_case_step.py[line: 88] INFO: 执行函数：切换到新的窗口
2018-03-08 18:35:04,137 seleniumutil.py[line: 95] INFO: 切换到新的窗口成功:CDwindow-(19F00F9957345324637BC0F816E6E82C)
2018-03-08 18:35:04,137 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 18:35:04,137 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(4, 19, 1520505294, 4, '', '切换到新的窗口', '', '', 'Pass', '切换到新窗口成功', 'Chrome', '2018-03-08 18:35:4', '')
2018-03-08 18:35:04,143 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 18:35:04,144 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：5, 操作：等待， 输入参数：5，预期结果：）
2018-03-08 18:35:04,144 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 18:35:04,144 test_case_step.py[line: 88] INFO: 执行函数：等待
2018-03-08 18:35:04,144 test_case_step.py[line: 91] INFO: 正在对输入参数:5 进行参数处理
2018-03-08 18:35:04,144 test_case_step.py[line: 108] INFO: 等待5秒
2018-03-08 18:35:09,145 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 18:35:09,145 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(4, 19, 1520505294, 5, '', '等待', '5', '', 'Pass', 'run success', 'Chrome', '2018-03-08 18:35:4', '')
2018-03-08 18:35:09,149 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 18:35:09,149 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：审批流的同意按钮, 步序：6, 操作：点击， 输入参数：，预期结果：）
2018-03-08 18:35:09,149 test_case_step.py[line: 38] INFO: 正在执行最普通的元素操作
2018-03-08 18:35:09,149 test_case_step.py[line: 42] INFO: 正在对选择器：selector1: xpath=//*[@id=&quot;btnAgree&quot;]，selector2:  做数据转换处理
2018-03-08 18:35:09,149 test_case_step.py[line: 45] INFO: 转换后的选择器：selector1: xpath=//*[@id="btnAgree"]，selector2: 
2018-03-08 18:35:09,149 test_case_step.py[line: 47] INFO: 开始对步骤中的元素操作进行操作
2018-03-08 18:35:09,150 test_case_step.py[line: 134] INFO: 操作：点击
2018-03-08 18:35:09,150 test_case_step.py[line: 209] INFO: 开始根据元素定位器：xpath=//*[@id="btnAgree"] 自定位元素
2018-03-08 18:35:09,150 test_case_step.py[line: 222] INFO: find_element_by_xpath：//*[@id="btnAgree"]
2018-03-08 18:35:10,239 test_case_step.py[line: 195] INFO: 找到元素：<selenium.webdriver.remote.webelement.WebElement (session="e21c1d62862d17ea83e297b852721c35", element="0.32958883307103437-1")>
2018-03-08 18:35:10,504 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 18:35:10,504 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(4, 19, 1520505294, 6, '审批流的同意按钮', '点击', '', '', 'Pass', '点击成功', 'Chrome', '2018-03-08 18:35:9', '')
2018-03-08 18:35:10,510 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 18:35:10,510 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：7, 操作：切换入xpathifram， 输入参数：//iframe[contains(@id,&quot;ligerwindow&quot;)]，预期结果：）
2018-03-08 18:35:10,510 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 18:35:10,510 test_case_step.py[line: 88] INFO: 执行函数：切换入xpathifram
2018-03-08 18:35:10,510 test_case_step.py[line: 91] INFO: 正在对输入参数://iframe[contains(@id,&quot;ligerwindow&quot;)] 进行参数处理
2018-03-08 18:35:10,574 seleniumutil.py[line: 77] INFO: 切换至frame（xpath = //iframe[contains(@id,"ligerwindow")]）成功
2018-03-08 18:35:10,574 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 18:35:10,574 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(4, 19, 1520505294, 7, '', '切换入xpathifram', '//iframe[contains(@id,&quot;ligerwindow&quot;)]', '', 'Pass', 'run success', 'Chrome', '2018-03-08 18:35:10', '')
2018-03-08 18:35:10,578 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 18:35:10,578 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：8, 操作：等待， 输入参数：3，预期结果：）
2018-03-08 18:35:10,578 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 18:35:10,578 test_case_step.py[line: 88] INFO: 执行函数：等待
2018-03-08 18:35:10,578 test_case_step.py[line: 91] INFO: 正在对输入参数:3 进行参数处理
2018-03-08 18:35:10,578 test_case_step.py[line: 108] INFO: 等待3秒
2018-03-08 18:35:13,578 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 18:35:13,579 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(4, 19, 1520505294, 8, '', '等待', '3', '', 'Pass', 'run success', 'Chrome', '2018-03-08 18:35:10', '')
2018-03-08 18:35:13,584 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 18:35:13,584 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：填写意见的确定按钮, 步序：9, 操作：点击， 输入参数：，预期结果：）
2018-03-08 18:35:13,584 test_case_step.py[line: 38] INFO: 正在执行最普通的元素操作
2018-03-08 18:35:13,584 test_case_step.py[line: 42] INFO: 正在对选择器：selector1: xpath=//*[@id=&quot;dataFormSave&quot;]，selector2:  做数据转换处理
2018-03-08 18:35:13,584 test_case_step.py[line: 45] INFO: 转换后的选择器：selector1: xpath=//*[@id="dataFormSave"]，selector2: 
2018-03-08 18:35:13,584 test_case_step.py[line: 47] INFO: 开始对步骤中的元素操作进行操作
2018-03-08 18:35:13,584 test_case_step.py[line: 134] INFO: 操作：点击
2018-03-08 18:35:13,584 test_case_step.py[line: 209] INFO: 开始根据元素定位器：xpath=//*[@id="dataFormSave"] 自定位元素
2018-03-08 18:35:13,584 test_case_step.py[line: 222] INFO: find_element_by_xpath：//*[@id="dataFormSave"]
2018-03-08 18:35:13,602 test_case_step.py[line: 195] INFO: 找到元素：<selenium.webdriver.remote.webelement.WebElement (session="e21c1d62862d17ea83e297b852721c35", element="0.8358507809620681-1")>
2018-03-08 18:35:13,751 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 18:35:13,751 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(4, 19, 1520505294, 9, '填写意见的确定按钮', '点击', '', '', 'Pass', '点击成功', 'Chrome', '2018-03-08 18:35:13', '')
2018-03-08 18:35:13,755 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 18:35:13,755 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：10, 操作：等待， 输入参数：5，预期结果：）
2018-03-08 18:35:13,755 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 18:35:13,755 test_case_step.py[line: 88] INFO: 执行函数：等待
2018-03-08 18:35:13,755 test_case_step.py[line: 91] INFO: 正在对输入参数:5 进行参数处理
2018-03-08 18:35:13,755 test_case_step.py[line: 108] INFO: 等待5秒
2018-03-08 18:35:18,756 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 18:35:18,756 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(4, 19, 1520505294, 10, '', '等待', '5', '', 'Pass', 'run success', 'Chrome', '2018-03-08 18:35:13', '')
2018-03-08 18:35:18,761 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 18:35:18,761 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：11, 操作：断言文本提示信息， 输入参数：执行任务成功!，预期结果：）
2018-03-08 18:35:18,761 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 18:35:18,761 test_case_step.py[line: 88] INFO: 执行函数：断言文本提示信息
2018-03-08 18:35:18,761 test_case_step.py[line: 91] INFO: 正在对输入参数:执行任务成功! 进行参数处理
2018-03-08 18:35:18,804 seleniumutil.py[line: 185] INFO: 断言文本提示信息为:执行任务成功!
2018-03-08 18:35:18,804 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 18:35:18,804 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(4, 19, 1520505294, 11, '', '断言文本提示信息', '执行任务成功!', '', 'Pass', '断言文本提示信息成功!', 'Chrome', '2018-03-08 18:35:18', '')
2018-03-08 18:35:18,808 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 18:35:18,808 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：12, 操作：等待， 输入参数：5，预期结果：）
2018-03-08 18:35:18,808 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 18:35:18,808 test_case_step.py[line: 88] INFO: 执行函数：等待
2018-03-08 18:35:18,808 test_case_step.py[line: 91] INFO: 正在对输入参数:5 进行参数处理
2018-03-08 18:35:18,808 test_case_step.py[line: 108] INFO: 等待5秒
2018-03-08 18:35:23,809 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 18:35:23,809 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(4, 19, 1520505294, 12, '', '等待', '5', '', 'Pass', 'run success', 'Chrome', '2018-03-08 18:35:18', '')
2018-03-08 18:35:23,813 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 18:35:23,813 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：同意的确定按钮, 步序：13, 操作：点击， 输入参数：，预期结果：）
2018-03-08 18:35:23,813 test_case_step.py[line: 38] INFO: 正在执行最普通的元素操作
2018-03-08 18:35:23,814 test_case_step.py[line: 42] INFO: 正在对选择器：selector1: xpath=//*[@class=&quot;l-dialog-btn-inner&quot;]，selector2:  做数据转换处理
2018-03-08 18:35:23,814 test_case_step.py[line: 45] INFO: 转换后的选择器：selector1: xpath=//*[@class="l-dialog-btn-inner"]，selector2: 
2018-03-08 18:35:23,814 test_case_step.py[line: 47] INFO: 开始对步骤中的元素操作进行操作
2018-03-08 18:35:23,814 test_case_step.py[line: 134] INFO: 操作：点击
2018-03-08 18:35:23,814 test_case_step.py[line: 209] INFO: 开始根据元素定位器：xpath=//*[@class="l-dialog-btn-inner"] 自定位元素
2018-03-08 18:35:23,814 test_case_step.py[line: 222] INFO: find_element_by_xpath：//*[@class="l-dialog-btn-inner"]
2018-03-08 18:35:23,832 test_case_step.py[line: 195] INFO: 找到元素：<selenium.webdriver.remote.webelement.WebElement (session="e21c1d62862d17ea83e297b852721c35", element="0.32958883307103437-4")>
2018-03-08 18:35:24,177 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 18:35:24,177 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(4, 19, 1520505294, 13, '同意的确定按钮', '点击', '', '', 'Pass', '点击成功', 'Chrome', '2018-03-08 18:35:23', '')
2018-03-08 18:35:24,183 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 18:35:24,184 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：14, 操作：等待， 输入参数：5，预期结果：）
2018-03-08 18:35:24,184 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 18:35:24,184 test_case_step.py[line: 88] INFO: 执行函数：等待
2018-03-08 18:35:24,184 test_case_step.py[line: 91] INFO: 正在对输入参数:5 进行参数处理
2018-03-08 18:35:24,184 test_case_step.py[line: 108] INFO: 等待5秒
2018-03-08 18:35:29,185 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 18:35:29,185 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(4, 19, 1520505294, 14, '', '等待', '5', '', 'Pass', 'run success', 'Chrome', '2018-03-08 18:35:24', '')
2018-03-08 18:35:29,190 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 18:35:29,190 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：15, 操作：弹出选项框， 输入参数：//*[@id=&quot;app&quot;]/div/div/section/header/section/div[2]/div[4]/div/div/div[1]/span[1]，预期结果：）
2018-03-08 18:35:29,190 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 18:35:29,190 test_case_step.py[line: 88] INFO: 执行函数：弹出选项框
2018-03-08 18:35:29,191 test_case_step.py[line: 91] INFO: 正在对输入参数://*[@id=&quot;app&quot;]/div/div/section/header/section/div[2]/div[4]/div/div/div[1]/span[1] 进行参数处理
2018-03-08 18:35:30,198 seleniumutil.py[line: 110] INFO: 选项框弹出失败://*[@id="app"]/div/div/section/header/section/div[2]/div[4]/div/div/div[1]/span[1]
2018-03-08 18:35:31,205 test_case_step.py[line: 282] ERROR: 截图失败:Fail
2018-03-08 18:35:31,206 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 18:35:31,206 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(4, 19, 1520505294, 15, '', '弹出选项框', '//*[@id=&quot;app&quot;]/div/div/section/header/section/div[2]/div[4]/div/div/div[1]/span[1]', '', 'Fail', '选项框弹出失败', 'Chrome', '2018-03-08 18:35:29', '')
2018-03-08 18:35:31,211 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 18:35:31,211 test_case.py[line: 46] INFO: 用例[id：19]步骤[步序：15] 运行失败，停止运行用例
2018-03-08 18:35:31,211 test_case.py[line: 58] INFO: 测试步骤执行完毕，正在记录用例运行结果到测试用例运行报表
2018-03-08 18:35:31,211 database.py[line: 58] INFO: query：INSERT INTO testcase_reporter(runHistoryId, browserType, testcaseId, testplanId, runTime, runResult) VALUES(%s, %s, %s, %s, %s, %s)  data：(1520505294, 'Chrome', 19, 4, '2018-03-08 18:34:58', 'Fail')
2018-03-08 18:35:31,217 test_case.py[line: 70] INFO: 正在获取测试用例所有测试步骤
2018-03-08 18:35:31,217 database.py[line: 106] INFO: query：(SELECT a.StepOrder AS StepOrder,c.PageName AS PageName,b.ElementName AS ElementName,b.ElementSelector AS ElementSelector,b.ElementSelector02 AS ElementSelector02,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,a.compid AS compid,a.compFolderid AS comFolderid,'' AS comName FROM testcases_steps AS a, page_elements AS b,pagesobject AS c WHERE a.TestcaseID = %s AND a.ElementId = b.Id AND b.PageId = c.Id)UNION ALL(SELECT a.steporder AS steporder,'' AS PageName,'' AS ElementSelector,'' AS ElementSelector02,'' AS ElementName,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,a.compid AS compid,a.compFolderid AS comFolderid,tc.test_name AS comName FROM testcases_steps AS a, testcases AS tc WHERE a.TestcaseID = %s AND a.compid = tc.id)UNION ALL(SELECT a.steporder AS steporder,'' AS PageName,'' AS ElementSelector,'' AS ElementSelector02,'' AS ElementName,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,'' AS compid,'' AS comFolderid,'' AS comName FROM testcases_steps AS a WHERE a.TestcaseID = %s AND NOT ISNULL(a.stepOrder)AND NOT ISNULL(a.Command) AND ISNULL(compid) AND ElementId='')ORDER BY steporder  data：(13, 13, 13)
2018-03-08 18:35:31,222 test_case.py[line: 123] INFO: 获取的测试步骤为： [(1, '', '', '', '', '断言', '深圳市金斧子网络科技有限公司-ERP', '', '', '', ''), (2, '用户登录', '用户名', 'xpath=//*[@name=&quot;username&quot;]', '', '输入', 'defang2', '', None, None, ''), (3, '用户登录', '密码', 'xpath=//*[@name=&quot;password&quot;]', '', '输入', '123', '', None, None, ''), (4, '用户登录', '登录', 'xpath=//*[@class=&quot;submit_wrap&quot;]', '', '点击', '', '', None, None, ''), (5, '', '', '', '', '等待', '3', '', '', '', ''), (6, '', '', '', '', '断言', '德芳客服', '', '', '', '')]
2018-03-08 18:35:31,222 test_case.py[line: 41] INFO: 开始执行测试步骤
2018-03-08 18:35:31,222 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：1, 操作：断言， 输入参数：深圳市金斧子网络科技有限公司-ERP，预期结果：）
2018-03-08 18:35:31,222 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 18:35:31,222 test_case_step.py[line: 88] INFO: 执行函数：断言
2018-03-08 18:35:31,222 test_case_step.py[line: 91] INFO: 正在对输入参数:深圳市金斧子网络科技有限公司-ERP 进行参数处理
2018-03-08 18:35:31,222 test_case_step.py[line: 118] INFO: 断言的标题为:深圳市金斧子网络科技有限公司-ERP
2018-03-08 18:35:33,249 test_case_step.py[line: 282] ERROR: 截图失败:Fail
2018-03-08 18:35:33,249 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 18:35:33,249 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(4, 13, 1520505294, 1, '', '断言', '深圳市金斧子网络科技有限公司-ERP', '', 'Fail', '断言失败', 'Chrome', '2018-03-08 18:35:31', '')
2018-03-08 18:35:33,254 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 18:35:33,255 test_case.py[line: 46] INFO: 用例[id：13]步骤[步序：1] 运行失败，停止运行用例
2018-03-08 18:35:33,255 test_case.py[line: 58] INFO: 测试步骤执行完毕，正在记录用例运行结果到测试用例运行报表
2018-03-08 18:35:33,255 database.py[line: 58] INFO: query：INSERT INTO testcase_reporter(runHistoryId, browserType, testcaseId, testplanId, runTime, runResult) VALUES(%s, %s, %s, %s, %s, %s)  data：(1520505294, 'Chrome', 13, 4, '2018-03-08 18:35:31', 'Fail')
2018-03-08 18:35:33,260 test_case.py[line: 70] INFO: 正在获取测试用例所有测试步骤
2018-03-08 18:35:33,260 database.py[line: 106] INFO: query：(SELECT a.StepOrder AS StepOrder,c.PageName AS PageName,b.ElementName AS ElementName,b.ElementSelector AS ElementSelector,b.ElementSelector02 AS ElementSelector02,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,a.compid AS compid,a.compFolderid AS comFolderid,'' AS comName FROM testcases_steps AS a, page_elements AS b,pagesobject AS c WHERE a.TestcaseID = %s AND a.ElementId = b.Id AND b.PageId = c.Id)UNION ALL(SELECT a.steporder AS steporder,'' AS PageName,'' AS ElementSelector,'' AS ElementSelector02,'' AS ElementName,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,a.compid AS compid,a.compFolderid AS comFolderid,tc.test_name AS comName FROM testcases_steps AS a, testcases AS tc WHERE a.TestcaseID = %s AND a.compid = tc.id)UNION ALL(SELECT a.steporder AS steporder,'' AS PageName,'' AS ElementSelector,'' AS ElementSelector02,'' AS ElementName,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,'' AS compid,'' AS comFolderid,'' AS comName FROM testcases_steps AS a WHERE a.TestcaseID = %s AND NOT ISNULL(a.stepOrder)AND NOT ISNULL(a.Command) AND ISNULL(compid) AND ElementId='')ORDER BY steporder  data：(18, 18, 18)
2018-03-08 18:35:33,265 test_case.py[line: 123] INFO: 获取的测试步骤为： [(1, '', '', '', '', '等待', '5', '', '', '', ''), (2, '', '', '', '', '切换入iframe', 'iframe89892232323', '', '', '', ''), (3, '审批流', '审批流的链接', 'xpath=html/body/div[1]/div/div/div[2]/div/div/div/div[2]/div/div[1]/ul/li[1]/div[1]', '', '点击', '', '', None, None, ''), (4, '', '', '', '', '切换到新的窗口', '', '', '', '', ''), (5, '', '', '', '', '等待', '5', '', '', '', ''), (6, '审批流', '审批流的同意按钮', 'xpath=//*[@id=&quot;btnAgree&quot;]', '', '点击', '', '', None, None, ''), (7, '', '', '', '', '等待', '5', '', '', '', ''), (8, '', '', '', '', '切换入xpathifram', '//iframe[contains(@id,&quot;ligerwindow&quot;)]', '', '', '', ''), (9, '审批流', '填写意见的确定按钮', 'xpath=//*[@id=&quot;dataFormSave&quot;]', '', '点击', '', '', None, None, ''), (10, '', '', '', '', '等待', '5', '', '', '', ''), (11, '', '', '', '', '断言文本提示信息', '执行任务成功!', '', '', '', ''), (12, '', '', '', '', '等待', '5', '', '', '', ''), (13, '审批流', '同意的确定按钮', 'xpath=//*[@class=&quot;l-dialog-btn-inner&quot;]', '', '点击', '', '', None, None, '')]
2018-03-08 18:35:33,265 test_case.py[line: 41] INFO: 开始执行测试步骤
2018-03-08 18:35:33,265 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：1, 操作：等待， 输入参数：5，预期结果：）
2018-03-08 18:35:33,265 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 18:35:33,266 test_case_step.py[line: 88] INFO: 执行函数：等待
2018-03-08 18:35:33,266 test_case_step.py[line: 91] INFO: 正在对输入参数:5 进行参数处理
2018-03-08 18:35:33,266 test_case_step.py[line: 108] INFO: 等待5秒
2018-03-08 18:35:38,267 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 18:35:38,267 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(4, 18, 1520505294, 1, '', '等待', '5', '', 'Pass', 'run success', 'Chrome', '2018-03-08 18:35:33', '')
2018-03-08 18:35:38,271 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 18:35:38,271 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：2, 操作：切换入iframe， 输入参数：iframe89892232323，预期结果：）
2018-03-08 18:35:38,271 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-08 18:35:38,271 test_case_step.py[line: 88] INFO: 执行函数：切换入iframe
2018-03-08 18:35:38,271 test_case_step.py[line: 91] INFO: 正在对输入参数:iframe89892232323 进行参数处理
2018-03-08 18:35:39,277 seleniumutil.py[line: 70] ERROR: 切换至frame（id/name/xpath = iframe89892232323）失败
2018-03-08 18:35:40,288 test_case_step.py[line: 282] ERROR: 截图失败:Fail
2018-03-08 18:35:40,289 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-08 18:35:40,289 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(4, 18, 1520505294, 2, '', '切换入iframe', 'iframe89892232323', '', 'Fail', NoSuchWindowException('no such window: window was already closed\n  (Session info: chrome=64.0.3282.186)\n  (Driver info: chromedriver=2.33.506120 (e3e53437346286c0bc2d2dc9aa4915ba81d9023f),platform=Windows NT 6.1.7601 SP1 x86_64)', None, None), 'Chrome', '2018-03-08 18:35:38', '')
2018-03-08 18:35:40,291 database.py[line: 66] ERROR: 执行数据库插入操作失败：Failed processing format-parameters; Python 'nosuchwindowexception' cannot be converted to a MySQL type
2018-03-08 18:35:40,292 test_case_step.py[line: 81] ERROR: 记录到测试步骤结果报表失败 Failed processing format-parameters; Python 'nosuchwindowexception' cannot be converted to a MySQL type
2018-03-08 18:35:40,292 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-08 18:35:40,292 test_case.py[line: 46] INFO: 用例[id：18]步骤[步序：2] 运行失败，停止运行用例
2018-03-08 18:35:40,292 test_case.py[line: 58] INFO: 测试步骤执行完毕，正在记录用例运行结果到测试用例运行报表
2018-03-08 18:35:40,292 database.py[line: 58] INFO: query：INSERT INTO testcase_reporter(runHistoryId, browserType, testcaseId, testplanId, runTime, runResult) VALUES(%s, %s, %s, %s, %s, %s)  data：(1520505294, 'Chrome', 18, 4, '2018-03-08 18:35:33', 'Fail')
2018-03-08 18:35:40,296 test_plan.py[line: 65] INFO: ####################### 测试计划已运行完毕 #######################
2018-03-08 18:35:40,296 test_plan.py[line: 66] INFO: 正在统计测试计划执行的用例总数
2018-03-08 18:35:40,296 database.py[line: 88] INFO: query：SELECT count(testcaseId)  FROM testcase_reporter  WHERE runHistoryId = %s  data：(1520505294,)
2018-03-08 18:35:40,299 test_plan.py[line: 75] INFO: 正在统计测试计划执行成功的用例总数
2018-03-08 18:35:40,299 database.py[line: 88] INFO: query：SELECT count(testcaseId)  FROM testcase_reporter WHERE runHistoryId = %s AND runResult='Pass'  data：(1520505294,)
2018-03-08 18:35:40,302 test_plan.py[line: 85] INFO: 正在统计测试计划执行失败的用例总数
2018-03-08 18:35:40,302 database.py[line: 88] INFO: query：SELECT count(testcaseId)  FROM testcase_reporter WHERE runHistoryId = %s AND runResult='Fail'  data：(1520505294,)
2018-03-08 18:35:40,304 test_plan.py[line: 95] INFO: 正在统计测试计划执行被阻塞的用例总数
2018-03-08 18:35:40,304 database.py[line: 88] INFO: query：SELECT count(testcaseId)  FROM testcase_reporter WHERE runHistoryId = %s AND runResult='Block'  data：(1520505294,)
2018-03-08 18:35:40,307 test_plan.py[line: 105] INFO: 正在统计测试计划执行成功的用例
2018-03-08 18:35:40,307 database.py[line: 106] INFO: query：SELECT testcaseId  FROM testcase_reporter WHERE runHistoryId = %s AND runResult='Pass'  data：(1520505294,)
2018-03-08 18:35:40,310 test_plan.py[line: 115] INFO: 正在统计测试计划执行失败的用例
2018-03-08 18:35:40,310 database.py[line: 106] INFO: query：SELECT testcaseId  FROM testcase_reporter WHERE runHistoryId = %s AND runResult='Fail'  data：(1520505294,)
2018-03-08 18:35:40,314 test_plan.py[line: 125] INFO: 正在统计测试计划执行被阻塞的用例
2018-03-08 18:35:40,314 database.py[line: 106] INFO: query：SELECT testcaseId  FROM testcase_reporter WHERE runHistoryId = %s AND runResult='Block'  data：(1520505294,)
2018-03-08 18:35:40,317 test_plan.py[line: 130] INFO: 没找到计划执行被阻塞的用例
2018-03-08 18:35:40,317 test_plan.py[line: 151] INFO: 正在记录测试计划运行结果到测试计划报表
2018-03-08 18:35:40,317 database.py[line: 58] INFO: query：INSERT INTO testplan_reporter(testPlanId, testPlanName, runHistoryId, browserType, runTc_total, runPassedTc_total, runFailedTc_total,runBlockedTc_total, runPassedTc, runFailedTc, runBlockedTc, runTime)VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(4, '购买记录审批流程', 1520505294, 'Chrome', 4, 1, 3, 0, '(14,)', '(19,)', '', '2018-03-08 18:34:54')
2018-03-08 18:35:40,321 main.py[line: 79] INFO: 计划运行完成，正在关闭浏览器
2018-03-08 18:35:43,456 main.py[line: 82] INFO: ####################### 测试结束 #######################
2018-03-08 18:35:43,456 main.py[line: 126] INFO: 运行完成,准备生成测试报告
2018-03-08 18:35:43,456 htmlreporter.py[line: 35] INFO: 正在查询测试计划执行统计信息（执行总数，成功数，失败数，被阻塞数）
2018-03-08 18:35:43,456 database.py[line: 88] INFO: query：SELECT runTc_total, runPassedTc_total, runFailedTc_total, runBlockedTc_total, testPlanName, testPlanId FROM testplan_reporter WHERE runHistoryId = %s  data：(1520505294,)
2018-03-08 18:35:43,461 htmlreporter.py[line: 111] INFO: 正在查询测试计划：购买记录审批流程 运行的的测试用例
2018-03-08 18:35:43,461 database.py[line: 106] INFO: query：SELECT id, runHistoryId, testcaseId, testplanId, browserType, runResult, runTime FROM testcase_reporter WHERE testplanId=%s AND runHistoryId = %s ORDER BY id ASC  data：('4', 1520505294)
2018-03-08 18:35:43,464 htmlreporter.py[line: 121] INFO: 正在记录测试计划[名称：购买记录审批流程]的测试用例运行结果到测试报告
2018-03-08 18:35:43,464 database.py[line: 88] INFO: query：SELECT test_name FROM testcases WHERE id=%s  data：(14,)
2018-03-08 18:35:43,466 database.py[line: 88] INFO: query：SELECT test_name FROM testcases WHERE id=%s  data：(19,)
2018-03-08 18:35:43,469 database.py[line: 88] INFO: query：SELECT test_name FROM testcases WHERE id=%s  data：(13,)
2018-03-08 18:35:43,472 database.py[line: 88] INFO: query：SELECT test_name FROM testcases WHERE id=%s  data：(18,)
2018-03-08 18:35:43,475 htmlreporter.py[line: 151] INFO: 正在查询测试计划：购买记录审批流程 运行的的测试用例
2018-03-08 18:35:43,475 database.py[line: 106] INFO: query：SELECT id, runHistoryId, testcaseId, testplanId, browserType, runResult, runTime  FROM testcase_reporter WHERE testplanId=%s AND runHistoryId = %s ORDER BY id ASC  data：('4', 1520505294)
2018-03-08 18:35:43,479 htmlreporter.py[line: 168] INFO: 正在查询测试用例[id=14, name=运维登录]对应的测试步骤执行明细
2018-03-08 18:35:43,479 database.py[line: 106] INFO: query：SELECT id, stepOrder, runHistoryId, elementName, command, inparams, stepRunResult, expectedResult, stepRunResultDesc, browserType, runTime, screenshotUrl FROM case_step_run_detail WHERE testcaseId=%s AND runHistoryId = %s  ORDER BY id ASC  data：('14', 1520505294)
2018-03-08 18:35:43,485 htmlreporter.py[line: 168] INFO: 正在查询测试用例[id=19, name=购买记录运维审批]对应的测试步骤执行明细
2018-03-08 18:35:43,485 database.py[line: 106] INFO: query：SELECT id, stepOrder, runHistoryId, elementName, command, inparams, stepRunResult, expectedResult, stepRunResultDesc, browserType, runTime, screenshotUrl FROM case_step_run_detail WHERE testcaseId=%s AND runHistoryId = %s  ORDER BY id ASC  data：('19', 1520505294)
2018-03-08 18:35:43,492 htmlreporter.py[line: 168] INFO: 正在查询测试用例[id=13, name=客服登录]对应的测试步骤执行明细
2018-03-08 18:35:43,492 database.py[line: 106] INFO: query：SELECT id, stepOrder, runHistoryId, elementName, command, inparams, stepRunResult, expectedResult, stepRunResultDesc, browserType, runTime, screenshotUrl FROM case_step_run_detail WHERE testcaseId=%s AND runHistoryId = %s  ORDER BY id ASC  data：('13', 1520505294)
2018-03-08 18:35:43,496 htmlreporter.py[line: 168] INFO: 正在查询测试用例[id=18, name=购买记录客服审批]对应的测试步骤执行明细
2018-03-08 18:35:43,497 database.py[line: 106] INFO: query：SELECT id, stepOrder, runHistoryId, elementName, command, inparams, stepRunResult, expectedResult, stepRunResultDesc, browserType, runTime, screenshotUrl FROM case_step_run_detail WHERE testcaseId=%s AND runHistoryId = %s  ORDER BY id ASC  data：('18', 1520505294)
2018-03-08 18:35:43,501 htmlreporter.py[line: 211] INFO: 正在设置测试报告结果文件名
2018-03-08 18:35:43,501 htmlreporter.py[line: 222] INFO: 测试报告文件名所在路径为：E:\Projects\report\test_report20180308183543.html
2018-03-08 18:35:43,501 htmlreporter.py[line: 214] INFO: 正在生产测试报告
2018-03-08 18:35:43,504 main.py[line: 130] INFO: 生成测试报告成功
2018-03-08 18:35:43,504 main.py[line: 134] INFO: 运行完成,准备上传截图
2018-03-08 18:35:43,504 ftp.py[line: 42] INFO: is connecting to ftp server 10.1.2.88 on 21
2018-03-08 18:35:43,509 ftp.py[line: 47] INFO: ready to login ftp server
2018-03-08 18:35:43,604 ftp.py[line: 49] INFO: login ftp server successfully
2018-03-08 18:35:43,605 main.py[line: 138] INFO: 正在获取要上传的截图文件
2018-03-08 18:35:43,606 main.py[line: 146] INFO: 正在上传图片到ftp服务器
2018-03-08 18:35:43,607 ftp.py[line: 55] INFO: close ftp connection successfully
2018-03-08 18:35:43,607 main.py[line: 156] INFO: 运行完成，准备发送邮件
2018-03-08 18:35:43,868 main.py[line: 162] INFO: 邮件标题为：Hi，附件为web自动化测试报告，烦请查阅邮件内容为：{'E:\\Projects\\report\\test_report20180308183543.html'}，待发送邮件附件有 【测试报告】web自动化测试报告20180308183543
2018-03-08 18:35:43,868 main.py[line: 163] INFO: 正在发送测试报告邮件...
2018-03-08 18:35:44,617 main.py[line: 166] INFO: 发送邮件成功
2018-03-08 18:35:44,617 main.py[line: 172] INFO: 正在关闭数据库
2018-03-09 14:06:04,235 globalvar.py[line: 23] INFO: #####################正在初始化全局配置#####################
2018-03-09 14:06:04,275 globalvar.py[line: 24] INFO: 正在选择数据库运行环境和站点运行环境
2018-03-09 14:06:04,275 globalvar.py[line: 34] INFO: 在测试环境执行测试，正在获取测试环境的web site
2018-03-09 14:06:04,281 globalvar.py[line: 45] INFO: 在测试环境执行测试，正在获取测试环境的数据库
2018-03-09 14:06:04,347 globalvar.py[line: 55] INFO: 正在进行ftp配置
2018-03-09 14:06:04,359 globalvar.py[line: 62] INFO: 正在获取运行模式
2018-03-09 14:06:04,360 globalvar.py[line: 66] INFO: 运行模式为:<module 'publicpkg.runmode' from 'D:\\python\\webautotest\\publicpkg\\runmode.py'>
2018-03-09 14:06:04,360 globalvar.py[line: 69] INFO: 测试计划配置:[4]
2018-03-09 14:06:04,360 globalvar.py[line: 72] INFO: 全局初始化用例配置:[123]
2018-03-09 14:06:04,360 globalvar.py[line: 75] INFO: 正在获取浏览器配置
2018-03-09 14:06:04,361 globalvar.py[line: 79] INFO: 获取需要进行测试的浏览器有：['Chrome']
2018-03-09 14:06:04,361 globalvar.py[line: 82] INFO: 正在初始化其它工具对象
2018-03-09 14:06:04,361 globalvar.py[line: 86] INFO: 正在进行截图基路径配置
2018-03-09 14:06:04,361 globalvar.py[line: 91] INFO: 截图报存基路径为：D:\python\webautotest\screentshot\
2018-03-09 14:06:04,361 globalvar.py[line: 95] INFO: 正在进行测试报告配置
2018-03-09 14:06:04,361 globalvar.py[line: 96] INFO: --1、读取测试报告路径及文件名
2018-03-09 14:06:04,362 globalvar.py[line: 101] INFO: --2、构造测试报告
2018-03-09 14:06:04,362 globalvar.py[line: 104] INFO: --3、设置报告生成路径
2018-03-09 14:06:04,362 globalvar.py[line: 107] INFO: #####################初始化全局配置完毕#####################
2018-03-09 14:06:04,404 main.py[line: 61] INFO: ####################### 开始测试 #######################
2018-03-09 14:06:10,739 test_plan.py[line: 28] INFO: 正在获取本次测试需要执行的测试用列ID列表，测试计划名称
2018-03-09 14:06:10,739 database.py[line: 88] INFO: query：SELECT testcase_list, test_round_name FROM testcase_runround WHERE id = %s   data：(4,)
2018-03-09 14:06:10,742 test_plan.py[line: 44] INFO: 获取到的的测试用例id列表为: [14, 19, 13, 18]
2018-03-09 14:06:10,742 test_plan.py[line: 48] INFO: ####################### 开始运行测试计划 #######################
2018-03-09 14:06:10,742 test_case.py[line: 17] INFO: 正在构造并初始化测试用例对象[id=14]
2018-03-09 14:06:10,743 test_case.py[line: 26] INFO: 初始测试用例完毕
2018-03-09 14:06:10,743 test_case.py[line: 17] INFO: 正在构造并初始化测试用例对象[id=19]
2018-03-09 14:06:10,743 test_case.py[line: 26] INFO: 初始测试用例完毕
2018-03-09 14:06:10,743 test_case.py[line: 17] INFO: 正在构造并初始化测试用例对象[id=13]
2018-03-09 14:06:10,743 test_case.py[line: 26] INFO: 初始测试用例完毕
2018-03-09 14:06:10,743 test_case.py[line: 17] INFO: 正在构造并初始化测试用例对象[id=18]
2018-03-09 14:06:10,743 test_case.py[line: 26] INFO: 初始测试用例完毕
2018-03-09 14:06:10,744 test_case.py[line: 70] INFO: 正在获取测试用例所有测试步骤
2018-03-09 14:06:10,744 database.py[line: 106] INFO: query：(SELECT a.StepOrder AS StepOrder,c.PageName AS PageName,b.ElementName AS ElementName,b.ElementSelector AS ElementSelector,b.ElementSelector02 AS ElementSelector02,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,a.compid AS compid,a.compFolderid AS comFolderid,'' AS comName FROM testcases_steps AS a, page_elements AS b,pagesobject AS c WHERE a.TestcaseID = %s AND a.ElementId = b.Id AND b.PageId = c.Id)UNION ALL(SELECT a.steporder AS steporder,'' AS PageName,'' AS ElementSelector,'' AS ElementSelector02,'' AS ElementName,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,a.compid AS compid,a.compFolderid AS comFolderid,tc.test_name AS comName FROM testcases_steps AS a, testcases AS tc WHERE a.TestcaseID = %s AND a.compid = tc.id)UNION ALL(SELECT a.steporder AS steporder,'' AS PageName,'' AS ElementSelector,'' AS ElementSelector02,'' AS ElementName,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,'' AS compid,'' AS comFolderid,'' AS comName FROM testcases_steps AS a WHERE a.TestcaseID = %s AND NOT ISNULL(a.stepOrder)AND NOT ISNULL(a.Command) AND ISNULL(compid) AND ElementId='')ORDER BY steporder  data：(14, 14, 14)
2018-03-09 14:06:10,756 test_case.py[line: 123] INFO: 获取的测试步骤为： [(1, '', '', '', '', '断言', '深圳市金斧子网络科技有限公司-ERP', '', '', '', ''), (2, '用户登录', '用户名', 'xpath=//*[@name=&quot;username&quot;]', '', '输入', 'defang3', '', None, None, ''), (3, '用户登录', '密码', 'xpath=//*[@name=&quot;password&quot;]', '', '输入', '123', '', None, None, ''), (4, '用户登录', '登录', 'xpath=//*[@class=&quot;submit_wrap&quot;]', '', '点击', '', '', None, None, ''), (5, '', '', '', '', '等待', '3', '', '', '', ''), (6, '', '', '', '', '断言', '德芳运维', '德芳运维', '', '', '')]
2018-03-09 14:06:10,756 test_case.py[line: 41] INFO: 开始执行测试步骤
2018-03-09 14:06:10,756 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：1, 操作：断言， 输入参数：深圳市金斧子网络科技有限公司-ERP，预期结果：）
2018-03-09 14:06:10,756 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-09 14:06:10,757 test_case_step.py[line: 88] INFO: 执行函数：断言
2018-03-09 14:06:10,757 test_case_step.py[line: 91] INFO: 正在对输入参数:深圳市金斧子网络科技有限公司-ERP 进行参数处理
2018-03-09 14:06:10,757 test_case_step.py[line: 121] INFO: 断言的标题为:深圳市金斧子网络科技有限公司-ERP
2018-03-09 14:06:10,764 seleniumutil.py[line: 185] INFO: 断言信息为：深圳市金斧子网络科技有限公司-ERP
2018-03-09 14:06:10,764 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-09 14:06:10,764 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(4, 14, 1520575570, 1, '', '断言', '深圳市金斧子网络科技有限公司-ERP', '', 'Pass', '断言成功', 'Chrome', '2018-03-09 14:6:10', '')
2018-03-09 14:06:10,770 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-09 14:06:10,770 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：用户名, 步序：2, 操作：输入， 输入参数：defang3，预期结果：）
2018-03-09 14:06:10,770 test_case_step.py[line: 38] INFO: 正在执行最普通的元素操作
2018-03-09 14:06:10,770 test_case_step.py[line: 42] INFO: 正在对选择器：selector1: xpath=//*[@name=&quot;username&quot;]，selector2:  做数据转换处理
2018-03-09 14:06:10,770 test_case_step.py[line: 45] INFO: 转换后的选择器：selector1: xpath=//*[@name="username"]，selector2: 
2018-03-09 14:06:10,770 test_case_step.py[line: 47] INFO: 开始对步骤中的元素操作进行操作
2018-03-09 14:06:10,770 test_case_step.py[line: 137] INFO: 操作：输入
2018-03-09 14:06:10,770 test_case_step.py[line: 139] INFO: 正在对输入参数:defang3 进行参数处理
2018-03-09 14:06:10,770 test_case_step.py[line: 143] INFO: 处理后的输入参数为:['defang3'] 
2018-03-09 14:06:10,770 test_case_step.py[line: 212] INFO: 开始根据元素定位器：xpath=//*[@name="username"] 自定位元素
2018-03-09 14:06:10,771 test_case_step.py[line: 225] INFO: find_element_by_xpath：//*[@name="username"]
2018-03-09 14:06:10,826 test_case_step.py[line: 198] INFO: 找到元素：<selenium.webdriver.remote.webelement.WebElement (session="42eddf36d2cfdb47b1ad61b59c3d92c1", element="0.5413400439432052-1")>
2018-03-09 14:06:10,896 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-09 14:06:10,896 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(4, 14, 1520575570, 2, '用户名', '输入', 'defang3', '', 'Pass', '输入数据成功', 'Chrome', '2018-03-09 14:6:10', '')
2018-03-09 14:06:10,903 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-09 14:06:10,903 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：密码, 步序：3, 操作：输入， 输入参数：123，预期结果：）
2018-03-09 14:06:10,903 test_case_step.py[line: 38] INFO: 正在执行最普通的元素操作
2018-03-09 14:06:10,903 test_case_step.py[line: 42] INFO: 正在对选择器：selector1: xpath=//*[@name=&quot;password&quot;]，selector2:  做数据转换处理
2018-03-09 14:06:10,903 test_case_step.py[line: 45] INFO: 转换后的选择器：selector1: xpath=//*[@name="password"]，selector2: 
2018-03-09 14:06:10,903 test_case_step.py[line: 47] INFO: 开始对步骤中的元素操作进行操作
2018-03-09 14:06:10,903 test_case_step.py[line: 137] INFO: 操作：输入
2018-03-09 14:06:10,903 test_case_step.py[line: 139] INFO: 正在对输入参数:123 进行参数处理
2018-03-09 14:06:10,903 test_case_step.py[line: 143] INFO: 处理后的输入参数为:['123'] 
2018-03-09 14:06:10,904 test_case_step.py[line: 212] INFO: 开始根据元素定位器：xpath=//*[@name="password"] 自定位元素
2018-03-09 14:06:10,904 test_case_step.py[line: 225] INFO: find_element_by_xpath：//*[@name="password"]
2018-03-09 14:06:10,922 test_case_step.py[line: 198] INFO: 找到元素：<selenium.webdriver.remote.webelement.WebElement (session="42eddf36d2cfdb47b1ad61b59c3d92c1", element="0.5413400439432052-2")>
2018-03-09 14:06:10,987 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-09 14:06:10,987 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(4, 14, 1520575570, 3, '密码', '输入', '123', '', 'Pass', '输入数据成功', 'Chrome', '2018-03-09 14:6:10', '')
2018-03-09 14:06:10,993 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-09 14:06:10,993 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：登录, 步序：4, 操作：点击， 输入参数：，预期结果：）
2018-03-09 14:06:10,993 test_case_step.py[line: 38] INFO: 正在执行最普通的元素操作
2018-03-09 14:06:10,993 test_case_step.py[line: 42] INFO: 正在对选择器：selector1: xpath=//*[@class=&quot;submit_wrap&quot;]，selector2:  做数据转换处理
2018-03-09 14:06:10,993 test_case_step.py[line: 45] INFO: 转换后的选择器：selector1: xpath=//*[@class="submit_wrap"]，selector2: 
2018-03-09 14:06:10,994 test_case_step.py[line: 47] INFO: 开始对步骤中的元素操作进行操作
2018-03-09 14:06:10,994 test_case_step.py[line: 137] INFO: 操作：点击
2018-03-09 14:06:10,994 test_case_step.py[line: 212] INFO: 开始根据元素定位器：xpath=//*[@class="submit_wrap"] 自定位元素
2018-03-09 14:06:10,994 test_case_step.py[line: 225] INFO: find_element_by_xpath：//*[@class="submit_wrap"]
2018-03-09 14:06:11,017 test_case_step.py[line: 198] INFO: 找到元素：<selenium.webdriver.remote.webelement.WebElement (session="42eddf36d2cfdb47b1ad61b59c3d92c1", element="0.5413400439432052-3")>
2018-03-09 14:06:12,512 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-09 14:06:12,512 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(4, 14, 1520575570, 4, '登录', '点击', '', '', 'Pass', '点击成功', 'Chrome', '2018-03-09 14:6:10', '')
2018-03-09 14:06:12,519 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-09 14:06:12,519 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：5, 操作：等待， 输入参数：3，预期结果：）
2018-03-09 14:06:12,519 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-09 14:06:12,519 test_case_step.py[line: 88] INFO: 执行函数：等待
2018-03-09 14:06:12,519 test_case_step.py[line: 91] INFO: 正在对输入参数:3 进行参数处理
2018-03-09 14:06:12,519 test_case_step.py[line: 111] INFO: 等待3秒
2018-03-09 14:06:15,531 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-09 14:06:15,531 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(4, 14, 1520575570, 5, '', '等待', '3', '', 'Pass', 'run success', 'Chrome', '2018-03-09 14:6:12', '')
2018-03-09 14:06:15,537 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-09 14:06:15,537 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：6, 操作：断言， 输入参数：德芳运维，预期结果：德芳运维）
2018-03-09 14:06:15,537 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-09 14:06:15,537 test_case_step.py[line: 88] INFO: 执行函数：断言
2018-03-09 14:06:15,537 test_case_step.py[line: 91] INFO: 正在对输入参数:德芳运维 进行参数处理
2018-03-09 14:06:15,537 test_case_step.py[line: 121] INFO: 断言的标题为:德芳运维
2018-03-09 14:06:15,552 seleniumutil.py[line: 185] INFO: 断言信息为：德芳运维
2018-03-09 14:06:15,553 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-09 14:06:15,553 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(4, 14, 1520575570, 6, '', '断言', '德芳运维', '德芳运维', 'Pass', '断言成功', 'Chrome', '2018-03-09 14:6:15', '')
2018-03-09 14:06:15,557 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-09 14:06:15,558 test_case.py[line: 58] INFO: 测试步骤执行完毕，正在记录用例运行结果到测试用例运行报表
2018-03-09 14:06:15,558 database.py[line: 58] INFO: query：INSERT INTO testcase_reporter(runHistoryId, browserType, testcaseId, testplanId, runTime, runResult) VALUES(%s, %s, %s, %s, %s, %s)  data：(1520575570, 'Chrome', 14, 4, '2018-03-09 14:6:10', 'Pass')
2018-03-09 14:06:15,563 test_case.py[line: 70] INFO: 正在获取测试用例所有测试步骤
2018-03-09 14:06:15,564 database.py[line: 106] INFO: query：(SELECT a.StepOrder AS StepOrder,c.PageName AS PageName,b.ElementName AS ElementName,b.ElementSelector AS ElementSelector,b.ElementSelector02 AS ElementSelector02,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,a.compid AS compid,a.compFolderid AS comFolderid,'' AS comName FROM testcases_steps AS a, page_elements AS b,pagesobject AS c WHERE a.TestcaseID = %s AND a.ElementId = b.Id AND b.PageId = c.Id)UNION ALL(SELECT a.steporder AS steporder,'' AS PageName,'' AS ElementSelector,'' AS ElementSelector02,'' AS ElementName,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,a.compid AS compid,a.compFolderid AS comFolderid,tc.test_name AS comName FROM testcases_steps AS a, testcases AS tc WHERE a.TestcaseID = %s AND a.compid = tc.id)UNION ALL(SELECT a.steporder AS steporder,'' AS PageName,'' AS ElementSelector,'' AS ElementSelector02,'' AS ElementName,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,'' AS compid,'' AS comFolderid,'' AS comName FROM testcases_steps AS a WHERE a.TestcaseID = %s AND NOT ISNULL(a.stepOrder)AND NOT ISNULL(a.Command) AND ISNULL(compid) AND ElementId='')ORDER BY steporder  data：(19, 19, 19)
2018-03-09 14:06:15,569 test_case.py[line: 123] INFO: 获取的测试步骤为： [(1, '', '', '', '', '等待', '5', '', '', '', ''), (2, '', '', '', '', '切换入iframe', 'iframe89892232323', '', '', '', ''), (3, '审批流', '审批流的链接', 'xpath=html/body/div[1]/div/div/div[2]/div/div/div/div[2]/div/div[1]/ul/li[1]/div[1]', '', '点击', '', '', None, None, ''), (4, '', '', '', '', '切换到新的窗口', '', '', '', '', ''), (5, '', '', '', '', '等待', '5', '', '', '', ''), (6, '审批流', '审批流的同意按钮', 'xpath=//*[@id=&quot;btnAgree&quot;]', '', '点击', '', '', None, None, ''), (7, '', '', '', '', '切换入xpathifram', '//iframe[contains(@id,&quot;ligerwindow&quot;)]', '', '', '', ''), (8, '', '', '', '', '等待', '3', '', '', '', ''), (9, '审批流', '填写意见的确定按钮', 'xpath=//*[@id=&quot;dataFormSave&quot;]', '', '点击', '', '', None, None, ''), (10, '', '', '', '', '等待', '5', '', '', '', ''), (11, '', '', '', '', '断言文本提示信息', '执行任务成功!', '', '', '', ''), (12, '', '', '', '', '等待', '5', '', '', '', ''), (13, '审批流', '同意的确定按钮', 'xpath=//*[@class=&quot;l-dialog-btn-inner&quot;]', '', '点击', '', '', None, None, ''), (14, '', '', '', '', '切换到原来的窗口', '', '', '', '', ''), (15, '', '', '', '', '等待', '5', '', '', '', ''), (16, '', '', '', '', '弹出选项框', '//*[@id=&quot;app&quot;]/div/div/section/header/section/div[2]/div[4]/div/div/div[1]/span[1]', '', '', '', ''), (17, '', '', '', '', '等待', '5', '', '', '', ''), (18, '审批流', '退出系统', 'xpath=//*[text()=&quot;退出系统&quot;]', '', '点击', '', '', None, None, '')]
2018-03-09 14:06:15,569 test_case.py[line: 41] INFO: 开始执行测试步骤
2018-03-09 14:06:15,569 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：1, 操作：等待， 输入参数：5，预期结果：）
2018-03-09 14:06:15,570 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-09 14:06:15,570 test_case_step.py[line: 88] INFO: 执行函数：等待
2018-03-09 14:06:15,570 test_case_step.py[line: 91] INFO: 正在对输入参数:5 进行参数处理
2018-03-09 14:06:15,570 test_case_step.py[line: 111] INFO: 等待5秒
2018-03-09 14:06:20,571 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-09 14:06:20,571 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(4, 19, 1520575570, 1, '', '等待', '5', '', 'Pass', 'run success', 'Chrome', '2018-03-09 14:6:15', '')
2018-03-09 14:06:20,576 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-09 14:06:20,576 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：2, 操作：切换入iframe， 输入参数：iframe89892232323，预期结果：）
2018-03-09 14:06:20,576 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-09 14:06:20,576 test_case_step.py[line: 88] INFO: 执行函数：切换入iframe
2018-03-09 14:06:20,576 test_case_step.py[line: 91] INFO: 正在对输入参数:iframe89892232323 进行参数处理
2018-03-09 14:06:20,594 seleniumutil.py[line: 67] INFO: 切换至frame（id/name/xpath = iframe89892232323）成功
2018-03-09 14:06:20,594 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-09 14:06:20,594 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(4, 19, 1520575570, 2, '', '切换入iframe', 'iframe89892232323', '', 'Pass', 'run success', 'Chrome', '2018-03-09 14:6:20', '')
2018-03-09 14:06:20,599 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-09 14:06:20,600 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：审批流的链接, 步序：3, 操作：点击， 输入参数：，预期结果：）
2018-03-09 14:06:20,600 test_case_step.py[line: 38] INFO: 正在执行最普通的元素操作
2018-03-09 14:06:20,600 test_case_step.py[line: 42] INFO: 正在对选择器：selector1: xpath=html/body/div[1]/div/div/div[2]/div/div/div/div[2]/div/div[1]/ul/li[1]/div[1]，selector2:  做数据转换处理
2018-03-09 14:06:20,600 test_case_step.py[line: 45] INFO: 转换后的选择器：selector1: xpath=html/body/div[1]/div/div/div[2]/div/div/div/div[2]/div/div[1]/ul/li[1]/div[1]，selector2: 
2018-03-09 14:06:20,601 test_case_step.py[line: 47] INFO: 开始对步骤中的元素操作进行操作
2018-03-09 14:06:20,601 test_case_step.py[line: 137] INFO: 操作：点击
2018-03-09 14:06:20,601 test_case_step.py[line: 212] INFO: 开始根据元素定位器：xpath=html/body/div[1]/div/div/div[2]/div/div/div/div[2]/div/div[1]/ul/li[1]/div[1] 自定位元素
2018-03-09 14:06:20,601 test_case_step.py[line: 225] INFO: find_element_by_xpath：html/body/div[1]/div/div/div[2]/div/div/div/div[2]/div/div[1]/ul/li[1]/div[1]
2018-03-09 14:06:20,649 test_case_step.py[line: 198] INFO: 找到元素：<selenium.webdriver.remote.webelement.WebElement (session="42eddf36d2cfdb47b1ad61b59c3d92c1", element="0.2058764601957499-1")>
2018-03-09 14:06:20,821 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-09 14:06:20,821 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(4, 19, 1520575570, 3, '审批流的链接', '点击', '', '', 'Pass', '点击成功', 'Chrome', '2018-03-09 14:6:20', '')
2018-03-09 14:06:20,828 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-09 14:06:20,828 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：4, 操作：切换到新的窗口， 输入参数：，预期结果：）
2018-03-09 14:06:20,828 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-09 14:06:20,828 test_case_step.py[line: 88] INFO: 执行函数：切换到新的窗口
2018-03-09 14:06:20,854 seleniumutil.py[line: 95] INFO: 切换到新的窗口成功:CDwindow-(9767B571C92F82823EABE22CD7E75633)
2018-03-09 14:06:20,855 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-09 14:06:20,855 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(4, 19, 1520575570, 4, '', '切换到新的窗口', '', '', 'Pass', '切换到新窗口成功', 'Chrome', '2018-03-09 14:6:20', '')
2018-03-09 14:06:20,860 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-09 14:06:20,860 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：5, 操作：等待， 输入参数：5，预期结果：）
2018-03-09 14:06:20,860 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-09 14:06:20,860 test_case_step.py[line: 88] INFO: 执行函数：等待
2018-03-09 14:06:20,860 test_case_step.py[line: 91] INFO: 正在对输入参数:5 进行参数处理
2018-03-09 14:06:20,861 test_case_step.py[line: 111] INFO: 等待5秒
2018-03-09 14:06:25,861 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-09 14:06:25,861 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(4, 19, 1520575570, 5, '', '等待', '5', '', 'Pass', 'run success', 'Chrome', '2018-03-09 14:6:20', '')
2018-03-09 14:06:25,866 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-09 14:06:25,866 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：审批流的同意按钮, 步序：6, 操作：点击， 输入参数：，预期结果：）
2018-03-09 14:06:25,866 test_case_step.py[line: 38] INFO: 正在执行最普通的元素操作
2018-03-09 14:06:25,866 test_case_step.py[line: 42] INFO: 正在对选择器：selector1: xpath=//*[@id=&quot;btnAgree&quot;]，selector2:  做数据转换处理
2018-03-09 14:06:25,866 test_case_step.py[line: 45] INFO: 转换后的选择器：selector1: xpath=//*[@id="btnAgree"]，selector2: 
2018-03-09 14:06:25,866 test_case_step.py[line: 47] INFO: 开始对步骤中的元素操作进行操作
2018-03-09 14:06:25,866 test_case_step.py[line: 137] INFO: 操作：点击
2018-03-09 14:06:25,866 test_case_step.py[line: 212] INFO: 开始根据元素定位器：xpath=//*[@id="btnAgree"] 自定位元素
2018-03-09 14:06:25,866 test_case_step.py[line: 225] INFO: find_element_by_xpath：//*[@id="btnAgree"]
2018-03-09 14:06:26,929 test_case_step.py[line: 198] INFO: 找到元素：<selenium.webdriver.remote.webelement.WebElement (session="42eddf36d2cfdb47b1ad61b59c3d92c1", element="0.21620865156346425-1")>
2018-03-09 14:06:27,500 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-09 14:06:27,500 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(4, 19, 1520575570, 6, '审批流的同意按钮', '点击', '', '', 'Pass', '点击成功', 'Chrome', '2018-03-09 14:6:25', '')
2018-03-09 14:06:27,505 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-09 14:06:27,506 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：7, 操作：切换入xpathifram， 输入参数：//iframe[contains(@id,&quot;ligerwindow&quot;)]，预期结果：）
2018-03-09 14:06:27,506 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-09 14:06:27,506 test_case_step.py[line: 88] INFO: 执行函数：切换入xpathifram
2018-03-09 14:06:27,506 test_case_step.py[line: 91] INFO: 正在对输入参数://iframe[contains(@id,&quot;ligerwindow&quot;)] 进行参数处理
2018-03-09 14:06:27,609 seleniumutil.py[line: 77] INFO: 切换至frame（xpath = //iframe[contains(@id,"ligerwindow")]）成功
2018-03-09 14:06:27,609 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-09 14:06:27,609 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(4, 19, 1520575570, 7, '', '切换入xpathifram', '//iframe[contains(@id,&quot;ligerwindow&quot;)]', '', 'Pass', 'run success', 'Chrome', '2018-03-09 14:6:27', '')
2018-03-09 14:06:27,615 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-09 14:06:27,615 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：8, 操作：等待， 输入参数：3，预期结果：）
2018-03-09 14:06:27,615 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-09 14:06:27,616 test_case_step.py[line: 88] INFO: 执行函数：等待
2018-03-09 14:06:27,616 test_case_step.py[line: 91] INFO: 正在对输入参数:3 进行参数处理
2018-03-09 14:06:27,616 test_case_step.py[line: 111] INFO: 等待3秒
2018-03-09 14:06:30,617 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-09 14:06:30,617 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(4, 19, 1520575570, 8, '', '等待', '3', '', 'Pass', 'run success', 'Chrome', '2018-03-09 14:6:27', '')
2018-03-09 14:06:30,622 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-09 14:06:30,623 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：填写意见的确定按钮, 步序：9, 操作：点击， 输入参数：，预期结果：）
2018-03-09 14:06:30,623 test_case_step.py[line: 38] INFO: 正在执行最普通的元素操作
2018-03-09 14:06:30,623 test_case_step.py[line: 42] INFO: 正在对选择器：selector1: xpath=//*[@id=&quot;dataFormSave&quot;]，selector2:  做数据转换处理
2018-03-09 14:06:30,623 test_case_step.py[line: 45] INFO: 转换后的选择器：selector1: xpath=//*[@id="dataFormSave"]，selector2: 
2018-03-09 14:06:30,623 test_case_step.py[line: 47] INFO: 开始对步骤中的元素操作进行操作
2018-03-09 14:06:30,623 test_case_step.py[line: 137] INFO: 操作：点击
2018-03-09 14:06:30,623 test_case_step.py[line: 212] INFO: 开始根据元素定位器：xpath=//*[@id="dataFormSave"] 自定位元素
2018-03-09 14:06:30,623 test_case_step.py[line: 225] INFO: find_element_by_xpath：//*[@id="dataFormSave"]
2018-03-09 14:06:30,645 test_case_step.py[line: 198] INFO: 找到元素：<selenium.webdriver.remote.webelement.WebElement (session="42eddf36d2cfdb47b1ad61b59c3d92c1", element="0.11382440710352526-1")>
2018-03-09 14:06:30,786 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-09 14:06:30,786 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(4, 19, 1520575570, 9, '填写意见的确定按钮', '点击', '', '', 'Pass', '点击成功', 'Chrome', '2018-03-09 14:6:30', '')
2018-03-09 14:06:30,792 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-09 14:06:30,792 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：10, 操作：等待， 输入参数：5，预期结果：）
2018-03-09 14:06:30,793 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-09 14:06:30,793 test_case_step.py[line: 88] INFO: 执行函数：等待
2018-03-09 14:06:30,793 test_case_step.py[line: 91] INFO: 正在对输入参数:5 进行参数处理
2018-03-09 14:06:30,793 test_case_step.py[line: 111] INFO: 等待5秒
2018-03-09 14:06:35,793 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-09 14:06:35,793 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(4, 19, 1520575570, 10, '', '等待', '5', '', 'Pass', 'run success', 'Chrome', '2018-03-09 14:6:30', '')
2018-03-09 14:06:35,798 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-09 14:06:35,798 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：11, 操作：断言文本提示信息， 输入参数：执行任务成功!，预期结果：）
2018-03-09 14:06:35,798 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-09 14:06:35,798 test_case_step.py[line: 88] INFO: 执行函数：断言文本提示信息
2018-03-09 14:06:35,798 test_case_step.py[line: 91] INFO: 正在对输入参数:执行任务成功! 进行参数处理
2018-03-09 14:06:35,848 seleniumutil.py[line: 197] INFO: 断言文本提示信息为:执行任务成功!
2018-03-09 14:06:35,848 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-09 14:06:35,848 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(4, 19, 1520575570, 11, '', '断言文本提示信息', '执行任务成功!', '', 'Pass', '断言文本提示信息成功!', 'Chrome', '2018-03-09 14:6:35', '')
2018-03-09 14:06:35,854 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-09 14:06:35,854 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：12, 操作：等待， 输入参数：5，预期结果：）
2018-03-09 14:06:35,854 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-09 14:06:35,854 test_case_step.py[line: 88] INFO: 执行函数：等待
2018-03-09 14:06:35,854 test_case_step.py[line: 91] INFO: 正在对输入参数:5 进行参数处理
2018-03-09 14:06:35,854 test_case_step.py[line: 111] INFO: 等待5秒
2018-03-09 14:06:40,855 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-09 14:06:40,855 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(4, 19, 1520575570, 12, '', '等待', '5', '', 'Pass', 'run success', 'Chrome', '2018-03-09 14:6:35', '')
2018-03-09 14:06:40,860 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-09 14:06:40,860 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：同意的确定按钮, 步序：13, 操作：点击， 输入参数：，预期结果：）
2018-03-09 14:06:40,860 test_case_step.py[line: 38] INFO: 正在执行最普通的元素操作
2018-03-09 14:06:40,860 test_case_step.py[line: 42] INFO: 正在对选择器：selector1: xpath=//*[@class=&quot;l-dialog-btn-inner&quot;]，selector2:  做数据转换处理
2018-03-09 14:06:40,860 test_case_step.py[line: 45] INFO: 转换后的选择器：selector1: xpath=//*[@class="l-dialog-btn-inner"]，selector2: 
2018-03-09 14:06:40,860 test_case_step.py[line: 47] INFO: 开始对步骤中的元素操作进行操作
2018-03-09 14:06:40,861 test_case_step.py[line: 137] INFO: 操作：点击
2018-03-09 14:06:40,861 test_case_step.py[line: 212] INFO: 开始根据元素定位器：xpath=//*[@class="l-dialog-btn-inner"] 自定位元素
2018-03-09 14:06:40,861 test_case_step.py[line: 225] INFO: find_element_by_xpath：//*[@class="l-dialog-btn-inner"]
2018-03-09 14:06:40,882 test_case_step.py[line: 198] INFO: 找到元素：<selenium.webdriver.remote.webelement.WebElement (session="42eddf36d2cfdb47b1ad61b59c3d92c1", element="0.21620865156346425-4")>
2018-03-09 14:06:41,218 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-09 14:06:41,218 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(4, 19, 1520575570, 13, '同意的确定按钮', '点击', '', '', 'Pass', '点击成功', 'Chrome', '2018-03-09 14:6:40', '')
2018-03-09 14:06:41,223 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-09 14:06:41,223 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：14, 操作：切换到原来的窗口， 输入参数：，预期结果：）
2018-03-09 14:06:41,223 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-09 14:06:41,223 test_case_step.py[line: 88] INFO: 执行函数：切换到原来的窗口
2018-03-09 14:06:41,260 seleniumutil.py[line: 107] INFO: 切换到原来的窗口成功:CDwindow-(337F3ED8E49766104A950E997E75065D)
2018-03-09 14:06:41,261 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-09 14:06:41,261 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(4, 19, 1520575570, 14, '', '切换到原来的窗口', '', '', 'Pass', '切换到原来的窗口成功', 'Chrome', '2018-03-09 14:6:41', '')
2018-03-09 14:06:41,265 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-09 14:06:41,265 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：15, 操作：等待， 输入参数：5，预期结果：）
2018-03-09 14:06:41,265 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-09 14:06:41,265 test_case_step.py[line: 88] INFO: 执行函数：等待
2018-03-09 14:06:41,265 test_case_step.py[line: 91] INFO: 正在对输入参数:5 进行参数处理
2018-03-09 14:06:41,266 test_case_step.py[line: 111] INFO: 等待5秒
2018-03-09 14:06:46,266 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-09 14:06:46,266 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(4, 19, 1520575570, 15, '', '等待', '5', '', 'Pass', 'run success', 'Chrome', '2018-03-09 14:6:41', '')
2018-03-09 14:06:46,271 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-09 14:06:46,271 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：16, 操作：弹出选项框， 输入参数：//*[@id=&quot;app&quot;]/div/div/section/header/section/div[2]/div[4]/div/div/div[1]/span[1]，预期结果：）
2018-03-09 14:06:46,271 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-09 14:06:46,271 test_case_step.py[line: 88] INFO: 执行函数：弹出选项框
2018-03-09 14:06:46,271 test_case_step.py[line: 91] INFO: 正在对输入参数://*[@id=&quot;app&quot;]/div/div/section/header/section/div[2]/div[4]/div/div/div[1]/span[1] 进行参数处理
2018-03-09 14:06:46,345 seleniumutil.py[line: 119] INFO: 选项框弹出成功://*[@id="app"]/div/div/section/header/section/div[2]/div[4]/div/div/div[1]/span[1]
2018-03-09 14:06:46,345 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-09 14:06:46,345 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(4, 19, 1520575570, 16, '', '弹出选项框', '//*[@id=&quot;app&quot;]/div/div/section/header/section/div[2]/div[4]/div/div/div[1]/span[1]', '', 'Pass', '选项框弹出成功', 'Chrome', '2018-03-09 14:6:46', '')
2018-03-09 14:06:46,351 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-09 14:06:46,351 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：17, 操作：等待， 输入参数：5，预期结果：）
2018-03-09 14:06:46,351 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-09 14:06:46,351 test_case_step.py[line: 88] INFO: 执行函数：等待
2018-03-09 14:06:46,351 test_case_step.py[line: 91] INFO: 正在对输入参数:5 进行参数处理
2018-03-09 14:06:46,351 test_case_step.py[line: 111] INFO: 等待5秒
2018-03-09 14:06:51,352 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-09 14:06:51,352 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(4, 19, 1520575570, 17, '', '等待', '5', '', 'Pass', 'run success', 'Chrome', '2018-03-09 14:6:46', '')
2018-03-09 14:06:51,357 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-09 14:06:51,357 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：退出系统, 步序：18, 操作：点击， 输入参数：，预期结果：）
2018-03-09 14:06:51,357 test_case_step.py[line: 38] INFO: 正在执行最普通的元素操作
2018-03-09 14:06:51,357 test_case_step.py[line: 42] INFO: 正在对选择器：selector1: xpath=//*[text()=&quot;退出系统&quot;]，selector2:  做数据转换处理
2018-03-09 14:06:51,357 test_case_step.py[line: 45] INFO: 转换后的选择器：selector1: xpath=//*[text()="退出系统"]，selector2: 
2018-03-09 14:06:51,357 test_case_step.py[line: 47] INFO: 开始对步骤中的元素操作进行操作
2018-03-09 14:06:51,357 test_case_step.py[line: 137] INFO: 操作：点击
2018-03-09 14:06:51,357 test_case_step.py[line: 212] INFO: 开始根据元素定位器：xpath=//*[text()="退出系统"] 自定位元素
2018-03-09 14:06:51,357 test_case_step.py[line: 225] INFO: find_element_by_xpath：//*[text()="退出系统"]
2018-03-09 14:06:51,377 test_case_step.py[line: 198] INFO: 找到元素：<selenium.webdriver.remote.webelement.WebElement (session="42eddf36d2cfdb47b1ad61b59c3d92c1", element="0.7304895827031599-3")>
2018-03-09 14:06:51,559 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-09 14:06:51,559 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(4, 19, 1520575570, 18, '退出系统', '点击', '', '', 'Pass', '点击成功', 'Chrome', '2018-03-09 14:6:51', '')
2018-03-09 14:06:51,566 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-09 14:06:51,566 test_case.py[line: 58] INFO: 测试步骤执行完毕，正在记录用例运行结果到测试用例运行报表
2018-03-09 14:06:51,567 database.py[line: 58] INFO: query：INSERT INTO testcase_reporter(runHistoryId, browserType, testcaseId, testplanId, runTime, runResult) VALUES(%s, %s, %s, %s, %s, %s)  data：(1520575570, 'Chrome', 19, 4, '2018-03-09 14:6:15', 'Pass')
2018-03-09 14:06:51,574 test_case.py[line: 70] INFO: 正在获取测试用例所有测试步骤
2018-03-09 14:06:51,574 database.py[line: 106] INFO: query：(SELECT a.StepOrder AS StepOrder,c.PageName AS PageName,b.ElementName AS ElementName,b.ElementSelector AS ElementSelector,b.ElementSelector02 AS ElementSelector02,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,a.compid AS compid,a.compFolderid AS comFolderid,'' AS comName FROM testcases_steps AS a, page_elements AS b,pagesobject AS c WHERE a.TestcaseID = %s AND a.ElementId = b.Id AND b.PageId = c.Id)UNION ALL(SELECT a.steporder AS steporder,'' AS PageName,'' AS ElementSelector,'' AS ElementSelector02,'' AS ElementName,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,a.compid AS compid,a.compFolderid AS comFolderid,tc.test_name AS comName FROM testcases_steps AS a, testcases AS tc WHERE a.TestcaseID = %s AND a.compid = tc.id)UNION ALL(SELECT a.steporder AS steporder,'' AS PageName,'' AS ElementSelector,'' AS ElementSelector02,'' AS ElementName,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,'' AS compid,'' AS comFolderid,'' AS comName FROM testcases_steps AS a WHERE a.TestcaseID = %s AND NOT ISNULL(a.stepOrder)AND NOT ISNULL(a.Command) AND ISNULL(compid) AND ElementId='')ORDER BY steporder  data：(13, 13, 13)
2018-03-09 14:06:51,582 test_case.py[line: 123] INFO: 获取的测试步骤为： [(1, '', '', '', '', '断言', '深圳市金斧子网络科技有限公司-ERP', '', '', '', ''), (2, '用户登录', '用户名', 'xpath=//*[@name=&quot;username&quot;]', '', '输入', 'defang2', '', None, None, ''), (3, '用户登录', '密码', 'xpath=//*[@name=&quot;password&quot;]', '', '输入', '123', '', None, None, ''), (4, '用户登录', '登录', 'xpath=//*[@class=&quot;submit_wrap&quot;]', '', '点击', '', '', None, None, ''), (5, '', '', '', '', '等待', '3', '', '', '', ''), (6, '', '', '', '', '断言', '德芳客服', '', '', '', '')]
2018-03-09 14:06:51,582 test_case.py[line: 41] INFO: 开始执行测试步骤
2018-03-09 14:06:51,582 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：1, 操作：断言， 输入参数：深圳市金斧子网络科技有限公司-ERP，预期结果：）
2018-03-09 14:06:51,582 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-09 14:06:51,582 test_case_step.py[line: 88] INFO: 执行函数：断言
2018-03-09 14:06:51,582 test_case_step.py[line: 91] INFO: 正在对输入参数:深圳市金斧子网络科技有限公司-ERP 进行参数处理
2018-03-09 14:06:51,582 test_case_step.py[line: 121] INFO: 断言的标题为:深圳市金斧子网络科技有限公司-ERP
2018-03-09 14:06:51,627 seleniumutil.py[line: 185] INFO: 断言信息为：深圳市金斧子网络科技有限公司-ERP
2018-03-09 14:06:51,628 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-09 14:06:51,628 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(4, 13, 1520575570, 1, '', '断言', '深圳市金斧子网络科技有限公司-ERP', '', 'Pass', '断言成功', 'Chrome', '2018-03-09 14:6:51', '')
2018-03-09 14:06:51,635 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-09 14:06:51,635 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：用户名, 步序：2, 操作：输入， 输入参数：defang2，预期结果：）
2018-03-09 14:06:51,635 test_case_step.py[line: 38] INFO: 正在执行最普通的元素操作
2018-03-09 14:06:51,635 test_case_step.py[line: 42] INFO: 正在对选择器：selector1: xpath=//*[@name=&quot;username&quot;]，selector2:  做数据转换处理
2018-03-09 14:06:51,635 test_case_step.py[line: 45] INFO: 转换后的选择器：selector1: xpath=//*[@name="username"]，selector2: 
2018-03-09 14:06:51,635 test_case_step.py[line: 47] INFO: 开始对步骤中的元素操作进行操作
2018-03-09 14:06:51,635 test_case_step.py[line: 137] INFO: 操作：输入
2018-03-09 14:06:51,635 test_case_step.py[line: 139] INFO: 正在对输入参数:defang2 进行参数处理
2018-03-09 14:06:51,635 test_case_step.py[line: 143] INFO: 处理后的输入参数为:['defang2'] 
2018-03-09 14:06:51,635 test_case_step.py[line: 212] INFO: 开始根据元素定位器：xpath=//*[@name="username"] 自定位元素
2018-03-09 14:06:51,636 test_case_step.py[line: 225] INFO: find_element_by_xpath：//*[@name="username"]
2018-03-09 14:06:51,657 test_case_step.py[line: 198] INFO: 找到元素：<selenium.webdriver.remote.webelement.WebElement (session="42eddf36d2cfdb47b1ad61b59c3d92c1", element="0.1418430491958118-1")>
2018-03-09 14:06:51,727 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-09 14:06:51,728 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(4, 13, 1520575570, 2, '用户名', '输入', 'defang2', '', 'Pass', '输入数据成功', 'Chrome', '2018-03-09 14:6:51', '')
2018-03-09 14:06:51,732 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-09 14:06:51,732 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：密码, 步序：3, 操作：输入， 输入参数：123，预期结果：）
2018-03-09 14:06:51,732 test_case_step.py[line: 38] INFO: 正在执行最普通的元素操作
2018-03-09 14:06:51,732 test_case_step.py[line: 42] INFO: 正在对选择器：selector1: xpath=//*[@name=&quot;password&quot;]，selector2:  做数据转换处理
2018-03-09 14:06:51,732 test_case_step.py[line: 45] INFO: 转换后的选择器：selector1: xpath=//*[@name="password"]，selector2: 
2018-03-09 14:06:51,732 test_case_step.py[line: 47] INFO: 开始对步骤中的元素操作进行操作
2018-03-09 14:06:51,733 test_case_step.py[line: 137] INFO: 操作：输入
2018-03-09 14:06:51,733 test_case_step.py[line: 139] INFO: 正在对输入参数:123 进行参数处理
2018-03-09 14:06:51,733 test_case_step.py[line: 143] INFO: 处理后的输入参数为:['123'] 
2018-03-09 14:06:51,733 test_case_step.py[line: 212] INFO: 开始根据元素定位器：xpath=//*[@name="password"] 自定位元素
2018-03-09 14:06:51,733 test_case_step.py[line: 225] INFO: find_element_by_xpath：//*[@name="password"]
2018-03-09 14:06:51,749 test_case_step.py[line: 198] INFO: 找到元素：<selenium.webdriver.remote.webelement.WebElement (session="42eddf36d2cfdb47b1ad61b59c3d92c1", element="0.1418430491958118-2")>
2018-03-09 14:06:51,811 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-09 14:06:51,811 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(4, 13, 1520575570, 3, '密码', '输入', '123', '', 'Pass', '输入数据成功', 'Chrome', '2018-03-09 14:6:51', '')
2018-03-09 14:06:51,817 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-09 14:06:51,817 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：登录, 步序：4, 操作：点击， 输入参数：，预期结果：）
2018-03-09 14:06:51,817 test_case_step.py[line: 38] INFO: 正在执行最普通的元素操作
2018-03-09 14:06:51,817 test_case_step.py[line: 42] INFO: 正在对选择器：selector1: xpath=//*[@class=&quot;submit_wrap&quot;]，selector2:  做数据转换处理
2018-03-09 14:06:51,818 test_case_step.py[line: 45] INFO: 转换后的选择器：selector1: xpath=//*[@class="submit_wrap"]，selector2: 
2018-03-09 14:06:51,818 test_case_step.py[line: 47] INFO: 开始对步骤中的元素操作进行操作
2018-03-09 14:06:51,818 test_case_step.py[line: 137] INFO: 操作：点击
2018-03-09 14:06:51,818 test_case_step.py[line: 212] INFO: 开始根据元素定位器：xpath=//*[@class="submit_wrap"] 自定位元素
2018-03-09 14:06:51,818 test_case_step.py[line: 225] INFO: find_element_by_xpath：//*[@class="submit_wrap"]
2018-03-09 14:06:51,837 test_case_step.py[line: 198] INFO: 找到元素：<selenium.webdriver.remote.webelement.WebElement (session="42eddf36d2cfdb47b1ad61b59c3d92c1", element="0.1418430491958118-3")>
2018-03-09 14:06:52,883 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-09 14:06:52,884 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(4, 13, 1520575570, 4, '登录', '点击', '', '', 'Pass', '点击成功', 'Chrome', '2018-03-09 14:6:51', '')
2018-03-09 14:06:52,894 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-09 14:06:52,895 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：5, 操作：等待， 输入参数：3，预期结果：）
2018-03-09 14:06:52,895 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-09 14:06:52,895 test_case_step.py[line: 88] INFO: 执行函数：等待
2018-03-09 14:06:52,895 test_case_step.py[line: 91] INFO: 正在对输入参数:3 进行参数处理
2018-03-09 14:06:52,895 test_case_step.py[line: 111] INFO: 等待3秒
2018-03-09 14:06:55,896 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-09 14:06:55,896 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(4, 13, 1520575570, 5, '', '等待', '3', '', 'Pass', 'run success', 'Chrome', '2018-03-09 14:6:52', '')
2018-03-09 14:06:55,900 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-09 14:06:55,901 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：6, 操作：断言， 输入参数：德芳客服，预期结果：）
2018-03-09 14:06:55,901 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-09 14:06:55,901 test_case_step.py[line: 88] INFO: 执行函数：断言
2018-03-09 14:06:55,901 test_case_step.py[line: 91] INFO: 正在对输入参数:德芳客服 进行参数处理
2018-03-09 14:06:55,901 test_case_step.py[line: 121] INFO: 断言的标题为:德芳客服
2018-03-09 14:06:55,914 seleniumutil.py[line: 185] INFO: 断言信息为：德芳客服
2018-03-09 14:06:55,914 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-09 14:06:55,914 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(4, 13, 1520575570, 6, '', '断言', '德芳客服', '', 'Pass', '断言成功', 'Chrome', '2018-03-09 14:6:55', '')
2018-03-09 14:06:55,920 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-09 14:06:55,920 test_case.py[line: 58] INFO: 测试步骤执行完毕，正在记录用例运行结果到测试用例运行报表
2018-03-09 14:06:55,920 database.py[line: 58] INFO: query：INSERT INTO testcase_reporter(runHistoryId, browserType, testcaseId, testplanId, runTime, runResult) VALUES(%s, %s, %s, %s, %s, %s)  data：(1520575570, 'Chrome', 13, 4, '2018-03-09 14:6:51', 'Pass')
2018-03-09 14:06:55,925 test_case.py[line: 70] INFO: 正在获取测试用例所有测试步骤
2018-03-09 14:06:55,925 database.py[line: 106] INFO: query：(SELECT a.StepOrder AS StepOrder,c.PageName AS PageName,b.ElementName AS ElementName,b.ElementSelector AS ElementSelector,b.ElementSelector02 AS ElementSelector02,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,a.compid AS compid,a.compFolderid AS comFolderid,'' AS comName FROM testcases_steps AS a, page_elements AS b,pagesobject AS c WHERE a.TestcaseID = %s AND a.ElementId = b.Id AND b.PageId = c.Id)UNION ALL(SELECT a.steporder AS steporder,'' AS PageName,'' AS ElementSelector,'' AS ElementSelector02,'' AS ElementName,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,a.compid AS compid,a.compFolderid AS comFolderid,tc.test_name AS comName FROM testcases_steps AS a, testcases AS tc WHERE a.TestcaseID = %s AND a.compid = tc.id)UNION ALL(SELECT a.steporder AS steporder,'' AS PageName,'' AS ElementSelector,'' AS ElementSelector02,'' AS ElementName,a.Command AS Command, a.InParas AS InParas,a.OutParas AS OutParas,'' AS compid,'' AS comFolderid,'' AS comName FROM testcases_steps AS a WHERE a.TestcaseID = %s AND NOT ISNULL(a.stepOrder)AND NOT ISNULL(a.Command) AND ISNULL(compid) AND ElementId='')ORDER BY steporder  data：(18, 18, 18)
2018-03-09 14:06:55,930 test_case.py[line: 123] INFO: 获取的测试步骤为： [(1, '', '', '', '', '等待', '5', '', '', '', ''), (2, '', '', '', '', '切换入iframe', 'iframe89892232323', '', '', '', ''), (3, '审批流', '审批流的链接', 'xpath=html/body/div[1]/div/div/div[2]/div/div/div/div[2]/div/div[1]/ul/li[1]/div[1]', '', '点击', '', '', None, None, ''), (4, '', '', '', '', '切换到新的窗口', '', '', '', '', ''), (5, '', '', '', '', '等待', '5', '', '', '', ''), (6, '审批流', '审批流的同意按钮', 'xpath=//*[@id=&quot;btnAgree&quot;]', '', '点击', '', '', None, None, ''), (7, '', '', '', '', '等待', '5', '', '', '', ''), (8, '', '', '', '', '切换入xpathifram', '//iframe[contains(@id,&quot;ligerwindow&quot;)]', '', '', '', ''), (9, '审批流', '填写意见的确定按钮', 'xpath=//*[@id=&quot;dataFormSave&quot;]', '', '点击', '', '', None, None, ''), (10, '', '', '', '', '等待', '5', '', '', '', ''), (11, '', '', '', '', '断言文本提示信息', '执行任务成功!', '', '', '', ''), (12, '', '', '', '', '等待', '5', '', '', '', ''), (13, '审批流', '同意的确定按钮', 'xpath=//*[@class=&quot;l-dialog-btn-inner&quot;]', '', '点击', '', '', None, None, '')]
2018-03-09 14:06:55,931 test_case.py[line: 41] INFO: 开始执行测试步骤
2018-03-09 14:06:55,931 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：1, 操作：等待， 输入参数：5，预期结果：）
2018-03-09 14:06:55,931 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-09 14:06:55,931 test_case_step.py[line: 88] INFO: 执行函数：等待
2018-03-09 14:06:55,931 test_case_step.py[line: 91] INFO: 正在对输入参数:5 进行参数处理
2018-03-09 14:06:55,931 test_case_step.py[line: 111] INFO: 等待5秒
2018-03-09 14:07:00,932 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-09 14:07:00,932 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(4, 18, 1520575570, 1, '', '等待', '5', '', 'Pass', 'run success', 'Chrome', '2018-03-09 14:6:55', '')
2018-03-09 14:07:00,937 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-09 14:07:00,938 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：2, 操作：切换入iframe， 输入参数：iframe89892232323，预期结果：）
2018-03-09 14:07:00,938 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-09 14:07:00,938 test_case_step.py[line: 88] INFO: 执行函数：切换入iframe
2018-03-09 14:07:00,938 test_case_step.py[line: 91] INFO: 正在对输入参数:iframe89892232323 进行参数处理
2018-03-09 14:07:00,956 seleniumutil.py[line: 67] INFO: 切换至frame（id/name/xpath = iframe89892232323）成功
2018-03-09 14:07:00,956 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-09 14:07:00,956 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(4, 18, 1520575570, 2, '', '切换入iframe', 'iframe89892232323', '', 'Pass', 'run success', 'Chrome', '2018-03-09 14:7:0', '')
2018-03-09 14:07:00,961 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-09 14:07:00,961 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：审批流的链接, 步序：3, 操作：点击， 输入参数：，预期结果：）
2018-03-09 14:07:00,961 test_case_step.py[line: 38] INFO: 正在执行最普通的元素操作
2018-03-09 14:07:00,961 test_case_step.py[line: 42] INFO: 正在对选择器：selector1: xpath=html/body/div[1]/div/div/div[2]/div/div/div/div[2]/div/div[1]/ul/li[1]/div[1]，selector2:  做数据转换处理
2018-03-09 14:07:00,961 test_case_step.py[line: 45] INFO: 转换后的选择器：selector1: xpath=html/body/div[1]/div/div/div[2]/div/div/div/div[2]/div/div[1]/ul/li[1]/div[1]，selector2: 
2018-03-09 14:07:00,962 test_case_step.py[line: 47] INFO: 开始对步骤中的元素操作进行操作
2018-03-09 14:07:00,962 test_case_step.py[line: 137] INFO: 操作：点击
2018-03-09 14:07:00,962 test_case_step.py[line: 212] INFO: 开始根据元素定位器：xpath=html/body/div[1]/div/div/div[2]/div/div/div/div[2]/div/div[1]/ul/li[1]/div[1] 自定位元素
2018-03-09 14:07:00,962 test_case_step.py[line: 225] INFO: find_element_by_xpath：html/body/div[1]/div/div/div[2]/div/div/div/div[2]/div/div[1]/ul/li[1]/div[1]
2018-03-09 14:07:00,981 test_case_step.py[line: 198] INFO: 找到元素：<selenium.webdriver.remote.webelement.WebElement (session="42eddf36d2cfdb47b1ad61b59c3d92c1", element="0.702525940269177-1")>
2018-03-09 14:07:01,131 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-09 14:07:01,131 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(4, 18, 1520575570, 3, '审批流的链接', '点击', '', '', 'Pass', '点击成功', 'Chrome', '2018-03-09 14:7:0', '')
2018-03-09 14:07:01,137 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-09 14:07:01,138 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：4, 操作：切换到新的窗口， 输入参数：，预期结果：）
2018-03-09 14:07:01,138 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-09 14:07:01,138 test_case_step.py[line: 88] INFO: 执行函数：切换到新的窗口
2018-03-09 14:07:01,158 seleniumutil.py[line: 95] INFO: 切换到新的窗口成功:CDwindow-(C621EBFA571301B59A7CFAB406B0811D)
2018-03-09 14:07:01,159 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-09 14:07:01,160 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(4, 18, 1520575570, 4, '', '切换到新的窗口', '', '', 'Pass', '切换到新窗口成功', 'Chrome', '2018-03-09 14:7:1', '')
2018-03-09 14:07:01,167 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-09 14:07:01,167 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：5, 操作：等待， 输入参数：5，预期结果：）
2018-03-09 14:07:01,168 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-09 14:07:01,168 test_case_step.py[line: 88] INFO: 执行函数：等待
2018-03-09 14:07:01,168 test_case_step.py[line: 91] INFO: 正在对输入参数:5 进行参数处理
2018-03-09 14:07:01,168 test_case_step.py[line: 111] INFO: 等待5秒
2018-03-09 14:07:06,168 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-09 14:07:06,168 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(4, 18, 1520575570, 5, '', '等待', '5', '', 'Pass', 'run success', 'Chrome', '2018-03-09 14:7:1', '')
2018-03-09 14:07:06,173 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-09 14:07:06,174 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：审批流的同意按钮, 步序：6, 操作：点击， 输入参数：，预期结果：）
2018-03-09 14:07:06,174 test_case_step.py[line: 38] INFO: 正在执行最普通的元素操作
2018-03-09 14:07:06,174 test_case_step.py[line: 42] INFO: 正在对选择器：selector1: xpath=//*[@id=&quot;btnAgree&quot;]，selector2:  做数据转换处理
2018-03-09 14:07:06,174 test_case_step.py[line: 45] INFO: 转换后的选择器：selector1: xpath=//*[@id="btnAgree"]，selector2: 
2018-03-09 14:07:06,174 test_case_step.py[line: 47] INFO: 开始对步骤中的元素操作进行操作
2018-03-09 14:07:06,174 test_case_step.py[line: 137] INFO: 操作：点击
2018-03-09 14:07:06,174 test_case_step.py[line: 212] INFO: 开始根据元素定位器：xpath=//*[@id="btnAgree"] 自定位元素
2018-03-09 14:07:06,174 test_case_step.py[line: 225] INFO: find_element_by_xpath：//*[@id="btnAgree"]
2018-03-09 14:07:07,223 test_case_step.py[line: 198] INFO: 找到元素：<selenium.webdriver.remote.webelement.WebElement (session="42eddf36d2cfdb47b1ad61b59c3d92c1", element="0.1790264659107219-1")>
2018-03-09 14:07:07,573 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-09 14:07:07,574 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(4, 18, 1520575570, 6, '审批流的同意按钮', '点击', '', '', 'Pass', '点击成功', 'Chrome', '2018-03-09 14:7:6', '')
2018-03-09 14:07:07,579 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-09 14:07:07,579 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：7, 操作：等待， 输入参数：5，预期结果：）
2018-03-09 14:07:07,579 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-09 14:07:07,579 test_case_step.py[line: 88] INFO: 执行函数：等待
2018-03-09 14:07:07,579 test_case_step.py[line: 91] INFO: 正在对输入参数:5 进行参数处理
2018-03-09 14:07:07,579 test_case_step.py[line: 111] INFO: 等待5秒
2018-03-09 14:07:12,581 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-09 14:07:12,581 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(4, 18, 1520575570, 7, '', '等待', '5', '', 'Pass', 'run success', 'Chrome', '2018-03-09 14:7:7', '')
2018-03-09 14:07:12,587 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-09 14:07:12,587 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：8, 操作：切换入xpathifram， 输入参数：//iframe[contains(@id,&quot;ligerwindow&quot;)]，预期结果：）
2018-03-09 14:07:12,587 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-09 14:07:12,587 test_case_step.py[line: 88] INFO: 执行函数：切换入xpathifram
2018-03-09 14:07:12,587 test_case_step.py[line: 91] INFO: 正在对输入参数://iframe[contains(@id,&quot;ligerwindow&quot;)] 进行参数处理
2018-03-09 14:07:12,633 seleniumutil.py[line: 77] INFO: 切换至frame（xpath = //iframe[contains(@id,"ligerwindow")]）成功
2018-03-09 14:07:12,633 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-09 14:07:12,633 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(4, 18, 1520575570, 8, '', '切换入xpathifram', '//iframe[contains(@id,&quot;ligerwindow&quot;)]', '', 'Pass', 'run success', 'Chrome', '2018-03-09 14:7:12', '')
2018-03-09 14:07:12,637 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-09 14:07:12,637 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：填写意见的确定按钮, 步序：9, 操作：点击， 输入参数：，预期结果：）
2018-03-09 14:07:12,637 test_case_step.py[line: 38] INFO: 正在执行最普通的元素操作
2018-03-09 14:07:12,638 test_case_step.py[line: 42] INFO: 正在对选择器：selector1: xpath=//*[@id=&quot;dataFormSave&quot;]，selector2:  做数据转换处理
2018-03-09 14:07:12,638 test_case_step.py[line: 45] INFO: 转换后的选择器：selector1: xpath=//*[@id="dataFormSave"]，selector2: 
2018-03-09 14:07:12,638 test_case_step.py[line: 47] INFO: 开始对步骤中的元素操作进行操作
2018-03-09 14:07:12,638 test_case_step.py[line: 137] INFO: 操作：点击
2018-03-09 14:07:12,638 test_case_step.py[line: 212] INFO: 开始根据元素定位器：xpath=//*[@id="dataFormSave"] 自定位元素
2018-03-09 14:07:12,638 test_case_step.py[line: 225] INFO: find_element_by_xpath：//*[@id="dataFormSave"]
2018-03-09 14:07:12,661 test_case_step.py[line: 198] INFO: 找到元素：<selenium.webdriver.remote.webelement.WebElement (session="42eddf36d2cfdb47b1ad61b59c3d92c1", element="0.466144767909199-1")>
2018-03-09 14:07:12,786 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-09 14:07:12,787 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(4, 18, 1520575570, 9, '填写意见的确定按钮', '点击', '', '', 'Pass', '点击成功', 'Chrome', '2018-03-09 14:7:12', '')
2018-03-09 14:07:12,794 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-09 14:07:12,795 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：10, 操作：等待， 输入参数：5，预期结果：）
2018-03-09 14:07:12,795 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-09 14:07:12,795 test_case_step.py[line: 88] INFO: 执行函数：等待
2018-03-09 14:07:12,795 test_case_step.py[line: 91] INFO: 正在对输入参数:5 进行参数处理
2018-03-09 14:07:12,795 test_case_step.py[line: 111] INFO: 等待5秒
2018-03-09 14:07:17,796 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-09 14:07:17,796 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(4, 18, 1520575570, 10, '', '等待', '5', '', 'Pass', 'run success', 'Chrome', '2018-03-09 14:7:12', '')
2018-03-09 14:07:17,800 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-09 14:07:17,801 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：11, 操作：断言文本提示信息， 输入参数：执行任务成功!，预期结果：）
2018-03-09 14:07:17,801 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-09 14:07:17,801 test_case_step.py[line: 88] INFO: 执行函数：断言文本提示信息
2018-03-09 14:07:17,801 test_case_step.py[line: 91] INFO: 正在对输入参数:执行任务成功! 进行参数处理
2018-03-09 14:07:17,843 seleniumutil.py[line: 197] INFO: 断言文本提示信息为:执行任务成功!
2018-03-09 14:07:17,843 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-09 14:07:17,843 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(4, 18, 1520575570, 11, '', '断言文本提示信息', '执行任务成功!', '', 'Pass', '断言文本提示信息成功!', 'Chrome', '2018-03-09 14:7:17', '')
2018-03-09 14:07:17,848 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-09 14:07:17,848 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：, 步序：12, 操作：等待， 输入参数：5，预期结果：）
2018-03-09 14:07:17,849 test_case_step.py[line: 30] INFO: 正在执行函数操作
2018-03-09 14:07:17,849 test_case_step.py[line: 88] INFO: 执行函数：等待
2018-03-09 14:07:17,849 test_case_step.py[line: 91] INFO: 正在对输入参数:5 进行参数处理
2018-03-09 14:07:17,849 test_case_step.py[line: 111] INFO: 等待5秒
2018-03-09 14:07:22,850 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-09 14:07:22,850 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(4, 18, 1520575570, 12, '', '等待', '5', '', 'Pass', 'run success', 'Chrome', '2018-03-09 14:7:17', '')
2018-03-09 14:07:22,856 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-09 14:07:22,856 test_case_step.py[line: 27] INFO: 步骤信息（元素名称：同意的确定按钮, 步序：13, 操作：点击， 输入参数：，预期结果：）
2018-03-09 14:07:22,856 test_case_step.py[line: 38] INFO: 正在执行最普通的元素操作
2018-03-09 14:07:22,856 test_case_step.py[line: 42] INFO: 正在对选择器：selector1: xpath=//*[@class=&quot;l-dialog-btn-inner&quot;]，selector2:  做数据转换处理
2018-03-09 14:07:22,856 test_case_step.py[line: 45] INFO: 转换后的选择器：selector1: xpath=//*[@class="l-dialog-btn-inner"]，selector2: 
2018-03-09 14:07:22,857 test_case_step.py[line: 47] INFO: 开始对步骤中的元素操作进行操作
2018-03-09 14:07:22,857 test_case_step.py[line: 137] INFO: 操作：点击
2018-03-09 14:07:22,857 test_case_step.py[line: 212] INFO: 开始根据元素定位器：xpath=//*[@class="l-dialog-btn-inner"] 自定位元素
2018-03-09 14:07:22,857 test_case_step.py[line: 225] INFO: find_element_by_xpath：//*[@class="l-dialog-btn-inner"]
2018-03-09 14:07:22,878 test_case_step.py[line: 198] INFO: 找到元素：<selenium.webdriver.remote.webelement.WebElement (session="42eddf36d2cfdb47b1ad61b59c3d92c1", element="0.1790264659107219-4")>
2018-03-09 14:07:23,236 test_case_step.py[line: 73] INFO: 正在记录测试步骤运行结果到测试步骤结果报表
2018-03-09 14:07:23,237 database.py[line: 58] INFO: query：INSERT INTO case_step_run_detail(testplanId, testcaseId, runHistoryId, stepOrder, elementName, command, inparams, expectedResult, stepRunResult, stepRunResultDesc, browserType, runTime, screenshotUrl) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(4, 18, 1520575570, 13, '同意的确定按钮', '点击', '', '', 'Pass', '点击成功', 'Chrome', '2018-03-09 14:7:22', '')
2018-03-09 14:07:23,248 test_case_step.py[line: 83] INFO: 返回步骤运行结果给测试用例
2018-03-09 14:07:23,248 test_case.py[line: 58] INFO: 测试步骤执行完毕，正在记录用例运行结果到测试用例运行报表
2018-03-09 14:07:23,248 database.py[line: 58] INFO: query：INSERT INTO testcase_reporter(runHistoryId, browserType, testcaseId, testplanId, runTime, runResult) VALUES(%s, %s, %s, %s, %s, %s)  data：(1520575570, 'Chrome', 18, 4, '2018-03-09 14:6:55', 'Pass')
2018-03-09 14:07:23,253 test_plan.py[line: 65] INFO: ####################### 测试计划已运行完毕 #######################
2018-03-09 14:07:23,253 test_plan.py[line: 66] INFO: 正在统计测试计划执行的用例总数
2018-03-09 14:07:23,253 database.py[line: 88] INFO: query：SELECT count(testcaseId)  FROM testcase_reporter  WHERE runHistoryId = %s  data：(1520575570,)
2018-03-09 14:07:23,258 test_plan.py[line: 75] INFO: 正在统计测试计划执行成功的用例总数
2018-03-09 14:07:23,258 database.py[line: 88] INFO: query：SELECT count(testcaseId)  FROM testcase_reporter WHERE runHistoryId = %s AND runResult='Pass'  data：(1520575570,)
2018-03-09 14:07:23,261 test_plan.py[line: 85] INFO: 正在统计测试计划执行失败的用例总数
2018-03-09 14:07:23,261 database.py[line: 88] INFO: query：SELECT count(testcaseId)  FROM testcase_reporter WHERE runHistoryId = %s AND runResult='Fail'  data：(1520575570,)
2018-03-09 14:07:23,265 test_plan.py[line: 95] INFO: 正在统计测试计划执行被阻塞的用例总数
2018-03-09 14:07:23,265 database.py[line: 88] INFO: query：SELECT count(testcaseId)  FROM testcase_reporter WHERE runHistoryId = %s AND runResult='Block'  data：(1520575570,)
2018-03-09 14:07:23,270 test_plan.py[line: 105] INFO: 正在统计测试计划执行成功的用例
2018-03-09 14:07:23,270 database.py[line: 106] INFO: query：SELECT testcaseId  FROM testcase_reporter WHERE runHistoryId = %s AND runResult='Pass'  data：(1520575570,)
2018-03-09 14:07:23,275 test_plan.py[line: 115] INFO: 正在统计测试计划执行失败的用例
2018-03-09 14:07:23,275 database.py[line: 106] INFO: query：SELECT testcaseId  FROM testcase_reporter WHERE runHistoryId = %s AND runResult='Fail'  data：(1520575570,)
2018-03-09 14:07:23,278 test_plan.py[line: 120] INFO: 没找到执行失败的用例
2018-03-09 14:07:23,279 test_plan.py[line: 125] INFO: 正在统计测试计划执行被阻塞的用例
2018-03-09 14:07:23,279 database.py[line: 106] INFO: query：SELECT testcaseId  FROM testcase_reporter WHERE runHistoryId = %s AND runResult='Block'  data：(1520575570,)
2018-03-09 14:07:23,282 test_plan.py[line: 130] INFO: 没找到计划执行被阻塞的用例
2018-03-09 14:07:23,282 test_plan.py[line: 151] INFO: 正在记录测试计划运行结果到测试计划报表
2018-03-09 14:07:23,282 database.py[line: 58] INFO: query：INSERT INTO testplan_reporter(testPlanId, testPlanName, runHistoryId, browserType, runTc_total, runPassedTc_total, runFailedTc_total,runBlockedTc_total, runPassedTc, runFailedTc, runBlockedTc, runTime)VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：(4, '购买记录审批流程', 1520575570, 'Chrome', 4, 4, 0, 0, '(14,)', '', '', '2018-03-09 14:6:10')
2018-03-09 14:07:23,286 main.py[line: 79] INFO: 计划运行完成，正在关闭浏览器
2018-03-09 14:07:26,532 main.py[line: 82] INFO: ####################### 测试结束 #######################
2018-03-09 14:07:26,532 main.py[line: 126] INFO: 运行完成,准备生成测试报告
2018-03-09 14:07:26,532 htmlreporter.py[line: 35] INFO: 正在查询测试计划执行统计信息（执行总数，成功数，失败数，被阻塞数）
2018-03-09 14:07:26,532 database.py[line: 88] INFO: query：SELECT runTc_total, runPassedTc_total, runFailedTc_total, runBlockedTc_total, testPlanName, testPlanId FROM testplan_reporter WHERE runHistoryId = %s  data：(1520575570,)
2018-03-09 14:07:26,536 htmlreporter.py[line: 111] INFO: 正在查询测试计划：购买记录审批流程 运行的的测试用例
2018-03-09 14:07:26,536 database.py[line: 106] INFO: query：SELECT id, runHistoryId, testcaseId, testplanId, browserType, runResult, runTime FROM testcase_reporter WHERE testplanId=%s AND runHistoryId = %s ORDER BY id ASC  data：('4', 1520575570)
2018-03-09 14:07:26,541 htmlreporter.py[line: 121] INFO: 正在记录测试计划[名称：购买记录审批流程]的测试用例运行结果到测试报告
2018-03-09 14:07:26,541 database.py[line: 88] INFO: query：SELECT test_name FROM testcases WHERE id=%s  data：(14,)
2018-03-09 14:07:26,545 database.py[line: 88] INFO: query：SELECT test_name FROM testcases WHERE id=%s  data：(19,)
2018-03-09 14:07:26,548 database.py[line: 88] INFO: query：SELECT test_name FROM testcases WHERE id=%s  data：(13,)
2018-03-09 14:07:26,551 database.py[line: 88] INFO: query：SELECT test_name FROM testcases WHERE id=%s  data：(18,)
2018-03-09 14:07:26,554 htmlreporter.py[line: 151] INFO: 正在查询测试计划：购买记录审批流程 运行的的测试用例
2018-03-09 14:07:26,554 database.py[line: 106] INFO: query：SELECT id, runHistoryId, testcaseId, testplanId, browserType, runResult, runTime  FROM testcase_reporter WHERE testplanId=%s AND runHistoryId = %s ORDER BY id ASC  data：('4', 1520575570)
2018-03-09 14:07:26,559 htmlreporter.py[line: 168] INFO: 正在查询测试用例[id=14, name=运维登录]对应的测试步骤执行明细
2018-03-09 14:07:26,560 database.py[line: 106] INFO: query：SELECT id, stepOrder, runHistoryId, elementName, command, inparams, stepRunResult, expectedResult, stepRunResultDesc, browserType, runTime, screenshotUrl FROM case_step_run_detail WHERE testcaseId=%s AND runHistoryId = %s  ORDER BY id ASC  data：('14', 1520575570)
2018-03-09 14:07:26,566 htmlreporter.py[line: 168] INFO: 正在查询测试用例[id=19, name=购买记录运维审批]对应的测试步骤执行明细
2018-03-09 14:07:26,566 database.py[line: 106] INFO: query：SELECT id, stepOrder, runHistoryId, elementName, command, inparams, stepRunResult, expectedResult, stepRunResultDesc, browserType, runTime, screenshotUrl FROM case_step_run_detail WHERE testcaseId=%s AND runHistoryId = %s  ORDER BY id ASC  data：('19', 1520575570)
2018-03-09 14:07:26,574 htmlreporter.py[line: 168] INFO: 正在查询测试用例[id=13, name=客服登录]对应的测试步骤执行明细
2018-03-09 14:07:26,574 database.py[line: 106] INFO: query：SELECT id, stepOrder, runHistoryId, elementName, command, inparams, stepRunResult, expectedResult, stepRunResultDesc, browserType, runTime, screenshotUrl FROM case_step_run_detail WHERE testcaseId=%s AND runHistoryId = %s  ORDER BY id ASC  data：('13', 1520575570)
2018-03-09 14:07:26,579 htmlreporter.py[line: 168] INFO: 正在查询测试用例[id=18, name=购买记录客服审批]对应的测试步骤执行明细
2018-03-09 14:07:26,580 database.py[line: 106] INFO: query：SELECT id, stepOrder, runHistoryId, elementName, command, inparams, stepRunResult, expectedResult, stepRunResultDesc, browserType, runTime, screenshotUrl FROM case_step_run_detail WHERE testcaseId=%s AND runHistoryId = %s  ORDER BY id ASC  data：('18', 1520575570)
2018-03-09 14:07:26,586 htmlreporter.py[line: 211] INFO: 正在设置测试报告结果文件名
2018-03-09 14:07:26,586 htmlreporter.py[line: 222] INFO: 测试报告文件名所在路径为：E:\Projects\report\test_report20180309140726.html
2018-03-09 14:07:26,586 htmlreporter.py[line: 214] INFO: 正在生产测试报告
2018-03-09 14:07:26,589 main.py[line: 130] INFO: 生成测试报告成功
2018-03-09 14:07:26,590 main.py[line: 134] INFO: 运行完成,准备上传截图
2018-03-09 14:07:26,590 ftp.py[line: 42] INFO: is connecting to ftp server 10.1.2.88 on 21
2018-03-09 14:07:26,601 ftp.py[line: 47] INFO: ready to login ftp server
2018-03-09 14:07:26,703 ftp.py[line: 49] INFO: login ftp server successfully
2018-03-09 14:07:26,704 main.py[line: 138] INFO: 正在获取要上传的截图文件
2018-03-09 14:07:26,735 main.py[line: 146] INFO: 正在上传图片到ftp服务器
2018-03-09 14:07:26,737 ftp.py[line: 55] INFO: close ftp connection successfully
2018-03-09 14:07:26,737 main.py[line: 156] INFO: 运行完成，准备发送邮件
2018-03-09 14:07:28,010 main.py[line: 162] INFO: 邮件标题为：Hi，附件为web自动化测试报告，烦请查阅邮件内容为：{'E:\\Projects\\report\\test_report20180309140726.html'}，待发送邮件附件有 【测试报告】web自动化测试报告20180309140726
2018-03-09 14:07:28,010 main.py[line: 163] INFO: 正在发送测试报告邮件...
2018-03-09 14:07:28,960 main.py[line: 166] INFO: 发送邮件成功
2018-03-09 14:07:28,960 main.py[line: 172] INFO: 正在关闭数据库
